!function(){"use strict";var i=window.adsConfig,e=window.location,t=window.rapidInstance,n=window.rapidPageConfig,o=window.YAHOO,d=o.context,l=d.meta,a=void 0===l?{}:l,s=d.feature;a.siteAttribute,a.url;var r=n.rapidConfig;r&&r.keys;var v=o.i13n&&o.i13n.SPACEID,u=new RegExp(/rs="([^"]*)"/);var c=function(n,o,d,l){var a,r,c,f,w=window.DARLA;if(w){var g=null===(a=null==n?void 0:n.meta)||void 0===a?void 0:a.data,p=null==g?void 0:g.adMeta,m="",h=w.evtSettings("AUTO")||{ps:{}},A={autoIV:1,autoMax:25,autoRT:"10000"},O=i.clusterPositionMeta,x=void 0===O?{}:O,I=x.siteAttributes,P=void 0===I?"":I,L=x.addAutoEvent,C=void 0!==L&&L;(null===(c=null===(r=window.vzm)||void 0===r?void 0:r.getPageContext())||void 0===c?void 0:c.ynet)&&-1!==(null===(f=null==e?void 0:e.search)||void 0===f?void 0:f.indexOf("_spaceid"))&&(m=h.sp);var y=(null==p?void 0:p.site_attribute)||"";if(l&&P){var R=y.match(u);if(2===(null==R?void 0:R.length)&&t){var E=t.getRapidAttribute("keys"),D=E.pd,M=void 0===D?"":D,b=E.pt,B=void 0===b?"":b,T=E.site,S=void 0===T?"":T,W=E.ver,Y=void 0===W?"":W;y=y.replace(R[1],"".concat(R[1],";pt:").concat(B,";site:").concat(S,";ver:").concat(Y,";pd=").concat(M))}y+=" "+P}else y=h.sa;if(-1!==s.indexOf("enableMLWAfterArticle")){var k='hashtag="',N=y.indexOf(k),V=k.length+N;-1!==N?y=y.slice(0,V)+"widget-test;"+y.slice(V,y.length):y+=' hashtag="widget-test;"'}var H,U=function(e,t){var n,o,d;return t?null===(n=null==i?void 0:i.clusterPositionMeta)||void 0===n?void 0:n.positions.filter((function(i){return-1!==e.indexOf(i.id)})):(null===(o=null==i?void 0:i.clientPositionMeta)||void 0===o?void 0:o.positions)?null===(d=null==i?void 0:i.clientPositionMeta)||void 0===d?void 0:d.positions.filter((function(i){return-1!==e.indexOf(i.id)})):e.map((function(e){var t;return null===(t=null==i?void 0:i.positions[e])||void 0===t?void 0:t.meta}))}(o,l),_=[],j=(H=e.protocol+"//"+e.host,e.pathname&&(H+=e.pathname),H);if(null==U?void 0:U.length){for(var q=0,z=U;q<z.length;q++){var F=z[q];_.push(F.id),F.meta||(F.meta={}),F.meta.hostURL=j,C&&!h.ps[F.id]&&(h.ps[F.id]=Object.assign({},{id:F.id},A)),w.addPos(F)}C&&w.add(h),w.add(d,{name:d,ps:o,ref:e.href,sa:y,sp:(null==p?void 0:p.spaceid)||m||v}),w.event(d)}}},f=function(e,t,n,o){void 0===o&&(o=!1);var d=window.DARLA;i&&(!d||d.inProgress()?function(i,e,t,n){var o=0,d=setInterval((function(){var l=window.DARLA;if(l.inProgress()&&"AUTO"===l.inProgress()&&l.abort(),!l.inProgress())return clearInterval(d),void c(i,e,t,n);o>=20&&(clearInterval(d),l.inProgress()&&(l.abort(),c(i,e,t,n))),o++}),500)}(e,t,n,o):c(e,t,n,o))},w=window.wafer;function g(i){var e,t;if(null===(t=null===(e=window.adsConfig)||void 0===e?void 0:e.clientPositionMeta)||void 0===t?void 0:t.positions){var n=window.adsConfig.clientPositionMeta.positions.map((function(i){return i.id}));if(n.length>0){var o=document.getElementById(window.adsConfig.clientPositionMeta.positions[0].dest);o&&w&&w.utils&&w.utils.elementInView(o,{offsetY:window.adsConfig.clientViewportAdFetchYOffset},w.base.viewport)&&(w.removeListener&&w.removeListener("scroll",g),f(i,n,"CLIENTINVIEWPORT"))}}!function(){var i,e,t,n,o,d,l,a=(null===(i=document.querySelector("#Masterwrap .caas-share-section"))||void 0===i?void 0:i.clientWidth)||0;if(-1!==(null===(n=null===(t=null===(e=window.YAHOO)||void 0===e?void 0:e.context)||void 0===t?void 0:t.feature)||void 0===n?void 0:n.indexOf("modal2deeplinkRedirect"))){var s=document.getElementById("sda-LDRB2");s.style.marginLeft="".concat(a,"px"),s.style.textAlign="left"}if(-1!==(null===(l=null===(d=null===(o=window.YAHOO)||void 0===o?void 0:o.context)||void 0===d?void 0:d.feature)||void 0===l?void 0:l.indexOf("enableWidgetOnDeepLink"))){var r=document.getElementById("sda-WIDGET");r.style.marginLeft="".concat(a,"px"),r.style.textAlign="left"}}()}function p(){w.on("fetch:success",(function(i){var e,t,n=null===(e=null==i?void 0:i.meta)||void 0===e?void 0:e.url,o=null==n?void 0:n.includes("module=relatedStories"),d=null==n?void 0:n.includes("module=relatedContent"),l=null==n?void 0:n.includes("module=moreStories");if(o||d||l){var a=document.getElementById("sda-LDRB2-9"),s=null===(t=null==a?void 0:a.firstChild)||void 0===t?void 0:t.hasChildNodes();a&&!s&&f(i,["LDRB2-9"],"CLIENTSIDELDRB")}}))}w&&w.ready((function(){w.on("scroll",g),p()}),window)}();
//# sourceMappingURL=sda.js.map
