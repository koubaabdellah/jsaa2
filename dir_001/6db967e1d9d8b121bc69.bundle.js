(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[31],{412:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40),g=[{id:"newsletter-mobile",componentType:"newsletterMobile",condition:function(e){return m.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"mobile",component:"newsletter"})},component:function(e){var t=e.newsletterConfig,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"newsletter-mobile",props:{newsletterConfig:t,breakpoints:n,viewport:"mobile"},defaultConfig:I.a.getNewsletterConfig({newsletterConfig:t,breakpoints:n,viewport:"mobile"})})},resetCurrentItemTypeCurrentCounter:!1},{id:"newsletter-desktop",componentType:"newsletterDesktop",condition:function(e){return m.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"desktop",component:"newsletter"})},component:function(e){var t=e.newsletterConfig,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"newsletter-desktop",props:{newsletterConfig:t,breakpoints:n,viewport:"desktop"},defaultConfig:I.a.getNewsletterConfig({newsletterConfig:t,breakpoints:n,viewport:"desktop"})})},resetCurrentItemTypeCurrentCounter:!1}];function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;t.a=function(e){if(Array.isArray(e))return C(e)}(O=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},413:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40),g=[{id:"subscription-mobile",componentType:"subscriptionMobile",condition:function(e){return m.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"mobile",component:"subscription"})},component:function(e){var t=e.promoBoxSettings,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"subscription-mobile",props:{promoBoxSettings:t,breakpoints:n,viewport:"mobile"},defaultConfig:I.a.getSubscriptionConfig({promoBoxSettings:t,breakpoints:n,viewport:"mobile"})})},resetCurrentItemTypeCurrentCounter:!1},{id:"subscription-desktop",componentType:"subscriptionDesktop",condition:function(e){return m.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"desktop",component:"subscription"})},component:function(e){var t=e.promoBoxSettings,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"subscription-desktop",props:{promoBoxSettings:t,breakpoints:n,viewport:"desktop"},defaultConfig:I.a.getSubscriptionConfig({promoBoxSettings:t,breakpoints:n,viewport:"desktop"})})},resetCurrentItemTypeCurrentCounter:!1}];function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;t.a=function(e){if(Array.isArray(e))return C(e)}(O=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},414:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40),g=[{id:"inline-and-side",componentType:"desktopSideAndInlineAd",condition:function(e){return m.shouldInjectInlineAndSideAds(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return m.getConfig({localConfig:r,ruleName:"inline-and-side",props:t,defaultConfig:I.a.getDesktopAdsConfig(t)})},resetCurrentItemTypeCurrentCounter:!0},{id:"first-side",componentType:"desktopSideAndInlineAd",condition:function(e){return m.shouldInjectFirstSideAd(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return m.getConfig({localConfig:r,ruleName:"first-side",props:t,defaultConfig:I.a.getSideAdConfig(t)})}},{id:"final-side",componentType:"desktopSideAndInlineAd",condition:function(e){return m.shouldInjectFinalSideAd(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return m.getConfig({localConfig:r,ruleName:"final-side",props:t,defaultConfig:I.a.getSideAdConfig(t)})},resetCurrentItemTypeCurrentCounter:!0}];function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;t.a=function(e){if(Array.isArray(e))return C(e)}(O=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},415:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40),g=[{id:"digiteka-desktop",componentType:"digitekaDesktop",condition:function(e){return m.shouldInjectDigiteka({options:e,viewport:"desktop"})},component:function(e){var t=e.monetising,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"digiteka-desktop",props:{monetising:t,breakpoints:n,viewport:"desktop"},defaultConfig:I.a.getDigitekaConfig({monetising:t,breakpoints:n,viewport:"desktop"})})}},{id:"digiteka-mobile",componentType:"digitekaMobile",condition:function(e){return m.shouldInjectDigiteka({options:e,viewport:"mobile"})},component:function(e){var t=e.monetising,n=e.breakpoints,r=e.amp,o=e.localConfig,i=void 0===o?{}:o;return m.getConfig({localConfig:i,ruleName:"digiteka-mobile",props:{monetising:t,breakpoints:n,viewport:"mobile",amp:r},defaultConfig:I.a.getDigitekaConfig({monetising:t,breakpoints:n,viewport:"mobile",amp:r})})}}];function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;t.a=function(e){if(Array.isArray(e))return C(e)}(O=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},416:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){return m.isBetweenTwoTextBlocks(C({},e))&&function(e){var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineMobileAds,i=r.numberOfWordsForFirstInjectionMobile,u=r.minNumOfWordsAfterLastInlineAdMobile;if(!o&&0!==o||!i&&0!==i||!u&&0!==u)return!1;if(0===t)return n>=i;var s=n>=o,c=m.getWordCountFromCurrentIdxToEnd(C({},e));return s&&c>=u}(e)},j=[{id:"mobile-inline-ads",componentType:"mobileInlineAd",condition:function(e){return T(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return m.getConfig({localConfig:r,ruleName:"mobile-inline-ads",props:t,defaultConfig:I.a.getMobileAdsConfig(t)})},resetCurrentItemTypeCurrentCounter:!0}];function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v;t.a=function(e){if(Array.isArray(e))return A(e)}(v=j)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(v)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},417:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=[{id:"side-content",componentType:"sideContent",condition:function(e){return function(e){var t=e.currentType,n=e.currentRuleInjectedComponentCount,r=e.injectedArray,o=e.nextType;return m.isBetweenTwoTextBlocks({currentType:t,nextType:o})&&function(e){var t=e.injectedArray;return 0===e.sideContentCount&&t.find((function(e){return"DESKTOP_INLINE_ADVERT"===e.type}))}({injectedArray:r,sideContentCount:n})}(e)},component:function(e){var t=e.sideContent,n=e.localConfig,r=void 0===n?{}:n;return m.getConfig({localConfig:r,ruleName:"side-content",props:t,defaultConfig:[{type:"SIDE_CONTENT",props:t}]})}}];function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C;t.a=function(e){if(Array.isArray(e))return g(e)}(C=I)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(C)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},418:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40),g=[{id:"subscription-newsletter-mobile",componentType:"subscriptionNewsletterMobile",condition:function(e){return m.shouldInjectSubscriptionAndNewsletter({options:e,viewport:"mobile"})},component:function(e){var t=e.promoBoxSettings,n=e.newsletterConfig,r=e.breakpoints,o=e.localConfig,i=void 0===o?{}:o;return i["subscription-newsletter-mobile"]?i["subscription-newsletter-mobile"]({promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"mobile"}):I.a.getNewsletterSubscriptionConfig({promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"mobile"})},resetCurrentItemTypeCurrentCounter:!1},{id:"subscription-newsletter-desktop",componentType:"subscriptionNewsletterDesktop",condition:function(e){return m.shouldInjectSubscriptionAndNewsletter({options:e,viewport:"desktop"})},component:function(e){var t=e.promoBoxSettings,n=e.newsletterConfig,r=e.breakpoints,o=e.localConfig,i=void 0===o?{}:o;return m.getConfig({localConfig:i,ruleName:"subscription-newsletter-desktop",props:{promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"desktop"},defaultConfig:I.a.getNewsletterSubscriptionConfig({promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"desktop"})})},resetCurrentItemTypeCurrentCounter:!1}];function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;t.a=function(e){if(Array.isArray(e))return C(e)}(O=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},419:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},p=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,d=l.beforeInlineSubsDesktopAds,p=l.beforeInlineNewsletterDesktopAds,a=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=a===f,n=a):"desktop"===o&&(t=d===p,n=d),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},a=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,d=l.beforeInlineSubsMobileAds,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(a===d)return!1;t=a}else if("desktop"===r){if(f===p)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(a===d)return!1;t=d}else if("desktop"===r){if(f===p)return!1;t=p}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,d=c.beforeDigitekaMobileAds,p="desktop"===n?l:d;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=p)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:d,shouldInjectSubscriptionAndNewsletter:p,shouldInjectSubscriptionOrNewsletter:a}),I=n(40),g=[{id:"tead-ads",componentType:"teads",condition:function(e){return function(e){var t=e.amp,n=e.currentRuleInjectedComponentCount,r=e.currentRuleComponentTypeWordCount,o=e.currentType,i=e.nextType,u=e.props;return t&&m.isBetweenTwoTextBlocks({currentType:o,nextType:i})&&m.isRightNumberOfWordsForTeads({currentWordCount:r,teadsCount:n,props:u})}(e)},component:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.getConfig({localConfig:e,ruleName:"tead-ads",props:{},defaultConfig:I.a.getTeadsAdConfig()})},resetCurrentItemTypeCurrentCounter:!1}];function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O;t.a=function(e){if(Array.isArray(e))return C(e)}(O=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}]);