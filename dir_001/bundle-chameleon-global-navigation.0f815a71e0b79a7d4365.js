"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5374],{22220:function(n,t,e){e.r(t),e.d(t,{default:function(){return u}});var i=e(27378),a=(e(42668),e(4669)),r=e(65779),o=e(62339),c=e(62594),s=e(72220);function l(n,t,e,i,a,r,o){try{var c=n[r](o),s=c.value}catch(l){return void e(l)}c.done?t(s):Promise.resolve(s).then(i,a)}var u=n=>{var{data:{homepageLink:t,notificationsLink:e,accountLabel:u,signInLabel:p,accessibilityLinks:d,chameleonSearchLink:h,moreMenuLabel:m,closeButtonLabel:g,chameleonNavigationLinks:f},showServiceIdentifiers:L}=n,b="https://account.bbc.com/account",v=(0,r.TH)(),{host:y,language:_,country:I}=(0,c.B)(),k=!_||"cy"!==_&&"gd"!==_&&"en"!==_||_.endsWith("-GB")?_:"".concat(_,"-GB"),D="https://".concat(y).concat(v.pathname),[E,N]=(0,i.useState)({signedIn:!1,prompt:u,url:b}),S=y&&!y.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return(0,i.useEffect)((()=>{var n=(0,o.ej)({name:"ckns_id"}),t=new AbortController,{signal:e}=t,i=function(){var t,i=(t=function*(){try{var t=yield(0,a.Z)(S,{signal:e}),i=yield t.json();if("GREEN"===i["id-availability"])if(n)try{var r=JSON.parse(window.atob(n));N({signedIn:!0,prompt:r.dn?r.dn:u,url:b,hasDisplayName:!!r.dn})}catch(o){N({signedIn:!1,prompt:p,url:i.signin_url})}else N({signedIn:!1,prompt:p,url:i.signin_url})}catch(c){N({signedIn:!1,prompt:u,url:b})}},function(){var n=this,e=arguments;return new Promise((function(i,a){var r=t.apply(n,e);function o(n){l(r,i,a,o,c,"next",n)}function c(n){l(r,i,a,o,c,"throw",n)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();return i(),()=>{t.abort()}}),[u,S,p]),i.createElement(s.Z,{signedIn:E.signedIn,signInPrompt:E.prompt,signInUrl:E.url,hasDisplayName:E.hasDisplayName,signInPtrt:D,language:k,homepageLink:t,notificationsLink:e,accessibilityLinks:d,chameleonSearchLink:h,closeButtonLabel:g,items:f,country:I,moreMenuLabel:m,showServiceIdentifiers:L})}}}]);