"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _iterableToArrayLimit(e,t){var i=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var n,s,a=[],r=!0,o=!1;try{for(i=i.call(e);!(r=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);r=!0);}catch(e){o=!0,s=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw s}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){_defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}((function(e){var t,i=navigator.userAgent,n=/iphone/i.test(i),s=/chrome/i.test(i),a=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,r){var o,l,c,u,d,m,f;if(!i&&this.length>0){var p=e(this[0]).data(e.mask.dataName);return p?p():void 0}return r=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},r),o=e.mask.definitions,l=[],c=m=i.length,u=null,e.each(i.split(""),(function(e,t){"?"==t?(m--,c=e):o[t]?(l.push(new RegExp(o[t])),null===u&&(u=l.length-1),c>e&&(d=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){function p(){if(r.completed){for(var e=u;d>=e;e++)if(l[e]&&T[e]===h(e))return;r.completed.call(y)}}function h(e){return r.placeholder.charAt(e<r.placeholder.length?e:0)}function _(e){for(;++e<m&&!l[e];);return e}function g(e,t){var i,n;if(!(0>e)){for(i=e,n=_(t);m>i;i++)if(l[i]){if(!(m>n&&l[i].test(T[n])))break;T[i]=T[n],T[n]=h(n),n=_(n)}k(),y.caret(Math.max(u,e))}}function v(){x(),y.val()!=b&&y.change()}function M(e,t){var i;for(i=e;t>i&&m>i;i++)l[i]&&(T[i]=h(i))}function k(){y.val(T.join(""))}function x(e){var t,i,n,s=y.val(),a=-1;for(t=0,n=0;m>t;t++)if(l[t]){for(T[t]=h(t);n++<s.length;)if(i=s.charAt(n-1),l[t].test(i)){T[t]=i,a=t;break}if(n>s.length){M(t+1,m);break}}else T[t]===s.charAt(n)&&n++,c>t&&(a=t);return e?k():c>a+1?r.autoclear||T.join("")===D?(y.val()&&y.val(""),M(0,m)):k():(k(),y.val(y.val().substring(0,a+1))),c?t:u}var y=e(this),T=e.map(i.split(""),(function(e,t){return"?"!=e?o[e]?h(t):e:void 0})),D=T.join(""),b=y.val();y.data(e.mask.dataName,(function(){return e.map(T,(function(e,t){return l[t]&&e!=h(t)?e:null})).join("")})),y.one("unmask",(function(){y.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;y.prop("readonly")||(clearTimeout(t),b=y.val(),e=x(),t=setTimeout((function(){y.get(0)===document.activeElement&&(k(),e==i.replace("?","").length?y.caret(0,e):y.caret(e))}),10))})).on("blur.mask",v).on("keydown.mask",(function(e){if(!y.prop("readonly")){var t,i,s,a=e.which||e.keyCode;f=y.val(),8===a||46===a||n&&127===a?(i=(t=y.caret()).begin,(s=t.end)-i==0&&(i=46!==a?function(e){for(;--e>=0&&!l[e];);return e}(i):s=_(i-1),s=46===a?_(s):s),M(i,s),g(i,s-1),e.preventDefault()):13===a?v.call(this,e):27===a&&(y.val(b),y.caret(0,x()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!y.prop("readonly")){var i,n,s,r=t.which||t.keyCode,o=y.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>r)&&r&&13!==r){if(o.end-o.begin!=0&&(M(o.begin,o.end),g(o.begin,o.end-1)),i=_(o.begin-1),m>i&&(n=String.fromCharCode(r),l[i].test(n))){if(function(e){var t,i,n,s;for(t=e,i=h(e);m>t;t++)if(l[t]){if(n=_(t),s=T[t],T[t]=i,!(m>n&&l[n].test(s)))break;i=s}}(i),T[i]=n,k(),s=_(i),a){setTimeout((function(){e.proxy(e.fn.caret,y,s)()}),0)}else y.caret(s);o.begin<=d&&p()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){y.prop("readonly")||setTimeout((function(){var e=x(!0);y.caret(e),p()}),0)})),s&&a&&y.off("input.mask").on("input.mask",(function(){var e=y.val(),t=y.caret();if(f&&f.length&&f.length>e.length){for(x(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!l[t.begin];)t.begin++;y.caret(t.begin,t.begin)}else{for(x(!0);t.begin<m&&!l[t.begin];)t.begin++;y.caret(t.begin,t.begin)}p()})),x()}))}})})),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],e):e(jQuery)}((function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function _newInst($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}for(i in overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}},overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,(function(e){return e.toUpperCase()})),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,(function(e){return e.toUpperCase()})),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!==_typeof(timezoneList[0]))for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),!0===tp_inst._defaults.altRedirectFocus&&tp_inst.$altInput.css({cursor:"pointer"}).focus((function(){$input.trigger("focus")}))),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",(function(){tp_inst._onFocus()})),tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(t){return $.timepicker.log("Error parsing the date/time string: "+t+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var s=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!s&&($.extend(this,s),!0)},_afterInject:function(){var e=this.inst.settings;$.isFunction(e.afterInject)&&e.afterInject.call(this)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,n="",s="",a=null,r={},o={},l=null,c=0,u=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var d=" ui_tpicker_unit_hide",m='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&"select"===t.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(t.showTime?"":d)+'">'+t.timeText+'</dt><dd class="ui_tpicker_time '+(t.showTime?"":d)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(c=0,u=this.units.length;c<u;c++){if(a=null!==t["show"+(s=(n=this.units[c]).substr(0,1).toUpperCase()+n.substr(1))]?t["show"+s]:this.support[n],r[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+s],10),o[n]=0,m+='<dt class="ui_tpicker_'+n+"_label"+(a?"":d)+'">'+t[n+"Text"]+'</dt><dd class="ui_tpicker_'+n+(a?"":d)+'"><div class="ui_tpicker_'+n+"_slider"+(a?"":d)+'"></div>',a&&t[n+"Grid"]>0){if(m+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===n)for(var f=t[n+"Min"];f<=r[n];f+=parseInt(t[n+"Grid"],10)){o[n]++;var p=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:f},t);m+='<td data-for="'+n+'">'+p+"</td>"}else for(var h=t[n+"Min"];h<=r[n];h+=parseInt(t[n+"Grid"],10))o[n]++,m+='<td data-for="'+n+'">'+(h<10?"0":"")+h+"</td>";m+="</tr></table></div>"}m+="</dd>"}var _=null!==t.showTimezone?t.showTimezone:this.support.timezone;m+='<dt class="ui_tpicker_timezone_label'+(_?"":d)+'">'+t.timezoneText+"</dt>",m+='<dd class="ui_tpicker_timezone'+(_?"":d)+'"></dd>';var g=$(m+="</dl></div>");for(!0===t.timeOnly&&(g.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,u=i.units.length;c<u;c++)a=null!==t["show"+(s=(n=i.units[c]).substr(0,1).toUpperCase()+n.substr(1))]?t["show"+s]:this.support[n],i[n+"_slider"]=i.control.create(i,g.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],r[n],t["step"+s]),a&&t[n+"Grid"]>0&&(l=100*o[n]*t[n+"Grid"]/(r[n]-t[n+"Min"]),g.find(".ui_tpicker_"+n+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*o[n])+"%",marginRight:t.isRTL?l/(-2*o[n])+"%":"0",borderCollapse:"collapse"}).find("td").click((function(e){var t=$(this),s=t.html(),a=parseInt(s.replace(/[^0-9]/g),10),r=s.replace(/[^apm]/gi),o=t.data("for");"hour"===o&&(-1!==r.indexOf("p")&&a<12?a+=12:-1!==r.indexOf("a")&&12===a&&(a=0)),i.control.value(i,i[o+"_slider"],n,a),i._onTimeChange(),i._onSelectHandler()})).css({cursor:"pointer",width:100/o[n]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=g.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,(function(e,t){return $("<option />").val("object"===_typeof(e)?e.value:e).text("object"===_typeof(e)?e.label:e)}))),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone)-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone);else void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change((function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()}));var v=e.find(".ui-datepicker-buttonpane");if(v.length?v.before(g):e.append(g),this.$timeObj=g.find(".ui_tpicker_time_input"),this.$timeObj.change((function(){var e=i.inst.settings.timeFormat,t=$.datepicker.parseTime(e,this.value),n=new Date;t?(n.setHours(t.hour),n.setMinutes(t.minute),n.setSeconds(t.second),$.datepicker._setTime(i.inst,n)):(this.value=i.formattedTime,this.blur())})),null!==this.inst){var M=this.timeDefined;this._onTimeChange(),this.timeDefined=M}if(this._defaults.addSliderAccess){var k=this._defaults.sliderAccessArgs,x=this._defaults.isRTL;k.isRTL=x,setTimeout((function(){if(0===g.find(".ui-slider-access").length){g.find(".ui-slider:visible").sliderAccess(k);var e=g.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&g.find("table:visible").each((function(){var t=$(this),i=t.outerWidth(),n=t.css(x?"marginRight":"marginLeft").toString().replace("%",""),s=i-e,a=n*s/i+"%",r={width:s,marginRight:0,marginLeft:0};r[x?"marginRight":"marginLeft"]=a,t.css(r)}))}}),10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&n){var s=$.datepicker._get(e,"minDateTime"),a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||a.getTime()===n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&n){var r=$.datepicker._get(e,"maxDateTime"),o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||o.getTime()===n.getTime()?(this._defaults.hourMax=r.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=r.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=r.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=r.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=r.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var l=new Date("01/01/1970 "+e.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0}if(null!==e.settings.maxTime){var c=new Date("01/01/1970 "+e.settings.maxTime);this.hour>c.getHours()?(this.hour=this._defaults.hourMax=c.getHours(),this.minute=this._defaults.minuteMax=c.getMinutes()):this.hour===c.getHours()&&this.minute>c.getMinutes()?this.minute=this._defaults.minuteMax=c.getMinutes():this._defaults.hourMax>c.getHours()?(this._defaults.hourMax=c.getHours(),this._defaults.minuteMax=c.getMinutes()):this._defaults.hourMax===c.getHours()===this.hour&&this._defaults.minuteMax>c.getMinutes()?this._defaults.minuteMax=c.getMinutes():this._defaults.minuteMax=59}if(void 0!==t&&!0===t){var u=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),d=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),m=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),f=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:u,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:d,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:m,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:f,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),n=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),s=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),a=!!this.timezone_select&&this.timezone_select.val(),r=this._defaults,o=r.pickerTimeFormat||r.timeFormat,l=r.pickerTimeSuffix||r.timeSuffix;"object"===_typeof(e)&&(e=!1),"object"===_typeof(t)&&(t=!1),"object"===_typeof(i)&&(i=!1),"object"===_typeof(n)&&(n=!1),"object"===_typeof(s)&&(s=!1),"object"===_typeof(a)&&(a=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==n&&(n=parseInt(n,10)),!1!==s&&(s=parseInt(s,10)),!1!==a&&(a=a.toString());var c=r[e<12?"amNames":"pmNames"][0],u=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||s!==parseInt(this.microsec,10)||this.ampm.length>0&&e<12!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&a!==this.timezone.toString();if(u&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==i&&(this.second=i),!1!==n&&(this.millisec=n),!1!==s&&(this.microsec=s),!1!==a&&(this.timezone=a),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(o===r.timeFormat?this.$timeObj.val(this.formattedTime+l):this.$timeObj.val($.datepicker.formatTime(o,this,r)+l),this.$timeObj[0].setSelectionRange)){var d=this.$timeObj[0].selectionStart,m=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(d,m)}this.timeDefined=!0,u&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),n=$.datepicker._get(e,"dateFormat"),s=$.datepicker._getFormatConfig(e),a=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,null===i?new Date:i,s);var r=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?r=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||a)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(r+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=r,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(r);var o="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,c=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(o=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,s):this.formattedDate)&&(o+=l),null!==this._defaults.altTimeFormat?o+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+c:o+=this.formattedTime+c,this.$altInput.val(o)}else this.$input.val(r);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}},_controls:{slider:{create:function(e,t,i,n,s,a,r){var o=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:o?-1*n:n,min:o?-1*a:s,max:o?-1*s:a,step:r,slide:function(t,n){e.control.value(e,$(this),i,o?-1*n.value:n.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,n,s){if(e._defaults.isRTL){if("string"==typeof n)return"min"===n||"max"===n?void 0!==s?t.slider(n,-1*s):Math.abs(t.slider(n)):t.slider(n);var a=n.min,r=n.max;return n.min=n.max=null,void 0!==a&&(n.max=-1*a),void 0!==r&&(n.min=-1*r),t.slider(n)}return"string"==typeof n&&void 0!==s?t.slider(n,s):t.slider(n)},value:function(e,t,i,n){return e._defaults.isRTL?void 0!==n?t.slider("value",-1*n):Math.abs(t.slider("value")):void 0!==n?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,i,n,s,a,r){for(var o='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+s+'" data-max="'+a+'" data-step="'+r+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=s;c<=a;c+=r)o+='<option value="'+c+'"'+(c===n?" selected":"")+">",o+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"===i||"microsec"===i||c>=10?c:"0"+c.toString(),o+="</option>";return o+="</select>",t.children("select").remove(),$(o).appendTo(t).change((function(t){e._onTimeChange(),e._onSelectHandler(),e._afterInject()})),t},options:function(e,t,i,n,s){var a={},r=t.children("select");if("string"==typeof n){if(void 0===s)return r.data(n);a[n]=s}else a=n;return e.control.create(e,t,r.data("unit"),r.val(),a.min>=0?a.min:r.data("min"),a.max||r.data("max"),a.step||r.data("step"))},value:function(e,t,i,n){var s=t.children("select");return void 0!==n?s.val(n):s.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"===_typeof(e)&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each((function(){$.fn.datetimepicker.apply($(this),t)}))},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each((function(){var e=$(this);e.datepicker.apply(e,t)})):this.each((function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)}))}}),$.datepicker.parseDateTime=function(e,t,i,n,s){var a=parseDateTimeInternal(e,t,i,n,s);if(a.timeObj){var r=a.timeObj;a.date.setHours(r.hour,r.minute,r.second,r.millisec),a.date.setMicroseconds(r.microsec)}return a.date},$.datepicker.parseTime=function(e,t,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),s=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var n,s="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){var t,n,s,a=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===a?"(\\d?\\d)":"(\\d{"+a+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=i.amNames,n=i.pmNames,s=[],t&&$.merge(s,t),n&&$.merge(s,n),"("+(s=$.map(s,(function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}))).join("|")+")?";default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,(function(e){return"\\"+e}))+")?"}})).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var n=0;n<t.length;n++)-1===i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i}(e),r="",o={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(n=t.match(new RegExp(s,"i")))&&(-1!==a.t&&(void 0===n[a.t]||0===n[a.t].length?(r="",o.ampm=""):(r=-1!==$.inArray(n[a.t].toUpperCase(),$.map(i.amNames,(function(e,t){return e.toUpperCase()})))?"AM":"PM",o.ampm=i["AM"===r?"amNames":"pmNames"][0])),-1!==a.h&&("AM"===r&&"12"===n[a.h]?o.hour=0:"PM"===r&&"12"!==n[a.h]?o.hour=parseInt(n[a.h],10)+12:o.hour=Number(n[a.h])),-1!==a.m&&(o.minute=Number(n[a.m])),-1!==a.s&&(o.second=Number(n[a.s])),-1!==a.l&&(o.millisec=Number(n[a.l])),-1!==a.c&&(o.microsec=Number(n[a.c])),-1!==a.z&&void 0!==n[a.z]&&(o.timezone=$.timepicker.timezoneOffsetNumber(n[a.z])),o)});return"function"==typeof n.parse?n.parse(e,t,n):"loose"===n.parse?function(e,t,i){try{var n=new Date("2012-01-01 "+t);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+t),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+t),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),microsec:n.getMicroseconds(),timezone:-1*n.getTimezoneOffset()}}catch(n){try{return s(e,t,i)}catch(i){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,n):s(e,t,n)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var n=e,s=i.amNames[0],a=parseInt(t.hour,10);return a>11&&(s=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,(function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/'/g,"")}}))},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i,n=this._getInst($(e)[0]),s=this._get(n,"timepicker");s&&n.settings.showTimepicker?(s._limitMinMaxDateTime(n,!0),i=n.inline,n.inline=n.stay_open=!0,this._base_selectDate(e,t),n.inline=i,n.stay_open=!1,this._notifyChange(n),this._updateDatepicker(n)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var n=i.support.ampm,s=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,a=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(s?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+a,o=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||o<" "||!a||r.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){t._defaults.altFormat||t._defaults.dateFormat;var n=this._getDate(e),s=$.datepicker._getFormatConfig(e),a="",r=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,o=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;a+=$.datepicker.formatTime(l,t,t._defaults)+o,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===n||(a=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,n,s)+r+a:t.formattedDate+r+a),$(i).val(e.input.val()?a:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var i=this._get(t,"timepicker");if(i){var n=$.timepicker.timezoneOffsetNumber(i.timezone),s=new Date;s.setMinutes(s.getMinutes()+s.getTimezoneOffset()+parseInt(n,10)),this._setTime(t,s),this._setDate(t,s),i._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var n=i._defaults;i.hour=t?t.getHours():n.hour,i.minute=t?t.getMinutes():n.minute,i.second=t?t.getSeconds():n.second,i.millisec=t?t.getMilliseconds():n.millisec,i.microsec=t?t.getMicroseconds():n.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(n){var s,a=this._get(n,"timepicker");if(a)this._setDateFromField(n),t&&("string"==typeof t?(a._parseTime(t,i),(s=new Date).setHours(a.hour,a.minute,a.second,a.millisec),s.setMicroseconds(a.microsec)):(s=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===s.toString()&&(s=void 0),this._setTime(n,s))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e),n=t;if(i){"string"==typeof t&&((n=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),n=$(e).datepicker("getDate")));var s,a=this._get(i,"timepicker");n instanceof Date?(s=new Date(n.getTime())).setMicroseconds(n.getMicroseconds()):s=n,a&&s&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=-1*s.getTimezoneOffset()),n=$.timepicker.timezoneAdjust(n,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset()),a.timezone),s=$.timepicker.timezoneAdjust(s,$.timepicker.timezoneOffsetString(-s.getTimezoneOffset()),a.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,s,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,t);var s=this._getDate(i),a=null;return a=n.$altInput&&n._defaults.altFieldTimeOnly?n.$input.val()+" "+n.$altInput.val():"INPUT"!==n.$input.get(0).tagName&&n.$altInput?n.$altInput.val():n.$input.val(),s&&n._parseTime(a,!i.settings.timeOnly)&&(s.setHours(n.hour,n.minute,n.second,n.millisec),s.setMicroseconds(n.microsec),null!=n.timezone&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=-1*s.getTimezoneOffset()),s=$.timepicker.timezoneAdjust(s,n.timezone,$.timepicker.timezoneOffsetString(-s.getTimezoneOffset())))),s}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var n;try{n=this._base_parseDate(e,t,i)}catch(s){if(!(s.indexOf(":")>=0))throw s;n=this._base_parseDate(e,t.substring(0,t.length-(s.length-s.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+s+"\ndate string = "+t+"\ndate format = "+e)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,n){var s=this._get(e,"timepicker");return s?(s._updateDateTime(e),s.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var n,s=this._getInst(e);if(!s)return null;var a=this._get(s,"timepicker");if(a){var r,o,l,c,u=null,d=null,m=null,f=a._defaults.evnts,p={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)u=i;else if("maxDate"===t||"maxDateTime"===t)d=i;else if("onSelect"===t)m=i;else if(f.hasOwnProperty(t)){if(void 0===i)return f[t];p[t]=i,n={}}}else if("object"===_typeof(t))for(r in t.minDate?u=t.minDate:t.minDateTime?u=t.minDateTime:t.maxDate?d=t.maxDate:t.maxDateTime&&(d=t.maxDateTime),f)f.hasOwnProperty(r)&&t[r]&&(p[r]=t[r]);for(r in p)p.hasOwnProperty(r)&&(f[r]=p[r],n||(n=$.extend({},t)),delete n[r]);if(n&&isEmptyObject(n))return;if(u?(u=0===u?new Date:new Date(u),a._defaults.minDate=u,a._defaults.minDateTime=u):d?(d=0===d?new Date:new Date(d),a._defaults.maxDate=d,a._defaults.maxDateTime=d):m&&(a._defaults.onSelect=m),u||d)return l=(c=$(e)).datetimepicker("getDate"),o=this._base_optionDatepicker.call($.datepicker,e,n||t,i),c.datetimepicker("setDate",l),o}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,n||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){for(var i in $.extend(e,t),t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return 0===(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),n=computeEffectiveSetting(t,"timeFormat").split(i).length,s=e.split(i),a=s.length;return a>1?{dateString:s.splice(0,a-n).join(i),timeString:s.splice(0,n).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,n,s){var a,r,o;if(r=splitDateTime(i,s),a=$.datepicker._base_parseDate(e,r.dateString,n),""===r.timeString)return{date:a};if(!(o=$.datepicker.parseTime(t,r.timeString,s)))throw"Wrong time format";return{date:a,timeObj:o}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var i=e%60,n=(e-i)/60,s=t?":":"",a=(e>=0?"+":"-")+("0"+Math.abs(n)).slice(-2)+s+("0"+Math.abs(i)).slice(-2);return"+00:00"===a?"Z":a},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},$.timepicker.timezoneAdjust=function(e,t,i){var n=$.timepicker.timezoneOffsetNumber(t),s=$.timepicker.timezoneOffsetNumber(i);return isNaN(s)||e.setMinutes(e.getMinutes()+-n- -s),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,n){n=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},n);var s=!1;function a(s,a){var r=t[e]("getDate"),o=i[e]("getDate"),l=s[e]("getDate");if(null!==r){var c=new Date(r.getTime()),u=new Date(r.getTime());c.setMilliseconds(c.getMilliseconds()+n.minInterval),u.setMilliseconds(u.getMilliseconds()+n.maxInterval),n.minInterval>0&&c>o?i[e]("setDate",c):n.maxInterval>0&&u<o?i[e]("setDate",u):r>o&&a[e]("setDate",l)}}function r(t,i,s){if(t.val()){var a=t[e].call(t,"getDate");null!==a&&n.minInterval>0&&("minDate"===s&&a.setMilliseconds(a.getMilliseconds()+n.minInterval),"maxDate"===s&&a.setMilliseconds(a.getMilliseconds()-n.minInterval)),a.getTime&&i[e].call(i,"option",s,a)}}return"timepicker"===e&&(s=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:s,onClose:function(e,t){a($(this),i)},onSelect:function(e){r($(this),i,"minDate")}},n,n.start)),$.fn[e].call(i,$.extend({timeOnly:s,onClose:function(e,i){a($(this),t)},onSelect:function(e){r($(this),t,"maxDate")}},n,n.end)),a(t,i),r(t,i,"minDate"),r(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.6.3"}})),function(e){e.fn.extend({sliderAccess:function(t){return(t=t||{}).touchonly=void 0===t.touchonly||t.touchonly,!0!==t.touchonly||"ontouchend"in document?e(this).each((function(i,n){var s=e(this),a=e.extend({},{where:"after",step:s.slider("option","step"),upIcon:"ui-icon-plus",downIcon:"ui-icon-minus",text:!1,upText:"+",downText:"-",buttonset:!0,buttonsetTag:"span",isRTL:!1},t),r=e("<"+a.buttonsetTag+' class="ui-slider-access"><button data-icon="'+a.downIcon+'" data-step="'+(a.isRTL?a.step:-1*a.step)+'">'+a.downText+'</button><button data-icon="'+a.upIcon+'" data-step="'+(a.isRTL?-1*a.step:a.step)+'">'+a.upText+"</button></"+a.buttonsetTag+">");r.children("button").each((function(t,i){var n=e(this);n.button({text:a.text,icons:{primary:n.data("icon")}}).click((function(e){var t=n.data("step"),i=s.slider("value"),a=i+=1*t,r=s.slider("option","min"),o=s.slider("option","max"),l=s.slider("option","slide")||function(){},c=s.slider("option","stop")||function(){};e.preventDefault(),a<r||a>o||(s.slider("value",a),l.call(s,null,{value:a}),c.call(s,null,{value:a}))}))})),s[a.where](r),a.buttonset&&(r.removeClass("ui-corner-right").removeClass("ui-corner-left").buttonset(),r.eq(0).addClass("ui-corner-left"),r.eq(1).addClass("ui-corner-right"));var o=r.css({marginLeft:"after"===a.where&&!a.isRTL||"before"===a.where&&a.isRTL?10:0,marginRight:"before"===a.where&&!a.isRTL||"after"===a.where&&a.isRTL?10:0}).outerWidth(!0)+5,l=s.outerWidth(!0);s.css("display","inline-block").width(l-o)})):e(this)}})}(jQuery);var giveFFMDateField={setDatePicker:function(){jQuery("body").on("focus",".give-ffm-date",(function(){var e=jQuery(this),t=jQuery("body").hasClass("wp-admin")?give_ffm_formbuilder:give_ffm_frontend;if(e.hasClass("give-ffm-timepicker")){var i=new Date,n=i.getHours(),s=i.getMinutes();e.datetimepicker({dateFormat:e.data("dateformat"),timeFormat:e.data("timeformat"),hour:n,minute:s,currentText:t.i18n.timepicker.now,closeText:t.i18n.timepicker.done,timeOnlyTitle:t.i18n.timepicker.choose_time,timeText:t.i18n.timepicker.time,hourText:t.i18n.timepicker.hour,minuteText:t.i18n.timepicker.minute})}else e.datepicker({dateFormat:e.data("dateformat")})}))}},give_ffm_frontend;!function(e){var t={init:function(){var i=e("body");i.on("click",".give-form .ffm-clone-field",this.cloneField),i.on("click",".give-form .ffm-remove-field",this.removeField),i.on("click.FFMevent touchend.FFMevent",'input[type="submit"].give-submit',this.validateOnSubmit),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),this.revealFields(),this.applyMasks(),this.attachStateEvents(),this.restoreState(),e(document).ajaxSuccess(this.resetForm),giveFFMDateField.setDatePicker(),e(document).ajaxComplete((function(e,i,n){switch(t.get_parameter("action",n.data)){case"give_load_gateway":t.restoreState()}})),e(document).on("mfpOpen",(function(i){t.resetForm.bind(e(".mfp-content form"))()})),-1!==window.location.href.indexOf("donation-confirmation")&&t.storage.clear()},fieldsList:{},setFormState:function(i){var n=i.target.parentElement.closest("form"),s=["INPUT","SELECT","TEXTAREA"],a=Array.from(n.elements).filter((function(e){return!(!s.includes(e.nodeName)||e.closest('[data-field-type="ffm-repeat"]')||e.closest('[data-field-type="ffm-wp-editor"]'))&&e.closest(".ffm-field-container")})).map((function(e){return e.name})).filter((function(e,t,i){return i.indexOf(e)===t}));if(a){var r=n.getAttribute("id"),o=t.storage.get("state"),l=e(n).serializeArray().filter((function(e){return a.includes(e.name)})),c=_objectSpread(_objectSpread({},o),{},_defineProperty({},r,l));t.storage.set("state",c)}},setRepeaterFieldsState:function(e){e.target.setAttribute("value",e.target.value);var i=e.target.parentElement.closest("form");if(i){var n=i.getAttribute("id");i.querySelectorAll(".give-repeater-table").forEach((function(e,i){t.storage.set("repeater-".concat(n,"-").concat(i),e.innerHTML)}))}},restoreState:function(){var e=t.storage.get("state");if(e)for(var i=function(){for(var e=_slicedToArray(s[n],2),i=e[0],a=e[1],r={},o=0,l=Object.values(a);o<l.length;o++){var c=l[o];r=_objectSpread(_objectSpread({},r),{},_defineProperty({},c.name,[c.value].concat(_toConsumableArray(r[c.name]||[]))))}for(var u=function(){var e=_slicedToArray(m[d],2),t=e[0],i=e[1];document.querySelectorAll('[name="'.concat(t,'"]')).forEach((function(e){switch(e.type){case"checkbox":case"radio":e.checked=i.includes(e.value);break;case"select-multiple":Object.values(e.options).forEach((function(e){e.selected=e.value&&i.includes(e.value)}));break;default:e.value=i[0]}}))},d=0,m=Object.entries(r);d<m.length;d++)u();document.querySelectorAll("form#".concat(i," .give-repeater-table")).forEach((function(e,n){var s=t.storage.get("repeater-".concat(i,"-").concat(n));s&&(e.innerHTML=s)}))},n=0,s=Object.entries(e);n<s.length;n++)i()},attachStateEvents:function(){document.querySelectorAll(".give-form").forEach((function(e){var i=e.getAttribute("id");e.addEventListener("change",t.setFormState,!1),document.addEventListener("keyup",(function(e){e.target.matches("form#".concat(i," .give-repeater-table input"))&&t.setRepeaterFieldsState(e)}),!1)}))},storage:{set:function(e,t){sessionStorage.setItem("ffm-".concat(e),JSON.stringify(t))},get:function(e){var t=sessionStorage.getItem("ffm-".concat(e));if(t)return JSON.parse(t)},clear:function(){for(var e=0,t=Object.keys(sessionStorage);e<t.length;e++){var i=t[e];-1!==i.indexOf("ffm-")&&sessionStorage.removeItem(i)}}},validateOnSubmit:function(i){var n=e(this).parents("form.give-form");e('input[name="give-form-id"]').val();return 0===n.length||(!!t.validateForm(n)||(i.stopImmediatePropagation(),void i.preventDefault()))},resetForm:function(){e("textarea.rich-editor",this).each((function(){var t=e(this).attr("name");tinyMCE.execCommand("mceFocus",!1,t),tinyMCE.execCommand("mceRemoveEditor",!1,t),tinyMCE.execCommand("mceAddEditor",!1,t)})),t.applyMasks()},revealFields:function(){e(".give-display-reveal").each((function(){var t=e(this).find(".give-btn-reveal"),i=t.nextAll("#give-ffm-section");i.hide(),t.on("click",(function(){i.slideDown()}))}))},applyMasks:function(){e('form.give-form .js-phone-domestic input[type="tel"]').mask("(999) 999-9999")},cloneField:function(t){t.preventDefault();var i=e(this).closest("tr"),n=i.siblings().addBack().length,s=i.clone(),a=e(this).closest(".give-repeater-table").data("max-repeat");if(a-1===n){var r=s.find(".ffm-clone-field").get(0);e(r).css({opacity:"0.4",color:"rgba(51, 51, 51, 0.5)"}),e(r).attr("data-tooltip",give_ffm_frontend.i18n.repeater.max_rows),e(r).attr("aria-label",give_ffm_frontend.i18n.repeater.max_rows)}(0===a||n<a)&&(s.find("input").removeAttr("value").val(""),s.find(":checked").attr("checked",""),i.after(s),e(this).closest(".float-labels-enabled")&&give_fl_trigger())},removeField:function(){var t=e(this).closest("tr"),i=t.closest("table").attr("id");t.siblings().addBack().length>1&&t.remove(),e(document).trigger("giveFFMCacheField",[i])},validateForm:function(i){var n,s=!1,a=i.find(".ffm-field-container");if(t.removeErrors(i),t.removeErrorNotice(i),a.each((function(i,n){var a=e(n).data("field-type"),r="";e(n).find("input").each((function(i,n){switch(a){case"email":""!==(r=e(n).val())&&(t.isValidEmail(r)||(s=!0,t.markError(n)));break;case"url":""!==(r=e(n).val())&&(t.isValidURL(r)||(s=!0,t.markError(n)));break;case"ffm-date":if(""!==(r=e(n).val())){var o=e(n).data("dateformat"),l=e(n).data("timeformat");t.isValidDate(r,o,l)||(s=!0,t.markError(n))}}}))})),s)return t.addErrorNotice(i),!1;var r=i.serialize(),o=[];return e(".ffm-rich-validation").each((function(t,i){n=e(i).data("id");var s=e.trim(tinyMCE.get(n).getContent());o.push(n+"="+encodeURIComponent(s))})),r=r+"&"+o.join("&")},addErrorNotice:function(t){var i=e(t).find(".give-submit"),n=e(t).find("[id^=give-final-total-wrap]");i.attr("disabled",!1).val(e(t).find("#give-purchase-button").data("before-validation-label")).blur(),n.before('<div class="ffm-error give_errors"><p class="give_error">'+give_ffm_frontend.error_message+"</p></div>"),e(t).find(".give-loading-animation").fadeOut()},removeErrorNotice:function(t){e(t).find(".ffm-error.give_errors").remove()},markError:function(t){e(t).closest(".form-row").addClass("give-has-error"),e(t).focus()},removeErrors:function(t){e(t).find(".give-has-error").removeClass("give-has-error")},isValidEmail:function(e){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e)},isValidURL:function(e){return new RegExp("^(http://www.|https://www.|ftp://www.|www.|http://|https://){1}([0-9A-Za-z]+.)").test(e)},isValidDate:function(t,i,n){try{if(!e.datepicker.parseDateTime(i,n,t,null,{timeFormat:n}))return!1}catch(e){return!1}return!0},get_parameter:function(e,t){if(!e)return!1;t||(t=window.location.href),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp(e+"=([^&#]*)").exec(t);return null!==i&&i[1]}};e((function(){t.init()}))}(jQuery),function(e){window.Give_FFM_Uploader=function(t,i,n,s,a,r){this.container=i,this.browse_button=t,this.max=n||1,this.count=e("#"+i).find(".ffm-attachment-list > li").length,e("#"+t).length&&(this.uploader=new plupload.Uploader({runtimes:"html5,html4",browse_button:t,container:i,multipart:!0,multipart_params:{action:"ffm_file_upload"},multiple_queues:!1,multi_selection:!1,urlstream_upload:!0,file_data_name:"ffm_file",max_file_size:r+"kb",url:give_ffm_frontend.plupload.url+"&type="+s,flash_swf_url:give_ffm_frontend.flash_swf_url,filters:[{title:"Allowed Files",extensions:a}]}),this.uploader.bind("Init",e.proxy(this,"init")),this.uploader.bind("FilesAdded",e.proxy(this,"added")),this.uploader.bind("QueueChanged",e.proxy(this,"upload")),this.uploader.bind("UploadProgress",e.proxy(this,"progress")),this.uploader.bind("Error",e.proxy(this,"error")),this.uploader.bind("FileUploaded",e.proxy(this,"uploaded")),this.uploader.init(),e("#"+i).on("click","a.attachment-delete",e.proxy(this.removeAttachment,this)))},Give_FFM_Uploader.prototype={init:function(e,t){this.showHide()},showHide:function(){this.count>=this.max?e("#"+this.container).find(".file-selector").hide():e("#"+this.container).find(".file-selector").show()},added:function(t,i){var n=e("#"+this.container).find(".ffm-attachment-upload-filelist");this.count+=1,this.showHide(),e.each(i,(function(e,t){n.append('<div class="upload-item" id="'+t.id+'"><div class="progress progress-striped active"><div class="bar"></div></div><div class="filename original">'+t.name+" ("+plupload.formatSize(t.size)+") <b></b></div></div>")})),t.refresh(),t.start()},upload:function(e){this.uploader.start()},progress:function(t,i){var n=e("#"+i.id);e(".bar",n).css({width:i.percent+"%"}),e(".percent",n).html(i.percent+"%")},error:function(t,i){e("#"+this.container).find("#"+i.file.id).remove(),alert("Error #"+i.code+": "+i.message),this.count-=1,this.showHide(),this.uploader.refresh()},uploaded:function(t,i,n){(e("#"+i.id+" b").html("100%"),e("#"+i.id).remove(),"error"!==n.response)?e("#"+this.container).find(".ffm-attachment-list").append(n.response):(alert(res.error),this.count-=1,this.showHide())},removeAttachment:function(t){t.preventDefault();var i=this,n=e(t.currentTarget);if(confirm(give_ffm_frontend.confirmMsg)){var s={attach_id:n.data("attach_id"),nonce:give_ffm_frontend.nonce,action:"ffm_file_del"};jQuery.post(give_ffm_frontend.ajaxurl,s,(function(){n.parent().parent().remove(),i.count-=1,i.showHide(),i.uploader.refresh()}))}}}}(jQuery);