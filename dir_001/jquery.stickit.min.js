!function(a){function b(b,c){this.element=a(b),this.lastValues={},a.isArray(c)||(c=[c||{}]),c.length||c.push({}),this.optionList=c;var d=this.element.css("transform")||"";this.defaultZIndex=this.element.css("z-index")||100,"auto"==this.defaultZIndex?this.defaultZIndex=100:"0"==this.defaultZIndex&&"none"!=d&&(this.defaultZIndex=100),this.updateOptions(),this.offsetY=0,this.lastY=0,this.stick=r.None,this.spacer=a("<div />"),this.spacer[0].id=b.id,this.spacer[0].className=b.className,this.spacer[0].style.cssText=b.style.cssText,this.spacer.addClass(i),this.spacer[0].style.cssText+=";visibility: hidden !important;display: none !important",this.spacer.insertAfter(this.element),"static"==this.element.parent().css("position")&&this.element.parent().css("position","relative"),this.origWillChange=this.element.css("will-change"),"auto"==this.origWillChange&&this.element.css("will-change","transform"),"none"==d?this.element.css("transform","translateZ(0)"):d.indexOf("matrix3d")==-1&&this.element.css("transform",this.element.css("transform")+" translateZ(0)"),this.bound(),this.precalculate(),this.store()}function c(){u=window.innerHeight||document.documentElement.clientHeight,v=window.innerWidth||document.documentElement.clientWidth,d()}function d(){t=!0,a(j).each(function(){a(this).data(h).refresh()}),setTimeout(function(){t=!1})}function e(){t=!0,a(j).each(function(){a(this).data(h).locate()}),setTimeout(function(){t=!1})}function f(){var b=!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);a(j).each(function(){a(this).data(h).enableWillChange(!b)})}function g(a){t||d()}var h="jquery-stickit",i=h+"-spacer",j=":"+h,k=navigator.userAgent.indexOf("MSIE 7.0")!=-1,l=k?-2:0,m=void 0!==window.MutationObserver,n="animationend webkitAnimationEnd oAnimationEnd",o="transitionend webkitTransitionEnd oTransitionEnd",p="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",q=window.StickScope={Parent:0,Document:1},r={None:0,Fixed:1,Absolute:2},s=!1,t=!1;a.expr[":"][h]=function(b){return!!a(b).data(h)},b.prototype.trigger=function(a){var b="on"+a.charAt(0).toUpperCase()+a.slice(1);this.options[b]&&this.options[b].call(this.element),this.element.trigger("stickit:"+a)},b.prototype.isActive=function(a){return(void 0===a.screenMinWidth||v>=a.screenMinWidth)&&(void 0===a.screenMaxWidth||v<=a.screenMaxWidth)},b.prototype.updateCss=function(a){this.element.hasClass(this.options.className)&&a.className!=this.options.className&&this.element.removeClass(this.options.className).addClass(a.className);var b={};this.stick==r.Absolute?this.options.extraHeight!=a.extraHeight&&(b.bottom=-this.options.extraHeight+"px"):this.options.top!=a.top&&(b.top=a.top+this.offsetY+"px"),this.options.zIndex!=a.zIndex&&(b.zIndex=this.getZIndex(a)),this.element.css(b)},b.prototype.updateOptions=function(){var a=this.getActiveOptionsKey();if(this.activeKey!=a){this.activeKey=a;var b=this.getActiveOptions();this.options&&(a?this.stick!=r.None&&(b.scope==this.options.scope?this.updateCss(b):(this.reset(),setTimeout(this.locate.bind(this)))):this.reset()),this.options=b,this.zIndex=this.getZIndex(b)}},b.prototype.getZIndex=function(a){return void 0===a.zIndex?this.defaultZIndex:a.zIndex},b.prototype.getActiveOptionsKey=function(){for(var a=[],b=0;b<this.optionList.length;++b)this.isActive(this.optionList[b])&&a.push(b);return a.join("_")},b.prototype.getActiveOptions=function(){for(var b={},c=0;c<this.optionList.length;++c){var d=this.optionList[c];this.isActive(d)&&a.extend(b,d)}return b.scope=b.scope||q.Parent,b.className=b.className||"stick",b.top=b.top||0,b.extraHeight=b.extraHeight||0,void 0===b.overflowScrolling&&(b.overflowScrolling=!0),b},b.prototype.store=function(){var a=this.element[0];this.origStyle={width:a.style.width,position:a.style.position,left:a.style.left,top:a.style.top,bottom:a.style.bottom,zIndex:a.style.zIndex}},b.prototype.restore=function(){this.element.css(this.origStyle)},b.prototype.bound=function(){var a=this.element;if(k||"border-box"!=a.css("box-sizing"))this.extraWidth=0;else{var b=parseFloat(a.css("border-left-width"))||0,c=parseFloat(a.css("border-right-width"))||0,d=parseFloat(a.css("padding-left"))||0,e=parseFloat(a.css("padding-right"))||0;this.extraWidth=b+c+d+e}this.margin={top:parseFloat(a.css("margin-top"))||0,bottom:parseFloat(a.css("margin-bottom"))||0,left:parseFloat(a.css("margin-left"))||0,right:parseFloat(a.css("margin-right"))||0},this.parent={border:{bottom:parseFloat(a.parent().css("border-bottom-width"))||0}}},b.prototype.precalculate=function(){this.baseTop=this.margin.top+this.options.top,this.basePadding=this.baseTop+this.margin.bottom,this.baseParentOffset=this.options.extraHeight-this.parent.border.bottom,this.offsetHeight=this.options.overflowScrolling?Math.max(this.element.outerHeight(!1)+this.basePadding-u,0):0,this.minOffsetHeight=-this.offsetHeight},b.prototype.reset=function(){this.stick==r.Absolute?(this.trigger("unend"),this.trigger("unstick")):this.stick==r.Fixed&&this.trigger("unstick"),this.stick=r.None,this.spacer.css("width",this.origStyle.width),this.spacer[0].style.cssText+=";display: none !important",this.restore(),this.element.removeClass(this.options.className)},b.prototype.setAbsolute=function(a){this.stick==r.None?(this.element.addClass(this.options.className),this.trigger("stick"),this.trigger("end")):this.trigger("end"),this.stick=r.Absolute,this.element.css({width:this.element.width()+this.extraWidth+"px",position:"absolute",top:this.origStyle.top,left:a+"px",bottom:-this.options.extraHeight+"px","z-index":this.zIndex})},b.prototype.setFixed=function(a,b,c){this.stick==r.None?(this.element.addClass(this.options.className),this.trigger("stick")):this.trigger("unend"),this.options.overflowScrolling||(c=0),this.stick=r.Fixed,this.lastY=b,this.offsetY=c,this.element.css({width:this.element.width()+this.extraWidth+"px",position:"fixed",top:this.options.top+c+"px",left:a+"px",bottom:this.origStyle.bottom,"z-index":this.zIndex})},b.prototype.updateScroll=function(a){if(0!=this.offsetHeight&&this.options.overflowScrolling){var b=Math.max(this.offsetY+a-this.lastY,this.minOffsetHeight);b=Math.min(b,0),this.lastY=a,this.offsetY!=b&&(this.offsetY=b,this.element.css("top",this.options.top+this.offsetY+"px"))}},b.prototype.isHeigher=function(){return this.options.scope==q.Parent&&this.element.parent().height()<=this.element.outerHeight(!1)+this.margin.bottom},b.prototype.locate=function(){if(this.activeKey){var a,b,c,d=this.element,e=this.spacer;switch(this.stick){case r.Fixed:a=e[0].getBoundingClientRect(),b=a.top-this.baseTop,b>=0||this.isHeigher()?this.reset():this.options.scope==q.Parent?(a=d.parent()[0].getBoundingClientRect(),a.bottom+this.baseParentOffset+this.offsetHeight<=d.outerHeight(!1)+this.basePadding?this.setAbsolute(this.spacer.position().left):this.updateScroll(a.bottom)):this.updateScroll(a.bottom);break;case r.Absolute:a=e[0].getBoundingClientRect(),b=a.top-this.baseTop,c=a.left-this.margin.left,b>=0||this.isHeigher()?this.reset():(a=d.parent()[0].getBoundingClientRect(),a.bottom+this.baseParentOffset+this.offsetHeight>d.outerHeight(!1)+this.basePadding&&this.setFixed(c+l,a.bottom,-this.offsetHeight));break;case r.None:default:if(a=d[0].getBoundingClientRect(),b=a.top-this.baseTop,b>=0||this.isHeigher())return;var f=d.parent()[0].getBoundingClientRect();e.height(d.height()),e.show(),c=a.left-this.margin.left,this.options.scope==q.Document?this.setFixed(c,a.bottom,0):f.bottom+this.baseParentOffset+this.offsetHeight<=d.outerHeight(!1)+this.basePadding?this.setAbsolute(this.element.position().left):this.setFixed(c+l,a.bottom,0),e.width()||e.width(d.width())}}},b.prototype.refresh=function(){if(this.updateOptions(),this.bound(),this.precalculate(),this.stick==r.None)return void this.locate();var a=this.element,b=this.spacer;if(this.lastValues.width!=b.width()&&a.width(this.lastValues.width=b.width()),this.lastValues.height!=a.height()&&b.height(this.lastValues.height=a.height()),this.stick==r.Fixed){var c=this.spacer[0].getBoundingClientRect(),d=c.left-this.margin.left;this.lastValues.left!=d+"px"&&a.css("left",this.lastValues.left=d+"px")}this.locate()},b.prototype.destroy=function(){this.reset(),this.spacer.remove(),this.element.removeData(h)},b.prototype.enableWillChange=function(a){"auto"==this.origWillChange&&this.element.css("will-change",a?"transform":this.origWillChange)};var u,v,w=["destroy","refresh"];a.fn.stickit=function(d,i){if("string"==typeof d){if(a.inArray(d,w)!=-1){var j=arguments;this.each(function(){var b=a(this).data(h);b&&b[d].apply(b,Array.prototype.slice.call(j,1))})}}else{if(!s&&(s=!0,c(),a(document).ready(function(){a(window).bind("resize",c).bind("scroll",e),a(document.body).bind(n+" "+o,e),a(document).bind(p,f)}),m)){var k=new MutationObserver(g);k.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}i=a.isArray(d)?d:Array.prototype.slice.call(arguments,0),this.each(function(){var c=new b(this,i);a(this).data(h,c),c.locate()})}return this},a.stickit={refresh:d}}(jQuery),$(window).on("load",function(){function a(){$("#gpt-middle1").children().length>0&&(window,"display: none;"!=$("#gpt-middle1").attr("style")&&"undefined"!=$("#gpt-middle1").attr("style")&&b()),$("#gpt-es_sponsorship_logo").children().length>0&&"display: none;"!=$("#gpt-es_sponsorship_logo").attr("style")&&"undefined"!=$("#gpt-es_sponsorship_logo").attr("style")&&$("#gpt-es_sponsorship_logo").css("margin","20px 0")}function b(){if($(".article-body").length)var a=$(".article-body").height();else a=$(".access-body").height();if(a>250){var b=($("#gpt-middle").height(),$("#gpt-es_rr_module").height()),c=.8*(a+b);a<1500&&(c=.72*(a+b)),a<1200&&(c+=1e3),$(".stickit-parent").css("height",c+"px"),$(".stickit:visible").stickit({top:120,zIndex:10,screenMinWidth:1280,onStick:function(){}})}}var c=0;setTimeout(function(){c<5&&a()},1500)});