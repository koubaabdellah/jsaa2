/*! 6/1/2022, 2:19:25 PM -  */
var requirejs,require,define;!function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define("framework/URI",["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(o,t,c,i){function d(e,t){return this instanceof d?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new d(e,t)}function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===a(e)}function s(e,t){var i,n;if(l(t)){for(i=0,n=t.length;i<n;i++)if(!s(e,t[i]))return!1;return!0}var r=a(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function u(e,t){if(!l(e)||!l(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function n(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,n).replace(/\*/g,"%2A")}var p=i&&i.URI;d.version="1.13.2";var e=d.prototype,f=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}},d.duplicateQueryParameters=!1,d.escapeQuerySpace=!0,d.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,d.idn_expression=/[^a-z0-9\.-]/i,d.punycode_expression=/(xn--)/i,d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},d.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},d.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:d.domAttributes[t]}},d.encode=h,d.decode=decodeURIComponent,d.iso8859=function(){d.encode=escape,d.decode=unescape},d.unicode=function(){d.encode=h,d.decode=decodeURIComponent},d.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},d.encodeQuery=function(e,t){var i=d.encode(e+"");return void 0===t&&(t=d.escapeQuerySpace),t?i.replace(/%20/g,"+"):i},d.decodeQuery=function(t,e){t+="",void 0===e&&(e=d.escapeQuerySpace);try{return d.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},d.recodePath=function(e){for(var t=0,i=(e=(e+"").split("/")).length;t<i;t++)e[t]=d.encodePathSegment(d.decode(e[t]));return e.join("/")},d.decodePath=function(e){for(var t=0,i=(e=(e+"").split("/")).length;t<i;t++)e[t]=d.decodePathSegment(e[t]);return e.join("/")};var m,g={encode:"encode",decode:"decode"},v=function(t,i){return function(e){return d[i](e+"").replace(d.characters[t][i].expression,function(e){return d.characters[t][i].map[e]})}};for(m in g)d[m+"PathSegment"]=v("pathname",g[m]);for(m in d.encodeReserved=v("reserved","encode"),d.parse=function(e,t){var i;return t||(t={}),-1<(i=e.indexOf("#"))&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),-1<(i=e.indexOf("?"))&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=d.parseAuthority(e,t)):-1<(i=e.indexOf(":"))&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(d.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(i+3):"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=d.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},d.parseHost=function(e,t){var i,n=e.indexOf("/");return-1===n&&(n=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,n)||null,"/"===t.port&&(t.port=null)):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null),t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},d.parseAuthority=function(e,t){return e=d.parseUserinfo(e,t),d.parseHost(e,t)},d.parseUserinfo=function(e,t){var i=e.indexOf("/"),n=-1<i?e.lastIndexOf("@",i):e.indexOf("@");return-1<n&&(-1===i||n<i)?(i=e.substring(0,n).split(":"),t.username=i[0]?d.decode(i[0]):null,i.shift(),t.password=i[0]?d.decode(i.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},d.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,n,r={},a=e.split("&"),s=a.length,o=0;o<s;o++)i=a[o].split("="),n=d.decodeQuery(i.shift(),t),i=i.length?d.decodeQuery(i.join("="),t):null,r[n]?("string"==typeof r[n]&&(r[n]=[r[n]]),r[n].push(i)):r[n]=i;return r},d.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=d.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},d.buildHost=function(e){var t="";return e.hostname?(t=d.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},d.buildAuthority=function(e){return d.buildUserinfo(e)+d.buildHost(e)},d.buildUserinfo=function(e){var t="";return e.username&&(t+=d.encode(e.username),e.password&&(t+=":"+d.encode(e.password)),t+="@"),t},d.buildQuery=function(e,t,i){var n,r,a,s,o="";for(r in e)if(f.call(e,r)&&r)if(l(e[r]))for(n={},a=0,s=e[r].length;a<s;a++)void 0!==e[r][a]&&void 0===n[e[r][a]+""]&&(o+="&"+d.buildQueryParameter(r,e[r][a],i),!0!==t&&(n[e[r][a]+""]=!0));else void 0!==e[r]&&(o+="&"+d.buildQueryParameter(r,e[r],i));return o.substring(1)},d.buildQueryParameter=function(e,t,i){return d.encodeQuery(e,i)+(null!==t?"="+d.encodeQuery(t,i):"")},d.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)f.call(t,n)&&d.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=i:("string"==typeof e[t]&&(e[t]=[e[t]]),l(i)||(i=[i]),e[t]=e[t].concat(i))}},d.removeQuery=function(e,t,i){var n;if(l(t))for(i=0,n=t.length;i<n;i++)e[t[i]]=void 0;else if("object"==typeof t)for(n in t)f.call(t,n)&&d.removeQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==i){if(e[t]===i)e[t]=void 0;else if(l(e[t])){n=e[t];var r,a,s={};if(l(i))for(r=0,a=i.length;r<a;r++)s[i[r]]=!0;else s[i]=!0;for(r=0,a=n.length;r<a;r++)void 0!==s[n[r]]&&(n.splice(r,1),a--,r--);e[t]=n}}else e[t]=void 0}},d.hasQuery=function(e,t,i,n){if("object"==typeof t){for(var r in t)if(f.call(t,r)&&!d.hasQuery(e,r,t[r]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(i)){case"Undefined":return t in e;case"Boolean":return i===(e=Boolean(l(e[t])?e[t].length:e[t]));case"Function":return!!i(e[t],t,e);case"Array":return!!l(e[t])&&(n?s:u)(e[t],i);case"RegExp":return l(e[t])?!!n&&s(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return l(e[t])?!!n&&s(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},d.commonPath=function(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},d.withinString=function(e,t,i){i||(i={});var n=i.start||d.findUri.start,r=i.end||d.findUri.end,a=i.trim||d.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var o=n.exec(e);if(!o)break;if(o=o.index,i.ignoreHtml)if((l=e.slice(Math.max(o-3,0),o))&&s.test(l))continue;var l=o+e.slice(o).search(r),c=e.slice(o,l).replace(a,"");i.ignore&&i.ignore.test(c)||(c=t(c,o,l=o+c.length,e),e=e.slice(0,o)+c+e.slice(l),n.lastIndex=o+c.length)}return n.lastIndex=0,e},d.ensureValidHostname=function(e){if(e.match(d.invalid_hostname_characters)){if(!o)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(o.toASCII(e).match(d.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},d.noConflict=function(e){return e?(e={URI:this.noConflict()},i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(e.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(e.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=i.SecondLevelDomains.noConflict()),e):(i.URI===this&&(i.URI=p),this)},e.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=d.build(this._parts),this._deferred_build=!1),this},e.clone=function(){return new d(this)},e.valueOf=e.toString=function(){return this.build(!1)._string},v=function(i){return function(e,t){return void 0===e?this._parts[i]||"":(this._parts[i]=e||null,this.build(!t),this)}},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"})e[m]=v(g[m]);for(m in v=function(i,n){return function(e,t){return void 0===e?this._parts[i]||"":(null!==e&&((e+="").charAt(0)===n&&(e=e.substring(1))),this._parts[i]=e,this.build(!t),this)}},g={query:"?",fragment:"#"})e[m]=v(m,g[m]);for(m in v=function(n,r){return function(e,t){var i=this[n](e,t);return"string"==typeof i&&i.length?r+i:i}},g={search:["?","query"],hash:["#","fragment"]})e[m]=v(g[m][1],g[m][0]);e.pathname=function(e,t){if(void 0!==e&&!0!==e)return this._parts.path=e?d.recodePath(e):"/",this.build(!t),this;var i=this._parts.path||(this._parts.hostname?"/":"");return e?d.decodePath(i):i},e.path=e.pathname,e.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=d._parts();var n=e instanceof d,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[r=d.getDomAttribute(e)]||"",r=!1),!n&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=d.parse(e,this._parts);else{if(!n&&!r)throw new TypeError("invalid input");for(i in n=n?e._parts:e)f.call(this._parts,i)&&(this._parts[i]=n[i])}return this.build(!t),this},e.is=function(e){var t=!1,i=!1,n=!1,r=!1,a=!1,s=!1,o=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,i=d.ip4_expression.test(this._parts.hostname),n=d.ip6_expression.test(this._parts.hostname),a=(r=!(t=i||n))&&c&&c.has(this._parts.hostname),s=r&&d.idn_expression.test(this._parts.hostname),o=r&&d.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return r;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return n;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return o}return null};var w=e.protocol,b=e.port,y=e.hostname;e.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(d.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,e,t)},e.scheme=e.protocol,e.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return b.call(this,e,t)},e.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};d.parseHost(e,i),e=i.hostname}return y.call(this,e,t)},e.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?d.buildHost(this._parts):"":(d.parseHost(e,this._parts),this.build(!t),this)},e.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?d.buildAuthority(this._parts):"":(d.parseAuthority(e,this._parts),this.build(!t),this)},e.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return"@"!==e[e.length-1]&&(e+="@"),d.parseUserinfo(e,this._parts),this.build(!t),this;if(!this._parts.username)return"";var i=d.buildUserinfo(this._parts);return i.substring(0,i.length-1)},e.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=d.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},e.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return i=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,i),i=new RegExp("^"+r(i)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&d.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this;if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""},e.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);return i&&i.length<2?this._parts.hostname:(i=this._parts.hostname.length-this.tld(t).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"")}if(!e)throw new TypeError("cannot set domain empty");return d.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(i=new RegExp(r(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)),this.build(!t),this},e.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf(".");i=this._parts.hostname.substring(i+1);return!0!==t&&c&&c.list[i.toLowerCase()]&&c.get(this._parts.hostname)||i}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},e.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&!0!==e)return i=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,i),i=new RegExp("^"+r(i)),this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=d.recodePath(e),this._parts.path=this._parts.path.replace(i,e),this.build(!t),this;if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1;i=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?d.decodePath(i):i},e.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/");i=this._parts.path.substring(i+1);return e?d.decodePathSegment(i):i}i=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var n=new RegExp(r(this.filename())+"$");return e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e),i?this.normalizePath(t):this.build(!t),this},e.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf(".");return-1===n?"":(i=i.substring(n+1),i=/^[a-z0-9%]+$/i.test(i)?i:"",e?d.decodePathSegment(i):i)}if("."===e.charAt(0)&&(e=e.substring(1)),i=this.suffix())n=e?new RegExp(r(i)+"$"):new RegExp(r("."+i)+"$");else{if(!e)return this;this._parts.path+="."+d.recodePath(e)}return n&&(e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e)),this.build(!t),this},e.segment=function(e,t,i){var n=this._parts.urn?":":"/",r="/"===(a=this.path()).substring(0,1),a=a.split(n);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(r&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(l(t)){a=[],e=0;for(var s=t.length;e<s;e++)(t[e].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(t[e]))}else(t||"string"==typeof t)&&(""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t||"string"==typeof t&&t.length?a[e]=t:a.splice(e,1);return r&&a.unshift(""),this.path(a.join(n),i)},e.segmentCoded=function(e,t,i){var n,r;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(l(e=this.segment(e,t,i)))for(n=0,r=e.length;n<r;n++)e[n]=d.decode(e[n]);else e=void 0!==e?d.decode(e):void 0;return e}if(l(t))for(n=0,r=t.length;n<r;n++)t[n]=d.decode(t[n]);else t="string"==typeof t?d.encode(t):t;return this.segment(e,t,i)};var _=e.query;return e.query=function(e,t){if(!0===e)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"!=typeof e)return void 0!==e&&"string"!=typeof e?(this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):_.call(this,e,t);var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=d.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this},e.setQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var r in e)f.call(e,r)&&(n[r]=e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[e]=void 0!==t?t:null}return this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},e.addQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.addQuery(n,e,void 0===t?null:t),this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},e.removeQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.removeQuery(n,e,t),this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},e.hasQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.hasQuery(n,e,t,i)},e.setSearch=e.setQuery,e.addSearch=e.addQuery,e.removeSearch=e.removeQuery,e.hasSearch=e.hasQuery,e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},e.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},e.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&o?this._parts.hostname=o.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},e.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},e.normalizePath=function(e){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var t,i,n,r=this._parts.path,a="";for("/"!==r.charAt(0)&&(t=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=r.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(i=r.indexOf("/.."));)r=0!==i?(-1===(n=r.substring(0,i).lastIndexOf("/"))&&(n=i),r.substring(0,n)+r.substring(i+3)):r.substring(3);return t&&this.is("relative")&&(r=a+r.substring(1)),r=d.recodePath(r),this._parts.path=r,this.build(!e),this},e.normalizePathname=e.normalizePath,e.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},e.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},e.normalizeSearch=e.normalizeQuery,e.normalizeHash=e.normalizeFragment,e.iso8859=function(){var e=d.encode,t=d.decode;return d.encode=escape,d.decode=decodeURIComponent,this.normalize(),d.encode=e,d.decode=t,this},e.unicode=function(){var e=d.encode,t=d.decode;return d.encode=h,d.decode=unescape,this.normalize(),d.encode=e,d.decode=t,this},e.readable=function(){var e=this.clone();e.username("").password("").normalize();var t="";if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&o?(t+=o.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var i="",n=0,r=e._parts.query.split("&"),a=r.length;n<a;n++){var s=(r[n]||"").split("=");i=i+"&"+d.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==s[1]&&(i+="="+d.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+i.substring(1)}return t+d.decodeQuery(e.hash(),!0)},e.absoluteTo=function(e){var t,i,n=this.clone(),r=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof d||(e=new d(e)),n._parts.protocol||(n._parts.protocol=e._parts.protocol),this._parts.hostname)return n;for(t=0;i=r[t];t++)n._parts[i]=e._parts[i];return n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=e._parts.path,n._parts.query||(n._parts.query=e._parts.query)),"/"!==n.path().charAt(0)&&(e=e.directory(),n._parts.path=(e?e+"/":"")+n._parts.path,n.normalizePath()),n.build(),n},e.relativeTo=function(e){var t,i,n,r,a=this.clone().normalize();if(a._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new d(e).normalize(),t=a._parts,i=e._parts,n=a.path(),r=e.path(),"/"!==n.charAt(0))throw Error("URI is already relative");if("/"!==r.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===i.protocol&&(t.protocol=null),t.username!==i.username||t.password!==i.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==i.hostname||t.port!==i.port?a.build():(t.hostname=null,t.port=null,n===r?t.path="":(e=d.commonPath(a.path(),e.path()))&&(i=i.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=i+t.path.substring(e.length)),a.build())},e.equals=function(e){var t=this.clone();e=new d(e);var i,n={},r={},a={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(n=t.query(),r=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||n.length!==r.length)return!1;for(i in n=d.parseQuery(n,this._parts.escapeQuerySpace),r=d.parseQuery(r,this._parts.escapeQuerySpace),n)if(f.call(n,i)){if(l(n[i])){if(!u(n[i],r[i]))return!1}else if(n[i]!==r[i])return!1;a[i]=!0}for(i in r)if(f.call(r,i)&&!a[i])return!1;return!0},e.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},e.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},d}),function(Z){function x(e){return"[object Function]"===J.call(e)}function E(e){return"[object Array]"===J.call(e)}function o(e,t){var i;if(e)for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}function M(e,t){var i;if(e)for(i=e.length-1;-1<i&&(!e[i]||!t(e[i],i,e));i-=1);}function y(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i],i))break}function N(i,e,n,r){return e&&y(e,function(e,t){!n&&F.call(i,t)||(r&&"string"!=typeof e?(i[t]||(i[t]={}),N(i[t],e,n,r)):i[t]=e)}),i}function t(e,t){return function(){return t.apply(e,arguments)}}function $(e){if(!e)return e;var t=Z;return o(e.split("."),function(e){t=t[e]}),t}function aa(i,n,r){return function(){var e,t=ga.call(arguments,0);return r&&x(e=t[t.length-1])&&(e.__requireJsBuild=!0),t.push(n),i.apply(null,t)}}function ba(i,n,r){o([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(e){var t=e[1]||e[0];i[e[0]]=n?aa(n[t],r):function(){var e=z[O];return e[t].apply(e,arguments)}})}function G(e,t,i,n){return(t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e)).requireType=e,t.requireModules=n,i&&(t.originalError=i),t}function ha(){return H&&"interactive"===H.readyState||M(document.getElementsByTagName("script"),function(e){if("interactive"===e.readyState)return H=e}),H}var j,p,u,B,s,C,H,I,ca,da,ia=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ja=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ka=/^\.\//;p=Object.prototype;var J=p.toString,F=p.hasOwnProperty;p=Array.prototype;var ga=p.slice,la=p.splice,w=!("undefined"==typeof window||!navigator||!document),fa=!w&&"undefined"!=typeof importScripts,ma=w&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,O="_",S="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),z={},r={},P=[],K=!1;if(void 0===define){if(void 0!==requirejs){if(x(requirejs))return;r=requirejs,requirejs=void 0}void 0!==require&&!x(require)&&(r=require,require=void 0),j=requirejs=function(e,t,i,n){var r,a=O;return!E(e)&&"string"!=typeof e&&(r=e,E(t)?(e=t,t=i,i=n):e=[]),r&&r.context&&(a=r.context),(n=z[a])||(n=z[a]=j.s.newContext(a)),r&&n.configure(r),n.require(e,t,i)},j.config=function(e){return j(e)},require||(require=j),j.version="2.0.6",j.jsExtRegExp=/^\/|:|\?|\.js$/,j.isBrowser=w,p=j.s={contexts:z,newContext:function(a){function h(e,t,i){var n,r,a,s,o,l,c,d=t&&t.split("/");n=d;var u=q.map,h=u&&u["*"];if(e&&"."===e.charAt(0))if(t){for(t=e=(n=q.pkgs[t]?d=[t]:d.slice(0,d.length-1)).concat(e.split("/")),n=0;t[n];n+=1)if("."===(r=t[n]))t.splice(n,1),n-=1;else if(".."===r){if(1===n&&(".."===t[2]||".."===t[0]))break;0<n&&(t.splice(n-1,2),n-=2)}n=q.pkgs[t=e[0]],e=e.join("/"),n&&e===t+"/"+n.main&&(e=t)}else 0===e.indexOf("./")&&(e=e.substring(2));if(i&&(d||h)&&u){for(n=(t=e.split("/")).length;0<n;n-=1){if(a=t.slice(0,n).join("/"),d)for(r=d.length;0<r;r-=1)if((i=u[d.slice(0,r).join("/")])&&(i=i[a])){s=i,o=n;break}if(s)break;!l&&h&&h[a]&&(l=h[a],c=n)}!s&&l&&(s=l,o=c),s&&(t.splice(0,o,s),e=t.join("/"))}return e}function c(t){w&&o(document.getElementsByTagName("script"),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===C.contextName)return e.parentNode.removeChild(e),!0})}function d(e){var t=q.paths[e];if(t&&E(t)&&1<t.length)return c(e),t.shift(),C.undef(e),C.require([e]),!0}function s(e,t,i,n){var r,a,s=e?e.indexOf("!"):-1,o=null,l=t?t.name:null,c=e,d=!0,u="";return e||(d=!1,e="_@r"+(R+=1)),-1!==s&&(o=e.substring(0,s),e=e.substring(s+1,e.length)),o&&(o=h(o,l,n),a=I[o]),e&&(o?u=a&&a.normalize?a.normalize(e,function(e){return h(e,l,n)}):h(e,l,n):(u=h(e,l,n),r=C.nameToUrl(u))),{prefix:o,name:u,parentMap:t,unnormalized:!!(e=!o||a||i?"":"_unnormalized"+(Q+=1)),url:r,originalName:c,isDefine:d,id:(o?o+"!"+u:u)+e}}function l(e){var t=e.id,i=O[t];return i||(i=O[t]=new C.Module(e)),i}function u(e,t,i){var n=e.id,r=O[n];!F.call(I,n)||r&&!r.defineEmitComplete?l(e).on(t,i):"defined"===t&&i(I[n])}function p(t,e){var i=t.requireModules,n=!1;e?e(t):(o(i,function(e){(e=O[e])&&(e.error=t,e.events.error&&(n=!0,e.emit("error",t)))}),n||j.onError(t))}function f(){P.length&&(la.apply(A,[A.length-1,0].concat(P)),P=[])}function m(e,t,i){return e=e&&e.map,ba(t=aa(i||C.require,e,t),C,e),t.isBrowser=w,t}function g(i){delete O[i],o(z,function(e,t){if(e.map.id===i)return z.splice(t,1),e.defined||(C.waitCount-=1),!0})}function v(e){e.check()}function b(){var t,i,e,n,r=(e=1e3*q.waitSeconds)&&C.startTime+e<(new Date).getTime(),a=[],s=!1,l=!0;if(!k){if(k=!0,y(O,function(e){if(t=e.map,i=t.id,e.enabled&&!e.error)if(!e.inited&&r)d(i)?s=n=!0:(a.push(i),c(i));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return l=!1}),r&&a.length)return(e=G("timeout","Load timeout for modules: "+a,null,a)).contextName=C.contextName,p(e);l&&(o(z,function(e){if(!e.defined){var t={};(e=function i(e,n,r){var a,t=e.map.id,s=e.depMaps;if(e.inited)return n[t]?e:(n[t]=!0,o(s,function(e){e=e.id;var t=O[e];return t&&!r[e]&&t.inited&&t.enabled?a=i(t,n,r):void 0}),r[t]=!0,a)}(e,{},{}))&&(function i(n,r,a){var s=n.map.id,e=n.depMaps;if(n.inited&&n.map.isDefine)return r[s]||(r[s]=n,o(e,function(e){e=e.id;var t=O[e];!T[e]&&t&&(t.inited&&t.enabled?(t=i(t,r,a),a[e]||n.defineDepById(e,t)):a[s]=!0)}),n.check(!0)),I[s]}(e,t,{}),y(t,v))}}),y(O,v)),r&&!n||!s||!w&&!fa||D||(D=setTimeout(function(){D=0,b()},50)),k=!1}}function _(e){l(s(e[0],null,!0)).init(e[1],e[2])}function i(e){e=e.currentTarget||e.srcElement;var t=C.onScriptLoad;return e.detachEvent&&!S?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=C.onScriptError,e.detachEvent&&!S||e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}var k,e,C,T,D,q={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},O={},n={},A=[],I={},r={},R=1,Q=1,z=[];return T={require:function(e){return m(e)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports=I[e.map.id]={}},module:function(e){return e.module={id:e.map.id,uri:e.map.url,config:function(){return q.config&&q.config[e.map.id]||{}},exports:I[e.map.id]}}},(e=function(e){this.events=n[e.id]||{},this.map=e,this.shim=q.shim[e.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,i,n,r){r=r||{},this.inited||(this.factory=i,n?this.on("error",n):this.events.error&&(n=t(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.depMaps.rjsSkipMap=e.rjsSkipMap,this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDepById:function(i,e){var n;return o(this.depMaps,function(e,t){if(e.id===i)return n=t,!0}),this.defineDep(n,e)},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,C.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();m(this,!0)(this.shim.deps||[],t(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;r[e]||(r[e]=!0,C.load(this.map.id,e))},check:function(e){if(this.enabled&&!this.enabling){var t,i,n=this.map.id;i=this.depExports;var r=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(x(a)){if(this.events.error)try{r=C.execCb(n,a,i,r)}catch(e){t=e}else r=C.execCb(n,a,i,r);if(this.map.isDefine&&((i=this.module)&&void 0!==i.exports&&i.exports!==this.exports?r=i.exports:void 0===r&&this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=[this.map.id],t.requireType="define",p(this.error=t)}else r=a;this.exports=r,this.map.isDefine&&!this.ignore&&(I[n]=r,j.onResourceLoad)&&j.onResourceLoad(C,this.map,this.depMaps),delete O[n],this.defined=!0,C.waitCount-=1,0===C.waitCount&&(z=[])}this.defining=!1,e||!this.defined||this.defineEmitted||(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var r=this.map,a=r.id,e=s(r.prefix,null,!1,!0);u(e,"defined",t(this,function(e){var i;i=this.map.name;var n=this.map.parentMap?this.map.parentMap.name:null;this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return h(e,n,!0)})||""),u(e=s(r.prefix+"!"+i,this.map.parentMap,!1,!0),"defined",t(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(e=O[e.id])&&(this.events.error&&e.on("error",t(this,function(e){this.emit("error",e)})),e.enable())):((i=t(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=t(this,function(e){this.inited=!0,(this.error=e).requireModules=[a],y(O,function(e){0===e.map.id.indexOf(a+"_unnormalized")&&g(e.map.id)}),p(e)}),i.fromText=function(e,t){var i=K;i&&(K=!1),l(s(e)),j.exec(t),i&&(K=!0),C.completeLoad(e)},e.load(r.name,m(r.parentMap,!0,function(e,t,i){return e.rjsSkipMap=!0,C.require(e,t,i)}),i,q))})),C.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){this.enabled=!0,this.waitPushed||(z.push(this),C.waitCount+=1,this.waitPushed=!0),this.enabling=!0,o(this.depMaps,t(this,function(e,i){var n,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.depMaps.rjsSkipMap),this.depMaps[i]=e,n=T[e.id])return void(this.depExports[i]=n(this));this.depCount+=1,u(e,"defined",t(this,function(e){this.defineDep(i,e),this.check()})),this.errback&&u(e,"error",this.errback)}n=e.id,r=O[n],!T[n]&&r&&!r.enabled&&C.enable(e,this)})),y(this.pluginMaps,t(this,function(e){var t=O[e.id];t&&!t.enabled&&C.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){o(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},C={config:q,contextName:a,registry:O,defined:I,urlFetched:r,waitCount:0,defQueue:A,Module:e,makeModuleMap:s,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=q.pkgs,i=q.shim,n=q.paths,r=q.map;N(q,e,!0),q.paths=N(n,e.paths,!0),e.map&&(q.map=N(r||{},e.map,!0,!0)),e.shim&&(y(e.shim,function(e,t){E(e)&&(e={deps:e}),e.exports&&!e.exports.__buildReady&&(e.exports=C.makeShimExports(e.exports)),i[t]=e}),q.shim=i),e.packages&&(o(e.packages,function(e){t[(e="string"==typeof e?{name:e}:e).name]={name:e.name,location:e.location||e.name,main:(e.main||"main").replace(ka,"").replace(ea,"")}}),q.pkgs=t),y(O,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&C.require(e.deps||[],e.callback)},makeShimExports:function(e){var t;return"string"==typeof e?((t=function(){return $(e)}).exports=e,t):function(){return e.apply(Z,arguments)}},requireDefined:function(e,t){var i=s(e,t,!1,!0).id;return F.call(I,i)},requireSpecified:function(e,t){return e=s(e,t,!1,!0).id,F.call(I,e)||F.call(O,e)},require:function(e,t,i,n){var r;if("string"==typeof e)return x(t)?p(G("requireargs","Invalid require call"),i):j.get?j.get(C,e,t):(e=(e=s(e,t,!1,!0)).id,F.call(I,e)?I[e]:p(G("notloaded",'Module name "'+e+'" has not been loaded yet for context: '+a)));for(i&&!x(i)&&(n=i,i=void 0),t&&!x(t)&&(n=t,t=void 0),f();A.length;){if(null===(r=A.shift())[0])return p(G("mismatch","Mismatched anonymous define() module: "+r[r.length-1]));_(r)}return l(s(null,n)).init(e,t,i,{enabled:!0}),b(),C.require},undef:function(e){f();var t=s(e,null,!0),i=O[e];delete I[e],delete r[t.url],delete n[e],i&&(i.events.defined&&(n[e]=i.events),g(e))},enable:function(e){O[e.id]&&l(e).enable()},completeLoad:function(e){var t,i,n=q.shim[e]||{},r=n.exports&&n.exports.exports;for(f();A.length;){if(null===(i=A.shift())[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);_(i)}if(i=O[e],!t&&!I[e]&&i&&!i.inited){if(!(!q.enforceDefine||r&&$(r)))return d(e)?void 0:p(G("nodefine","No define call for "+e,null,[e]));_([e,n.deps||[],n.exports])}b()},toUrl:function(e,t){var i=e.lastIndexOf("."),n=null;return-1!==i&&(n=e.substring(i,e.length),e=e.substring(0,i)),C.nameToUrl(h(e,t&&t.id,!0),n)},nameToUrl:function(e,t){var i,n,r,a,s,o;if(j.jsExtRegExp.test(e))a=e+(t||"");else{for(i=q.paths,n=q.pkgs,s=(a=e.split("/")).length;0<s;s-=1){if(r=n[o=a.slice(0,s).join("/")],o=i[o]){E(o)&&(o=o[0]),a.splice(0,s,o);break}if(r){i=e===r.name?r.location+"/"+r.main:r.location,a.splice(0,s,i);break}}a=a.join("/"),a=("/"===(a+=t||(/\?/.test(a)?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":q.baseUrl)+a}return q.urlArgs?a+(-1===a.indexOf("?")?"?":"&")+q.urlArgs:a},load:function(e,t){j.load(C,e,t)},execCb:function(e,t,i,n){return t.apply(n,i)},onScriptLoad:function(e){("load"===e.type||ma.test((e.currentTarget||e.srcElement).readyState))&&(H=null,e=i(e),C.completeLoad(e.id))},onScriptError:function(e){var t=i(e);if(!d(t.id))return p(G("scripterror","Script error",e,[t.id]))}}}},j({}),ba(j),w&&(u=p.head=document.getElementsByTagName("head")[0],B=document.getElementsByTagName("base")[0])&&(u=p.head=B.parentNode),j.onError=function(e){throw e},j.load=function(e,t,i){var n,r=e&&e.config||{};if(w)return(n=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script")).type=r.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||S?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(K=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=i,I=n,B?u.insertBefore(n,B):u.appendChild(n),I=null,n;fa&&(importScripts(i),e.completeLoad(t))},w&&M(document.getElementsByTagName("script"),function(e){if(u||(u=e.parentNode),s=e.getAttribute("data-main"))return r.baseUrl||(C=s.split("/"),ca=C.pop(),da=C.length?C.join("/")+"/":"./",r.baseUrl=da,s=ca),s=s.replace(ea,""),r.deps=r.deps?r.deps.concat(s):[s],!0}),define=function(e,i,t){var n,r;"string"!=typeof e&&(t=i,i=e,e=null),E(i)||(t=i,i=[]),!i.length&&x(t)&&t.length&&(t.toString().replace(ia,"").replace(ja,function(e,t){i.push(t)}),i=(1===t.length?["require"]:["require","exports","module"]).concat(i)),K&&(n=I||ha())&&(e||(e=n.getAttribute("data-requiremodule")),r=z[n.getAttribute("data-requirecontext")]),(r?r.defQueue:P).push([e,i,t])},define.amd={jQuery:!0},j.exec=function(b){return eval(b)},j(r)}}(this),function(e,r){"use strict";var l=function(e,t){return new l.Instance(e,t||{})};l.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},l.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,l.HAS_TOUCHEVENTS="ontouchstart"in e,l.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,l.NO_MOUSEEVENTS=l.HAS_TOUCHEVENTS&&navigator.userAgent.match(l.MOBILE_REGEX),l.EVENT_TYPES={},l.DIRECTION_DOWN="down",l.DIRECTION_LEFT="left",l.DIRECTION_UP="up",l.DIRECTION_RIGHT="right",l.POINTER_MOUSE="mouse",l.POINTER_TOUCH="touch",l.POINTER_PEN="pen",l.EVENT_START="start",l.EVENT_MOVE="move",l.EVENT_END="end",l.DOCUMENT=document,l.plugins={},l.READY=!1,l.Instance=function(e,t){var i=this;return function(){if(!l.READY){for(var e in l.event.determineEventTypes(),l.gestures)l.gestures.hasOwnProperty(e)&&l.detection.register(l.gestures[e]);l.event.onTouch(l.DOCUMENT,l.EVENT_MOVE,l.detection.detect),l.event.onTouch(l.DOCUMENT,l.EVENT_END,l.detection.detect),l.READY=!0}}(),this.element=e,this.enabled=!0,this.options=l.utils.extend(l.utils.extend({},l.defaults),t||{}),this.options.stop_browser_behavior&&l.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),l.event.onTouch(e,l.EVENT_START,function(e){i.enabled&&l.detection.startDetect(i,e)}),this},l.Instance.prototype={on:function(e,t){for(var i=e.split(" "),n=0;i.length>n;n++)this.element.addEventListener(i[n],t,!1);return this},off:function(e,t){for(var i=e.split(" "),n=0;i.length>n;n++)this.element.removeEventListener(i[n],t,!1);return this},trigger:function(e,t){var i=l.DOCUMENT.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t;var n=this.element;return l.utils.hasParent(t.target,n)&&(n=t.target),n.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var o=null,c=!1,d=!1;l.event={bindDom:function(e,t,i){for(var n=t.split(" "),r=0;n.length>r;r++)e.addEventListener(n[r],i,!1)},onTouch:function(n,r,a){var s=this;this.bindDom(n,l.EVENT_TYPES[r],function(e){var t=e.type.toLowerCase();if(!t.match(/mouse/)||!d){(t.match(/touch/)||t.match(/pointerdown/)||t.match(/mouse/)&&1===e.which)&&(c=!0),t.match(/touch|pointer/)&&(d=!0);var i=0;c&&(l.HAS_POINTEREVENTS&&r!=l.EVENT_END?i=l.PointerEvent.updatePointer(r,e):t.match(/touch/)?i=e.touches.length:d||(i=t.match(/up/)?0:1),0<i&&r==l.EVENT_END?r=l.EVENT_MOVE:i||(r=l.EVENT_END),i||null===o?o=e:e=o,a.call(l.detection,s.collectEventData(n,r,e)),l.HAS_POINTEREVENTS&&r==l.EVENT_END&&(i=l.PointerEvent.updatePointer(r,e))),i||(o=null,d=c=!1,l.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=l.HAS_POINTEREVENTS?l.PointerEvent.getEvents():l.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],l.EVENT_TYPES[l.EVENT_START]=e[0],l.EVENT_TYPES[l.EVENT_MOVE]=e[1],l.EVENT_TYPES[l.EVENT_END]=e[2]},getTouchList:function(e){return l.HAS_POINTEREVENTS?l.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,i){var n=this.getTouchList(i,t),r=l.POINTER_TOUCH;return(i.type.match(/mouse/)||l.PointerEvent.matchType(l.POINTER_MOUSE,i))&&(r=l.POINTER_MOUSE),{center:l.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:t,pointerType:r,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return l.detection.stopDetect()}}}},l.PointerEvent={pointers:{},getTouchList:function(){var t=this,i=[];return Object.keys(t.pointers).sort().forEach(function(e){i.push(t.pointers[e])}),i},updatePointer:function(e,t){return e==l.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var i={};return i[l.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==l.POINTER_MOUSE,i[l.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==l.POINTER_TOUCH,i[l.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==l.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},l.utils={extend:function(e,t,i){for(var n in t)e[n]!==r&&i||(e[n]=t[n]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],i=[],n=0,r=e.length;n<r;n++)t.push(e[n].pageX),i.push(e[n].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(e,t,i){return{x:Math.abs(t/e)||0,y:Math.abs(i/e)||0}},getAngle:function(e,t){var i=t.pageY-e.pageY,n=t.pageX-e.pageX;return 180*Math.atan2(i,n)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.pageX-t.pageX);return Math.abs(e.pageY-t.pageY)<=i?0<e.pageX-t.pageX?l.DIRECTION_LEFT:l.DIRECTION_RIGHT:0<e.pageY-t.pageY?l.DIRECTION_UP:l.DIRECTION_DOWN},getDistance:function(e,t){var i=t.pageX-e.pageX,n=t.pageY-e.pageY;return Math.sqrt(i*i+n*n)},getScale:function(e,t){return 2<=e.length&&2<=t.length?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return 2<=e.length&&2<=t.length?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==l.DIRECTION_UP||e==l.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var i,n=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var r=0;r<n.length;r++)for(var a in t)t.hasOwnProperty(a)&&(i=a,n[r]&&(i=n[r]+i.substring(0,1).toUpperCase()+i.substring(1)),e.style[i]=t[a]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},l.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:l.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,i=0,n=this.gestures.length;i<n;i++){var r=this.gestures[i];if(!this.stopped&&!1!==t[r.name]&&!1===r.handler.call(r,e,this.current.inst)){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==l.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=l.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var i=0,n=e.touches.length;i<n;i++)t.touches.push(l.utils.extend({},e.touches[i]))}var r=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,o=l.utils.getVelocity(r,a,s);return l.utils.extend(e,{deltaTime:r,deltaX:a,deltaY:s,velocityX:o.x,velocityY:o.y,distance:l.utils.getDistance(t.center,e.center),angle:l.utils.getAngle(t.center,e.center),direction:l.utils.getDirection(t.center,e.center),scale:l.utils.getScale(t.touches,e.touches),rotation:l.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var t=e.defaults||{};return t[e.name]===r&&(t[e.name]=!0),l.utils.extend(l.defaults,t,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},l.gestures=l.gestures||{},l.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case l.EVENT_START:clearTimeout(this.timer),l.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==l.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case l.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case l.EVENT_END:clearTimeout(this.timer)}}},l.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==l.EVENT_END){var i=l.detection.previous,n=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;i&&"tap"==i.name&&e.timeStamp-i.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),n=!0),(!n||t.options.tap_always)&&(l.detection.current.name="tap",t.trigger(l.detection.current.name,e))}}},l.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==l.EVENT_END){if(0<t.options.swipe_max_touches&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},l.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(l.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,r;if(!(0<t.options.drag_max_touches&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case l.EVENT_START:this.triggered=!1;break;case l.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&l.detection.current.name!=this.name)return;l.detection.current.name=this.name,(l.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=l.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=l.utils.isVertical(i)?e.deltaY<0?l.DIRECTION_UP:l.DIRECTION_DOWN:e.deltaX<0?l.DIRECTION_LEFT:l.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&l.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!l.utils.isVertical(e.direction))&&e.preventDefault();break;case l.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},l.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(l.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),this.triggered=!1,r;if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case l.EVENT_START:this.triggered=!1;break;case l.EVENT_MOVE:var i=Math.abs(1-e.scale),n=Math.abs(e.rotation);if(t.options.transform_min_scale>i&&t.options.transform_min_rotation>n)return;l.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),n>t.options.transform_min_rotation&&t.trigger("rotate",e),i>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case l.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},l.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==l.POINTER_MOUSE?e.stopDetect():(t.options.prevent_default&&e.preventDefault(),e.eventType==l.EVENT_START&&t.trigger(this.name,e)),r}},l.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==l.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=l:(e.Hammer=l,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return l}))}(this),function(n,r){"use strict";n!==r&&(Hammer.event.bindDom=function(e,t,i){n(e).on(t,function(e){var t=e.originalEvent||e;t.pageX===r&&(t.pageX=e.pageX,t.pageY=e.pageY),t.target||(t.target=e.target),t.which===r&&(t.which=t.button),t.preventDefault||(t.preventDefault=e.preventDefault),t.stopPropagation||(t.stopPropagation=e.stopPropagation),i.call(this,t)})},Hammer.Instance.prototype.on=function(e,t){return n(this.element).on(e,t)},Hammer.Instance.prototype.off=function(e,t){return n(this.element).off(e,t)},Hammer.Instance.prototype.trigger=function(e,t){var i=n(this.element);return i.has(t.target).length&&(i=n(t.target)),i.trigger({type:e,gesture:t})},n.fn.hammer=function(i){return this.each(function(){var e=n(this),t=e.data("hammer");t?t&&i&&Hammer.utils.extend(t.options,i):e.data("hammer",new Hammer(this,i||{}))})})}(window.jQuery||window.Zepto),function(a){var e={init:function(){e.supernav(),e.mainsearch(),e.superfooter()},supernav:function(){/hbs\.edu\/doctoral\//.test(document.location.href)?a(".universal-header-v3 .nav-tabs #header-nav-doctoral").toggleClass("active inherit-bg inherit-color-onhover"):/hbs\.edu\/mba\//.test(document.location.href)?a(".universal-header-v3 .nav-tabs #header-nav-mba").toggleClass("active inherit-bg inherit-color-onhover"):/hbs\.edu\/about\//.test(document.location.href)?a(".universal-header-v3 .nav-tabs #header-nav-about").toggleClass("active inherit-bg inherit-color-onhover"):/hbs\.edu\/news\//.test(document.location.href)?a(".universal-header-v3 .nav-tabs #header-nav-about").toggleClass("active inherit-bg inherit-color-onhover"):/hbs\.edu\/faculty\//.test(document.location.href)?a(".universal-header-v3 .nav-tabs #header-nav-faculty").toggleClass("active inherit-bg inherit-color-onhover"):/exed\.hbs\.edu\//.test(document.location.href)?a(".universal-header-v3 .nav-tabs #header-nav-ee").toggleClass("active inherit-bg inherit-color-onhover"):/alumni/.test(document.location.hostname)&&a(".universal-header-v3 .nav-tabs #header-nav-alumni").toggleClass("active inherit-bg inherit-color-onhover"),a(".universal-banner .toggle-button").click(function(){window.setTimeout(function(){a(".universal-site-search-query").each(function(){this.selectionStart=this.selectionEnd=this.value.length})},500)}),a("#supernav-sitemap,.supernav-sitemap-trigger").click(function(){return a("#supernav .sitemap").slideToggle(400),a("#supernav-sitemap").toggleClass("on"),window.analytics&&!window.sitemapEventSent&&(analytics.event("sitemap"),window.sitemapEventSent=1),!1}).attr("href","#"),a("#supernav .close a").click(function(){return a("#supernav .sitemap").slideToggle(400),a("#supernav-sitemap").toggleClass("on"),!1})},mainsearch:function(){var r="SEARCH";a("#search_text").attr("data-placeholder")&&(r=a("#search_text").attr("data-placeholder")),a("#search_text").focus(function(){a(this).val()==r&&a(this).val("")}),a(".universal-site-search-query").keypress(function(e){13===(e.keyCode?e.keyCode:e.which)&&(a("#aspnetForm").submit(function(){return!1}),a(".universal-site-search-button").click())}),a("#search_text").keypress(function(e){return 13!=e.which||(a(this).blur(),a("#search_submit").click(),!1)}),a("#search_submit,.universal-site-search-button").click(function(){var e="";if(a("#search_text,.universal-site-search-query").filter(":visible").each(function(){e=e||a(this).val()}),e!=r&&""!=e){var t=a("meta[name=HBSSearchUrl]").attr("content");if(t){i=(i=a("meta[name=HBSSearchSubset]").attr("content"))?"sub="+i+"&":"",document.location.href=t+"?"+i+"q="+encodeURIComponent(e)}else{var i;t="http://search.hbs.edu:8765/",i=(i=a("meta[name=HBSSearchSubset]").attr("content"))?"sub="+i+"&":"";var n=a("meta[name=HBSSearchTheme]").attr("content");n?n+="/":n="",document.location.href=t+n+"?"+i+"qt="+encodeURIComponent(e)}}return!1}),a(".mobile-navbar-search").each(function(){var e=a("meta[name=HBSSearchSubset]").attr("content");e&&a(this).append('<input type="hidden" name="subset" value="'+e+'"/>')}),a("meta[name=HBSSearchSuggestUrl]").eq(0).each(function(){var e=a(this).attr("content"),i=a("meta[name=HBSSearchUrl]").attr("content");a(".universal-site-search-query").each(function(){a(this).wrap('<div class="typeahead-container" data-typeahead-prefetch="'+e+'?_autocomplete=1&step=9999"></div>'),a(document).trigger("framework.domupdate"),a(this).parent().on("select",function(e,t){document.location.href=framework.URI(i).search({q:t.val}).toString()})}),a(".universal-site-search-query").on("keyup",function(){console.info(a(this).val()),a(this).val()?a(".slider-container").addClass("slider-backdrop-active"):a(".slider-container").removeClass("slider-backdrop-active")}).blur(function(){a(".slider-container").removeClass("slider-backdrop-active")})})},mobilesearch:function(){},superfooter:function(){var t=!1;a("div[class*='-inherit']").eq(0).each(function(){/([a-z]+-inherit)/.test(this.className);var e=RegExp.$1;t=!0,a(".universal-footer-v3,.universal-header-v3").addClass(e)}),t||a(".universal-footer-v3,.universal-header-v3").addClass("hbsred-inherit");var e=a("#site-footer #info").html()||a("#site-footer").html();function n(){a(".overlay:not(.closed)").slideToggle(function(){a(this).toggleClass("closed")}),a(".overlay.closed").hide()}a("#site-footer").remove(),a("#superfooter .infobar .inner").append(e),a("#superfooter .selector").click(function(){a("#superfooter .selector").not(".opened").each(function(){a("#superfooter .icon-footer-expand").removeClass("icon-footer-expand").addClass("icon-footer-collapse"),a("#superfooter .infobar").slideDown(150,function(){a("#superfooter .selector").toggleClass("opened")})}),window.analytics&&!window.footerOpenEventSent&&(analytics.event("footer"),window.footerOpenEventSent=1)}),a("#superfooter").click(function(){n(),a("#superfooter .selector.opened").each(function(){a("#superfooter .icon-footer-collapse").removeClass("icon-footer-collapse").addClass("icon-footer-expand"),a(".footerspace").slideUp(150),a("#superfooter .infobar").slideToggle(150,function(){a("#superfooter .selector").toggleClass("opened")})})}),a("#superfooter").click(function(e){e.stopPropagation()}),a("#superfooter .opens-overlay-popup").addClass("opens-overlay"),a("#superfooter .opens-overlay>a").click(function(e){n();var t,i=a(this).parent();return a(">div,>ul",i).hasClass("closed")&&(a("li:last",t=i).addClass("last"),a(".overlay",t).slideToggle(function(){a(this).toggleClass("closed")}),a("a.close",t).remove(),a(".overlay",t).prepend('<a href="#" class="close"><span class="icon-square-close-micro"></span></a>'),a("a.close",t).click(function(){return n(),!1})),e.stopPropagation(),!1})}};a(window).on("load",function(){e.init()})}(jQuery),function(d){var n={inSharePointEditModeCache:null,inSharePointEditMode:function(){return null==n.inSharePointEditModeCache&&(n.inSharePointEditModeCache=0<d(".ms-formfieldlabel").length),n.inSharePointEditModeCache},add_link_class:function(e,t){$a=d(e),$a.data("linkClassAdded",!0);var i=!1,n=!1,r=String(e.href),a=$a.attr("href"),s=$a.text().trim(),o=/\(pdf\)$/i.test(s);r&&-1==r.indexOf("mailto")&&(i=!("#"==a||-1<r.indexOf("hbs.edu")||-1<r.indexOf("hbs.org")||-1<r.indexOf("service-now.com")||-1<r.indexOf("hbsstg.org")||-1<r.indexOf("localhost")||-1<r.indexOf("force.com")||-1<r.indexOf("hbscloud.org")||-1<r.indexOf("amazonaws.com")||-1<r.indexOf("hbs.planyourlegacy.org")||-1<r.indexOf("javascript:")),-1<r.indexOf(".pdf")&&(n=!(i=!1))),$a.hasClass("noext")&&(i=!1),-1<($a.attr("class")||"").indexOf("widget-video")&&(i=!1),($a.hasClass("nopdf")||$a.hasClass("btn-arrow"))&&(n=!1),t.v2&&o&&(n=!1),i&&0<$a.children("img").length&&"#"!=$a.attr("href")&&(i=!1,$a.addClass("ext-no-icon")),n&&0<$a.children("img").length&&"#"!=$a.attr("href")&&(n=!1,$a.addClass("ext-no-icon")),i&&$a.addClass("ext"),n&&$a.addClass("pdf")},std_link:function(e,t){if(!n.inSharePointEditMode()&&1!=d(e).data("linkClassAdded")){var i=e.outerHTML;"www.hbs.edu"===document.location.hostname&&e.hostname&&"prod.hbs.edu"===e.hostname&&(e.hostname="www.hbs.edu");t=d.extend({noIcons:!1,v2:!1},t),n.add_link_class(e,t),$a=d(e),$a.on("reset",function(){d(this).replaceWith(i)}),($a.hasClass("ext")||$a.hasClass("pdf")||$a.hasClass("ext-no-icon"))&&(d(e).parent().hasClass("opens-overlay")||e.target||(e.target="_blank",$a.attr("rel","noopener noreferrer"))),$a.hasClass("pdf")&&(t.noIcons||$a.hasClass("no-append")||-1!==$a.text().indexOf("(pdf)")||$a.append(" <span class='pdf-append'>(pdf)</span>")),d("#pdfHover").length<1&&d("body").append(d('<div id="pdfHover" aria-hidden="true"><span class="pdf-text">PDF</span><span class="arrow-down"> </span></div>')),($a.hasClass("pdf")||$a.hasClass("protected"))&&(t.noIcons||$a.hasClass("ext-no-icon")||$a.hasClass("no-pdf-hover")||d(e).hover(function(e){if(d(".ua-desktop").length){var t=e.pageX,i=e.pageY,n=d(this);if(n.hasClass("pdf")||n.hasClass("protected")){var r=d(e.target),a=Math.ceil(r.offset().top),s=i-a;r.prepend("<span>I</span>");var o=r.find("span").eq(0),l=o.height();o.remove();var c=0;l<=s&&(c=1),n.hasClass("protected")?(d("#pdfHover .pdf-text").html("LOGIN&nbsp;REQUIRED"),d("#pdfHover").addClass("protected")):(d("#pdfHover").removeClass("protected"),d("#pdfHover .pdf-text").html("PDF")),d("#pdfHover").css("top",a+c*l-33),d("#pdfHover").css("left",t-20)}}},function(){d("#pdfHover").css("top","-50px"),d("#pdfHover").css("left","-50px")}))}}};window.GlobalCore=n}(jQuery),window.query={},window.location.href.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,i,n){n&&(window.query[t]=n)});var removeAllStatus=function(){};!function(e){"use strict";e.console=e.console||{};for(var t,i,n=e.console,r={},a=function(){},s="memory".split(","),o="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=s.pop();)n[t]||(n[t]=r);for(;i=o.pop();)n[i]||(n[i]=a)}("undefined"==typeof window?this:window),function(){for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),r=window.setTimeout(function(){e(i+n)},n);return a=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e,t){var c=function(e){var t=e.url.replace(/jQuery.*/,"");return!1===e.cache&&(t=t.replace(/([?&])_=[^&]*/,"")),e.cacheKey||t+e.type+(e.data||"")},d=function(e){if(!e)return!1;if(!0===e)return t.localStorage;if("object"==typeof e&&"getItem"in e&&"removeItem"in e&&"setItem"in e)return e;throw new TypeError("localCache must either be a boolean value, or an object which implements the Storage interface.")},u=function(e,t){e.removeItem(t),e.removeItem(t+"cachettl"),e.removeItem(t+"dataType")};e.ajaxPrefilter(function(a){var e,s=d(a.localCache),o=a.cacheTTL||5,l=c(a),t=a.isCacheValid;s&&(e=s.getItem(l+"cachettl"),t&&"function"==typeof t&&!t()&&(u(s,l),e=0),e&&e<+new Date&&(u(s,l),e=0),s.getItem(l)||(a.success&&(a.realsuccess=a.success),a.success=function(e,t,i){var n=e,r=this.dataType||i.getResponseHeader("Content-Type");-1!==r.toLowerCase().indexOf("json")&&(n=JSON.stringify(e));try{s.setItem(l,n),s.setItem(l+"cachettl",+new Date+36e5*o),s.setItem(l+"dataType",r)}catch(e){u(s,l),console.log("Cache Error:"+e,l,n)}a.realsuccess&&a.realsuccess(e,t,i)}))}),e.ajaxTransport("+*",function(e){if(e.localCache){var t=c(e),i=d(e.localCache),n=e.dataType||i.getItem(t+"dataType")||"text",r=!!i&&i.getItem(t);if(r)return-1!==n.toLowerCase().indexOf("json")&&(r=JSON.parse(r)),{send:function(e,t){var i={};i[n]=r,t(200,"success",i,"")},abort:function(){console.log("Aborted ajax transport for json cache.")}}}})}(jQuery,window),"function"==typeof jQuery.fn.on&&function(l){var n=function(e){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(e)};n.prototype={constructor:n,validators:{notnull:function(e){return 0<e.length},notblank:function(e){return"string"==typeof e&&""!==e.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(e){if("object"!=typeof e)return this.notnull(e)&&this.notblank(e);for(var t in e)if(this.required(e[t]))return!0;return!1},type:function(e,t){var i;switch(t){case"number":i=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":i=/^\d+$/;break;case"alphanum":i=/^\w+$/;break;case"email":i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;break;case"url":e=/(https?|s?ftp|git)/i.test(e)?e:"http://"+e;case"urlstrict":i=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":i=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":i=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==e&&i.test(e)},regexp:function(e,t,i){return RegExp(t,i.options.regexpFlag||"").test(e)},minlength:function(e,t){return e.length>=t},maxlength:function(e,t){return e.length<=t},rangelength:function(e,t){return this.minlength(e,t[0])&&this.maxlength(e,t[1])},min:function(e,t){return Number(e)>=t},max:function(e,t){return Number(e)<=t},range:function(e,t){return e>=t[0]&&e<=t[1]},equalto:function(e,t,i){return i.options.validateIfUnchanged=!0,e===l(t).val()},remote:function(e,t,i){var n={},r={};n[i.$element.attr("name")]=e,void 0!==i.options.remoteDatatype&&(r={dataType:i.options.remoteDatatype});var a=function(e,t){void 0!==t&&void 0!==i.Validator.messages.remote&&t!==i.Validator.messages.remote&&l(i.ulError+" .remote").remove(),i.updtConstraint({name:"remote",valid:e},t),i.manageValidationResult()},s=function(e){if("object"==typeof e)return e;try{e=l.parseJSON(e)}catch(e){}return e},o=function(e){return"object"==typeof e&&null!==e?void 0!==e.error?e.error:void 0!==e.message?e.message:null:null};return l.ajax(l.extend({},{url:t,data:n,type:i.options.remoteMethod||"GET",success:function(e){e=s(e),a(1===e||!0===e||"object"==typeof e&&null!==e&&void 0!==e.success,o(e))},error:function(e){e=s(e),a(!1,o(e))}},r)),null},mincheck:function(e,t){return this.minlength(e,t)},maxcheck:function(e,t){return this.maxlength(e,t)},rangecheck:function(e,t){return this.rangelength(e,t)}},init:function(e){var t=e.validators;for(var i in e=e.messages,t)this.addValidator(i,t[i]);for(i in e)this.addMessage(i,e[i])},formatMesssage:function(e,t){if("object"!=typeof t)return"string"==typeof e?e.replace(/%s/i,t):"";for(var i in t)e=this.formatMesssage(e,t[i]);return e},addValidator:function(e,t){this.validators[e]=t},addMessage:function(e,t,i){if(void 0!==i&&!0===i)this.messages.type[e]=t;else if("type"===e)for(var n in t)this.messages.type[n]=t[n];else this.messages[e]=t}};var s=function(e,t,i){if(this.options=t,this.Validator=new n(t),"ParsleyFieldMultiple"===i)return this;this.init(e,i||"ParsleyField")};s.prototype={constructor:s,init:function(e,t){this.type=t,this.valid=!0,this.element=e,this.validatedOnce=!1,this.$element=l(e),this.val=this.$element.val(),this.isRequired=!1,this.constraints={},void 0===this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash(),this.errorClassHandler=this.options.errors.classHandler(e,this.isRadioOrCheckbox)||this.$element),this.ulErrorManagement(),this.bindHtml5Constraints(),this.addConstraints(),this.hasConstraints()&&this.bindValidationEvents()},setParent:function(e){this.$parent=l(e)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.prop("required"))&&(this.options.required=!0),void 0!==this.$element.attr("type")&&RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),RegExp(this.options.type,"i").test("number range")&&(this.options.type="number",void 0!==this.$element.attr("min")&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),void 0!==this.$element.attr("max")&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max")))),"string"==typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length&&(this.options.regexp=this.$element.attr("pattern"))},addConstraints:function(){for(var e in this.options){var t={};t[e]=this.options[e],this.addConstraint(t,!0)}},addConstraint:function(e,t){for(var i in e)i=i.toLowerCase(),"function"==typeof this.Validator.validators[i]&&(this.constraints[i]={name:i,requirements:e[i],valid:null},"required"===i&&(this.isRequired=!0),this.addCustomConstraintMessage(i));void 0===t&&this.bindValidationEvents()},updateConstraint:function(e,t){for(var i in e)this.updtConstraint({name:i,requirements:e[i],valid:null},t)},updtConstraint:function(e,t){this.constraints[e.name]=l.extend(!0,this.constraints[e.name],e),"string"==typeof t&&(this.Validator.messages[e.name]=t),this.bindValidationEvents()},removeConstraint:function(e){e=e.toLowerCase(),delete this.constraints[e],"required"===e&&(this.isRequired=!1),this.hasConstraints()?this.bindValidationEvents():"ParsleyForm"==typeof this.getParent()?this.getParent().removeItem(this.$element):this.destroy()},addCustomConstraintMessage:function(e){var t=e+("type"===e&&void 0!==this.options[e]?this.options[e].charAt(0).toUpperCase()+this.options[e].substr(1):"")+"Message";void 0!==this.options[t]&&this.Validator.addMessage("type"===e?this.options[e]:e,this.options[t],"type"===e)},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type),this.options.remote&&!/change/i.test(this.options.trigger)&&(this.options.trigger=this.options.trigger?" change":"change");var e=(this.options.trigger?this.options.trigger:"")+(/key/i.test(this.options.trigger)?"":" keyup");this.$element.is("select")&&(e+=/change/i.test(e)?"":" change"),e=e.replace(/^\s+/g,"").replace(/\s+$/g,""),this.$element.on((e+" ").split(" ").join("."+this.type+" "),!1,l.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.data("value")||this.$element.val()},eventValidation:function(e){var t=this.getVal();if("keyup"===e.type&&!/keyup/i.test(this.options.trigger)&&!this.validatedOnce||"change"===e.type&&!/change/i.test(this.options.trigger)&&!this.validatedOnce||!this.isRadioOrCheckbox&&t.length<this.options.validationMinlength&&!this.validatedOnce)return!0;this.validate()},isValid:function(){return this.validate(!1)},hasConstraints:function(){for(var e in this.constraints)return!0;return!1},validate:function(e){var t,i=this.getVal();return this.hasConstraints()?this.options.listeners.onFieldValidate(this.element,this)||""===i&&!this.isRequired?(this.reset(),null):this.needsValidation(i)?(t=this.applyValidators(),(void 0!==e?e:this.options.showErrors)&&this.manageValidationResult(),t):this.valid:null},needsValidation:function(e){return!(!this.options.validateIfUnchanged&&null!==this.valid&&this.val===e&&this.validatedOnce)&&(this.val=e,this.validatedOnce=!0)},applyValidators:function(){var e,t=null;for(e in this.constraints){var i=this.Validator.validators[this.constraints[e].name](this.val,this.constraints[e].requirements,this);!1===i?(t=!1,this.constraints[e].valid=t,this.options.listeners.onFieldError(this.element,this.constraints,this)):!0===i&&(t=!(this.constraints[e].valid=!0)!==t,this.options.listeners.onFieldSuccess(this.element,this.constraints,this))}return t},manageValidationResult:function(){var e,t=null;for(e in this.constraints)!1===this.constraints[e].valid?(this.manageError(this.constraints[e]),t=!1):!0===this.constraints[e].valid&&(this.removeError(this.constraints[e].name),t=!1!==t);return this.valid=t,!0===this.valid?(this.removeErrors(),this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),!0):!1===this.valid?(this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),!1):t},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=l(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(e){e=this.ulError+" ."+e;var t=this;this.options.animate?l(e).fadeOut(this.options.animateDuration,function(){l(this).remove(),t.ulError&&0===l(t.ulError).children().length&&t.removeErrors()}):l(e).remove(),this.ulError&&0===l(this.ulError).children().length&&this.removeErrors()},addError:function(e){for(var t in e){var i=l(this.options.errors.errorElem).addClass(t);l(this.ulError).append(this.options.animate?l(i).html(e[t]).hide().fadeIn(this.options.animateDuration):l(i).html(e[t]))}},removeErrors:function(){this.options.animate?l(this.ulError).fadeOut(this.options.animateDuration,function(){l(this).remove()}):l(this.ulError).remove()},reset:function(){for(var e in this.valid=null,this.removeErrors(),this.validatedOnce=!1,this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass),this.constraints)this.constraints[e].valid=null;return this},manageError:function(e){if(l(this.ulError).length||this.manageErrorContainer(),!("required"===e.name&&null!==this.getVal()&&0<this.getVal().length||this.isRequired&&"required"!==e.name&&(null===this.getVal()||0===this.getVal().length))){var t=e.name,i=!1!==this.options.errorMessage?"custom-error-message":t,n={};e=!1!==this.options.errorMessage?this.options.errorMessage:"type"===e.name?this.Validator.messages[t][e.requirements]:void 0===this.Validator.messages[t]?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[t],e.requirements),l(this.ulError+" ."+i).length||(n[i]=e,this.addError(n))}},manageErrorContainer:function(){var e=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),t=this.options.animate?this.ulTemplate.show():this.ulTemplate;void 0!==e?l(e).append(t):this.isRadioOrCheckbox?this.$element.parent().after(t):this.$element.after(t)},addListener:function(e){for(var t in e)this.options.listeners[t]=e[t]},destroy:function(){this.$element.removeClass("parsley-validated"),this.reset().$element.off("."+this.type).removeData(this.type)}};var o=function(e,t,i){this.initMultiple(e,t),this.inherit(e,t),this.Validator=new n(t),this.init(e,i||"ParsleyFieldMultiple")};o.prototype={constructor:o,initMultiple:function(e,t){this.element=e,this.$element=l(e),this.group=t.group||!1,this.hash=this.getName(),this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]',this.isRadioOrCheckbox=!0,this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.errorClassHandler=t.errors.classHandler(e,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(e,t){var i,n=new s(e,t,"ParsleyFieldMultiple");for(i in n)void 0===this[i]&&(this[i]=n[i])},getName:function(){if(this.group)return"parsley-"+this.group;if(void 0===this.$element.attr("name"))throw"A radio / checkbox input must have a data-group attribute or a name to be Parsley validated !";return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio)return l(this.siblings+":checked").val()||"";if(this.isCheckbox){var e=[];return l(this.siblings+":checked").each(function(){e.push(l(this).val())}),e}},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type);var e=this,t=(t=(this.options.trigger?this.options.trigger:"")+(/change/i.test(this.options.trigger)?"":" change")).replace(/^\s+/g,"").replace(/\s+$/g,"");l(this.siblings).each(function(){l(this).on(t.split(" ").join("."+e.type+" "),!1,l.proxy(e.eventValidation,e))})}};var c=function(e,t,i){this.init(e,t,i||"parsleyForm")};c.prototype={constructor:c,init:function(e,t,i){this.type=i,this.items=[],this.$element=l(e),this.options=t;var n=this;this.$element.find(t.inputs).each(function(){n.addItem(this)}),this.$element.on("submit."+this.type,!1,l.proxy(this.validate,this))},addListener:function(e){for(var t in e)if(/Field/.test(t))for(var i=0;i<this.items.length;i++)this.items[i].addListener(e);else this.options.listeners[t]=e[t]},addItem:function(e){if(l(e).is(this.options.excluded))return!1;(e=l(e).parsley(this.options)).setParent(this),this.items.push(e)},removeItem:function(e){e=l(e).parsley();for(var t=0;t<this.items.length;t++)if(this.items[t].hash===e.hash)return this.items[t].destroy(),this.items.splice(t,1),!0;return!1},validate:function(e){var t=!0;this.focusedField=!1;for(var i=0;i<this.items.length;i++)void 0!==this.items[i]&&!1===this.items[i].validate()&&(t=!1,!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus)&&(this.focusedField=this.items[i].$element);return this.focusedField&&!t&&this.focusedField.focus(),this.options.listeners.onFormSubmit(t,e,this),t},isValid:function(){for(var e=0;e<this.items.length;e++)if(!1===this.items[e].isValid())return!1;return!0},removeErrors:function(){for(var e=0;e<this.items.length;e++)this.items[e].parsley("reset")},destroy:function(){for(var e=0;e<this.items.length;e++)this.items[e].destroy();this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var e=0;e<this.items.length;e++)this.items[e].reset()}},l.fn.parsley=function(n,r){function e(e,t){var i=l(e).data(t);if(!i){switch(t){case"parsleyForm":i=new c(e,a,"parsleyForm");break;case"parsleyField":i=new s(e,a,"parsleyField");break;case"parsleyFieldMultiple":i=new o(e,a,"parsleyFieldMultiple");break;default:return}l(e).data(t,i)}return"string"==typeof n&&"function"==typeof i[n]?void 0!==(i=i[n](r))?i:l(e):i}var a=l.extend(!0,{},l.fn.parsley.defaults,void 0!==window.ParsleyConfig?window.ParsleyConfig:{},n,this.data()),t=null;return l(this).is("form")?t=e(l(this),"parsleyForm"):l(this).is(a.inputs)&&!l(this).is(a.excluded)&&(t=e(l(this),l(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof r?r():t},l.fn.parsley.Constructor=c,l.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], :disabled",trigger:!1,animate:!0,animateDuration:300,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},showErrors:!0,messages:{},validateIfUnchanged:!1,errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(){return!1},onFormSubmit:function(){},onFieldError:function(){},onFieldSuccess:function(){}}},l(window).on("load",function(){l('[data-validate="parsley"]').each(function(){l(this).parsley()})})}(window.jQuery||window.Zepto),define("jquery",function(){if("undefined"==typeof jQuery)throw"jQuery is not installed";return jQuery}),define("framework/smoothscroll",["jquery"],function(o){return function(e,t,i){var n=o(e).attr("href");if(!t.isDefaultPrevented()&&0==n.indexOf("#")){var r=e.href.split("#")[1],a=o(document.getElementById(r));if(o(e).attr("id")&&window.analytics&&analytics.event(o(e).attr("id")),0==a.length)return!1;if(-1<r.indexOf("xslq-logline"))return!1;if(o("body").hasClass("nosmooth"))return!1;if(o(e).hasClass("nosmooth"))return!1;a.attr("id",r+"-link"),window.setTimeout(function(){a.attr("id",r)},1e3);var s=a.offset().top;return i?o(e).addClass("smooth-scroll-mock"):(document.getElementById("s4-workspace")?o("#s4-workspace,html,body").animate({scrollTop:s},1e3,"swing",function(){document.location.href="#"+r}):o("html,body").animate({scrollTop:s},1e3,"swing",function(){document.location.href="#"+r}),t.preventDefault()),!0}}}),define("framework/tabs",["jquery"],function(s){return function(e){var r=s(e);if(!0!==r.data("tabs-installed")){r.data("tabs-installed",!0);var a="inherit-bg";s(e).hasClass("active-white-bg")&&(a="white-bg"),s(e).on("mouseenter","a",function(){!s(this).hasClass(a)&&s("html").hasClass("ua-no-touch")&&s(this).addClass("hover")}),s(e).on("mouseleave","a",function(){s(this).hasClass(a)||s(this).removeClass("hover")}),s(e).on("click","a[href^='#']",function(e,t){var i=this,n=r.parents(".fade-container-active").eq(0);return n.length&&(r.is("table")?n.find(".overflow-x").animate({scrollLeft:s(i).offset().left+n.find(".overflow-x").scrollLeft()-60},500):r.animate({scrollLeft:s(i).offset().left+r.scrollLeft()-40},500)),s("a",s(this).parents(".nav-tabs").eq(0)).each(function(){s(this).removeClass(a+" hover"),s(this).parent().removeClass("active");var e=this.href.split("#",2)[1];$target=s("*[id='"+e+"']"),window.analytics&&!t&&i==this&&$target.length&&analytics.event("nav-tab-"+e.toLowerCase()),i==this?$target.show():$target.hide()}),s(i).addClass(a).parent().addClass("active"),s(document).trigger("framework.domupdate"),!1}),s(e).find("li, td").eq(0).find("a").trigger("click",!0)}}}),define("framework/choice",["jquery"],function(i){function n(e,t){i(t).find(".choice-button-active").removeClass("choice-button-active"),i(e).addClass("choice-button-active"),i("a.choice-button",t).each(function(){$target=i(document.getElementById(this.href.split("#",2)[1])),e==this?$target.show():$target.hide(),e==this?$target.addClass("choice-active"):$target.removeClass("choice-active")}),i("input.choice-button:radio",t).each(function(){$target=i(document.getElementById(this.value.split("#",2)[1])),e==this?$target.show():$target.hide(),e==this?$target.addClass("choice-active"):$target.removeClass("choice-active")}),i("option.choice-button",t).each(function(){$target=i(document.getElementById(this.value.split("#",2)[1])),e==this?$target.show():$target.hide(),e==this?$target.addClass("choice-active"):$target.removeClass("choice-active")}),i(document).trigger("framework.domupdate"),window.Widgets&&Widgets.refresh(),i(t).trigger("changed")}return function(t){var e=i(t);!0!==e.data("choice-installed")&&(e.data("choice-installed",!0),i(t).is("select")&&(i(t).on("change",function(){n(i(this).find(":selected")[0],t)}),n(i(t).find(":selected")[0],t)),i(t).on("click","a[href^='#']",function(e){n(this,t),e.preventDefault()}),i(t).on("change",".choice-button:radio",function(e){console.info(this,t),n(this,t)}),i(t).find(".choice-button:radio").length?i(t).find(".choice-button:checked").eq(0).trigger("change"):i(t).find(".choice-button").eq(0).click())}}),define("framework/megamenu",["jquery"],function(n){return function(i){var e=n(i);if(!0!==e.data("megamenu-installed")){e.data("megamenu-installed",!0),e.on("click",".megamenu-close",function(e){n(".megamenu-toggled",i).removeClass("megamenu-toggled"),e.preventDefault()}),n("body").click(function(e){jQuery.contains(i,e.target)||n(".megamenu-toggled",i).removeClass("megamenu-toggled")});e.on("click",".megamenu-button",function(e){var t=n(this).parents(".megamenu-item").eq(0);t.hasClass("megamenu-toggled")?n(".megamenu-toggled",i).removeClass("megamenu-toggled"):(n(".megamenu-toggled",i).removeClass("megamenu-toggled"),n(t).addClass("megamenu-toggled")),e.preventDefault()})}}}),define("framework/links",["jquery"],function(t){return function(e){t("a",e).each(function(){if(!(this.href&&-1<String(this.href).indexOf("twitter.com/intent")))if(t(e).hasClass("link-controller-v2")){GlobalCore.std_link(this,{v2:!0})}else GlobalCore.std_link(this)})}}),define("framework/slideshow",["jquery"],function(o){return function(e){if(!o(e).hasClass("slideshow-pattern")){o(e).addClass("slideshow-pattern"),o(".slideshow-images",e).hide();var t,i,n=o(e).find(".slideshow-images > li > img:not(.thumbnail)");t=e,i='<div class="slideshow-viewport mobile-hidden"><img src="'+n[0].src+'" class="fluid"/></div><div class="slideshow-controls mobile-hidden"></div>',o(t).append(i),function(a,s){var e=o(".slideshow-controls",a),i='<div class="slideshow-thumbnails-viewport"><ul class="slideshow-thumbnails">';if(s.each(function(){var e=o(this).parent().find("img.thumbnail").eq(0).attr("src")||this.src,t=this.src;i+='<li><a href="#" class="stroke2 inherit-border-color-onhover"><img src="'+e+'" width="56" height="52" data-src="'+t+'"/></a></li>'}),o(a).hasClass("dark")&&(i=i.replace(/stroke2 /g,"white-stroke2 ")),i+="</ul></div>",e.append(i),0<s.filter("[title]").length){var t=o(".slideshow-images img:not(.thumbnail)",a).eq(0);t&&t.attr("title")&&o(".slideshow-caption").html(t.attr("title")),e.append('<div class="slideshow-caption nu"></div>'),e.addClass("captioned")}o(".slideshow-thumbnails a",a).click(function(e){var t=o(".slideshow-thumbnails a",a).index(this);if(0==t?o(a).hasClass("dark")?o(".slideshow-nav .prev",a).addClass("disabled").find("span").addClass("fade icon-circle-arrow-left-white").removeClass("icon-circle-arrow-left-white-inverted inherit-bg"):o(".slideshow-nav .prev",a).addClass("disabled").find("span").addClass("fade icon-circle-arrow-left").removeClass("icon-circle-arrow-left-white-inverted inherit-bg icon-circle-arrow-left-white"):o(".slideshow-nav .prev",a).removeClass("disabled").find("span").removeClass("fade"),t==s.length-1?o(a).hasClass("dark")?o(".slideshow-nav .next",a).addClass("disabled").find("span").addClass("fade icon-circle-arrow-right-white").removeClass("icon-circle-arrow-right-white-inverted inherit-bg"):o(".slideshow-nav .next",a).addClass("disabled").find("span").addClass("fade icon-circle-arrow-right").removeClass("icon-circle-arrow-right-white-inverted icon-circle-arrow-right-white inherit-bg"):o(".slideshow-nav .next",a).removeClass("disabled").find("span").removeClass("fade"),5<s.length){var i=(o(this).parent().width()+8)*(t-2);i<0&&(i=0),console.info("animating",i),o(a).find(".slideshow-thumbnails").stop().animate({left:-i},500,"swing")}var n=o("img",this).data("src");o(".slideshow-viewport img",a).attr("src",n);var r=o(".slideshow-images img:not(.thumbnail)",a).eq(t);console.info("index",t,r[0]),r&&r.attr("title")?o(".slideshow-caption",a).fadeOut("fast",function(){o(this).html(r.attr("title")).fadeIn("fast")}):o(".slideshow-caption",a).html(""),o(".slideshow-thumbnails .active",a).removeClass("active"),o(this).parent().addClass("active"),e.preventDefault(),e.stopPropagation()})}(e,n),function(t,e){if(0!=e.length){var i='<ul class="slideshow-nav mobile-hidden">';i+='<li><a href="#" class="prev" role="button"><span aria-hidden="true" class="icon-circle-arrow-left"></span></a></li>',i+='<li><a href="#" class="next" role="button"><span aria-hidden="true" class="icon-circle-arrow-right"></span></a></li>',o(t).hasClass("dark")&&(i=(i=i.replace("icon-circle-arrow-left","icon-circle-arrow-left-white")).replace("icon-circle-arrow-right","icon-circle-arrow-right-white")),i+="</ul>",o(".slideshow-controls",t).append(i),o(".slideshow-nav span",t).hover(function(){o(this).hasClass("fade")||(-1<this.className.indexOf("left-white")?this.className="icon-circle-arrow-left-inverted inherit-bg":-1<this.className.indexOf("left")&&o(t).hasClass("light")?this.className="icon-circle-arrow-left-white":-1<this.className.indexOf("left")?this.className="icon-circle-arrow-left-white-inverted inherit-bg":-1<this.className.indexOf("right-white")?this.className="icon-circle-arrow-right-inverted inherit-bg":-1<this.className.indexOf("right")&&o(t).hasClass("light")?this.className="icon-circle-arrow-right-white":-1<this.className.indexOf("right")&&(this.className="icon-circle-arrow-right-white-inverted inherit-bg"))},function(){o(this).hasClass("fade")||(-1<this.className.indexOf("left-inverted")?this.className="icon-circle-arrow-left-white":-1<this.className.indexOf("left")?this.className="icon-circle-arrow-left":-1<this.className.indexOf("right-inverted")?this.className="icon-circle-arrow-right-white":-1<this.className.indexOf("right")&&(this.className="icon-circle-arrow-right"))}),o(".slideshow-nav .next,.slideshow-nav .prev",t).click(function(e){e.preventDefault(),o(this).hasClass("disabled")||(o(this).hasClass("next")?o(".slideshow-thumbnails .active",t).next().find("a").click():o(".slideshow-thumbnails .active",t).prev().find("a").click())})}}(e,n),function(e,t){if(0!=t.length){var i='<div class="carousel-container mobile-visible">';i+='<ul class="carousel-panels">',t.each(function(){var e=o(this).attr("src"),t=o(this).attr("title");i+=t?'<li><img src="'+e+'" class="fluid"/><div>'+t+"</div></li>":'<li><img src="'+e+'" class="fluid"/></li>'}),i+="</ul>",i+='<div class="carousel-nav carousel-nav-minimal carousel-nav-centered"></div>',i+="</div>",o(e).append(i)}}(e,n),o(".slideshow-thumbnails a",e).eq(0).click()}}}),define("framework/obfuscate",["jquery"],function(n){return function(e){var t;1!=n(e).data("obfuscations-installed")&&(n(e).data("obfuscations-installed",!0),t=i(t=(t=i(t=-1<e.href.indexOf("mailto:")?e.href.replace("mailto:",""):e.innerHTML)).replace(/\+/,"@")),-1==e.href.indexOf("mailto")&&(e.innerHTML=t),e.href="mailto:"+t);function i(e){return e.split("").reverse().join("")}}}),define("framework/expandable",["jquery"],function(n){function i(e){var t=e.clone(!0,!0);if(n("html").hasClass("ua-mobile")&&!e.next().hasClass("accordionized")){console.log("Mobile");var i="";i+='<div class="expandable-headings accordionized"><div class="toggle-container">',i+='<button role="button" aria-label="show" href="#" class="toggle-button black eta-uc">'+e.find("h2, h3").first().text()+' <i class="icon24-open toggle-hide"></i><i class="icon24-close toggle-show"></i></a>',i+='<div class="toggle-show has-slide accordion-body">',t.find("h2, h3").first().remove(),i+="</div></div></div>",e.addClass("original").hide(),$newel=n(i),e.after($newel),$newel.find(".accordion-body").append(t),n(document).trigger("framework.domupdate")}(n("html").hasClass("ua-tablet")||n("html").hasClass("ua-desktop"))&&(console.log("tablet or desktop"),e.next(".accordionized").remove(),e.show(),n(document).trigger("framework.domupdate"))}return function(e){if(!0!==n(e).data("expandable-installed")){n(e).data("expandable-installed",!0);var t=n(e);t.find("dd").hide(),t.hasClass("plusminus")&&t.find(">dt").each(function(){n(this).find("a:first").prepend('<span class="plus" aria-hidden="true">+</span><span class="minus" aria-hidden="true">&ndash;</span>'),n(this).find("a:first").attr("aria-expanded","false")}),t.hasClass("accordian")&&t.find(">dt").each(function(){n(this).find("a:first").after('<span class="icon-accordian-expand"></span><span class="icon-accordian-collapse"></span>'),n(this).find("a:first").attr("aria-expanded","false")}),t.hasClass("mobile-accordion")?(n(".mobile-accordion-header",t).each(function(){window.framework.fastClick(this),n(this).hasClass("mobile-accordion-header-plusminus")?n(this).prepend('<span class="icon-plusbox mobile-visible"></span>'):n(this).prepend('<span class="icon-expand2 mobile-visible black"></span>')}),t.on("click",".mobile-accordion-header",function(){console.info(n(this).find("mobile-visible:visible").length),0!==n(this).find(".mobile-visible:visible").length&&(n(this).hasClass("mobile-accordion-header-plusminus")&&n(this).find(".icon-plusbox,.icon-minusbox").toggleClass("icon-minusbox icon-plubox"),n(this).toggleClass("mobile-accordion-header-active").next(".mobile-accordion-body").slideToggle("fast"))}),t.find(".mobile-accordion-header.mobile-accordion-header-active").each(function(){n(this).hasClass("mobile-accordion-header-plusminus")&&n(this).find(".icon-plusbox,.icon-minusbox").toggleClass("icon-minusbox icon-plubox"),n(this).next(".mobile-accordion-body").css("display","block")})):t.hasClass("mobile-accordion2")?t.on("click","a",function(e){var t=n(this).parent();if(t.toggleClass("active"),0==t.find(".mobile-accordion2-placeholder").length){var i=n(this).attr("href");t.append('<div class="mobile-accordion2-placeholder"></div>'),n(i).each(function(){t.find(".mobile-accordion2-placeholder").append(this)})}e.preventDefault()}):t.hasClass("mobile-expandable-headings")?(i(t),n(document).bind("framework.resize",function(){i(t)})):(t.on("click","dt",function(){return n(this).toggleClass("open").next("dd").slideToggle("fast"),n(this).hasClass("open")?n(this).find("a:first").attr("aria-expanded","true"):n(this).find("a:first").attr("aria-expanded","false"),window.Widgets&&window.Widgets.refresh(),!1}),n("dt.open",t).each(function(){n(this).next("dd").slideToggle("fast")}))}}}),function(c,e){var t=function(){return t.get.apply(t,arguments)},d=t.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],i="";for(i in e)e.hasOwnProperty(i)&&t.push(i);return t},escape:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},retrieve:function(e,t){return null==e?t:e}};t.defaults={},t.expiresMultiplier=86400,t.set=function(e,t,i){if(d.isPlainObject(e))for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n],t);else{var r=void 0!==(i=d.isPlainObject(i)?i:{expires:i}).expires?i.expires:this.defaults.expires||"",a=typeof r;"string"===a&&""!==r?r=new Date(r):"number"===a&&(r=new Date(+new Date+1e3*this.expiresMultiplier*r)),""!==r&&"toGMTString"in r&&(r=";expires="+r.toGMTString());var s=i.path||this.defaults.path;s=s?";path="+s:"";var o=i.domain||this.defaults.domain;o=o?";domain="+o:"";var l=i.secure||this.defaults.secure?";secure":"";c.cookie=d.escape(e)+"="+d.escape(t)+r+s+o+l}return this},t.remove=function(e){for(var t=0,i=(e=d.isArray(e)?e:d.toArray(arguments)).length;t<i;t++)this.set(e[t],"",-1);return this},t.empty=function(){return this.remove(d.getKeys(this.all()))},t.get=function(e,t){t=t||void 0;var i=this.all();if(d.isArray(e)){for(var n={},r=0,a=e.length;r<a;r++){var s=e[r];n[s]=d.retrieve(i[s],t)}return n}return d.retrieve(i[e],t)},t.all=function(){if(""===c.cookie)return{};for(var e=c.cookie.split("; "),t={},i=0,n=e.length;i<n;i++){var r=e[i].split("=");"AnalyticsData"!=r[0]&&(t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]))}return t},t.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===t.set("_","_").get("_");return t.remove("_"),e},"function"==typeof define&&define.amd?define("framework/cookie",[],function(){return t}):"undefined"!=typeof exports?exports.cookie=t:window.cookie=t}(document),define("punycode",function(){window.punycode}),define("framework/punycode",[],function(){}),define("IPv6",function(){window.IPv6}),define("framework/IPv6",[],function(){}),define("SecondLevelDomains",function(){window.SecondLevelDomains}),define("framework/SecondLevelDomains",[],function(){}),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define("framework/URI",["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(o,t,c,i){function d(e,t){return this instanceof d?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new d(e,t)}function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===a(e)}function s(e,t){var i,n;if(l(t)){for(i=0,n=t.length;i<n;i++)if(!s(e,t[i]))return!1;return!0}var r=a(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function u(e,t){if(!l(e)||!l(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function n(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,n).replace(/\*/g,"%2A")}var p=i&&i.URI;d.version="1.13.2";var e=d.prototype,f=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}},d.duplicateQueryParameters=!1,d.escapeQuerySpace=!0,d.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,d.idn_expression=/[^a-z0-9\.-]/i,d.punycode_expression=/(xn--)/i,d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},d.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},d.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:d.domAttributes[t]}},d.encode=h,d.decode=decodeURIComponent,d.iso8859=function(){d.encode=escape,d.decode=unescape},d.unicode=function(){d.encode=h,d.decode=decodeURIComponent},d.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},d.encodeQuery=function(e,t){var i=d.encode(e+"");return void 0===t&&(t=d.escapeQuerySpace),t?i.replace(/%20/g,"+"):i},d.decodeQuery=function(t,e){t+="",void 0===e&&(e=d.escapeQuerySpace);try{return d.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},d.recodePath=function(e){for(var t=0,i=(e=(e+"").split("/")).length;t<i;t++)e[t]=d.encodePathSegment(d.decode(e[t]));return e.join("/")},d.decodePath=function(e){for(var t=0,i=(e=(e+"").split("/")).length;t<i;t++)e[t]=d.decodePathSegment(e[t]);return e.join("/")};var m,g={encode:"encode",decode:"decode"},v=function(t,i){return function(e){return d[i](e+"").replace(d.characters[t][i].expression,function(e){return d.characters[t][i].map[e]})}};for(m in g)d[m+"PathSegment"]=v("pathname",g[m]);for(m in d.encodeReserved=v("reserved","encode"),d.parse=function(e,t){var i;return t||(t={}),-1<(i=e.indexOf("#"))&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),-1<(i=e.indexOf("?"))&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=d.parseAuthority(e,t)):-1<(i=e.indexOf(":"))&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(d.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(i+3):"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=d.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},d.parseHost=function(e,t){var i,n=e.indexOf("/");return-1===n&&(n=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,n)||null,"/"===t.port&&(t.port=null)):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null),t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},d.parseAuthority=function(e,t){return e=d.parseUserinfo(e,t),d.parseHost(e,t)},d.parseUserinfo=function(e,t){var i=e.indexOf("/"),n=-1<i?e.lastIndexOf("@",i):e.indexOf("@");return-1<n&&(-1===i||n<i)?(i=e.substring(0,n).split(":"),t.username=i[0]?d.decode(i[0]):null,i.shift(),t.password=i[0]?d.decode(i.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},d.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i,n,r={},a=e.split("&"),s=a.length,o=0;o<s;o++)i=a[o].split("="),n=d.decodeQuery(i.shift(),t),i=i.length?d.decodeQuery(i.join("="),t):null,r[n]?("string"==typeof r[n]&&(r[n]=[r[n]]),r[n].push(i)):r[n]=i;return r},d.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=d.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},d.buildHost=function(e){var t="";return e.hostname?(t=d.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},d.buildAuthority=function(e){return d.buildUserinfo(e)+d.buildHost(e)},d.buildUserinfo=function(e){var t="";return e.username&&(t+=d.encode(e.username),e.password&&(t+=":"+d.encode(e.password)),t+="@"),t},d.buildQuery=function(e,t,i){var n,r,a,s,o="";for(r in e)if(f.call(e,r)&&r)if(l(e[r]))for(n={},a=0,s=e[r].length;a<s;a++)void 0!==e[r][a]&&void 0===n[e[r][a]+""]&&(o+="&"+d.buildQueryParameter(r,e[r][a],i),!0!==t&&(n[e[r][a]+""]=!0));else void 0!==e[r]&&(o+="&"+d.buildQueryParameter(r,e[r],i));return o.substring(1)},d.buildQueryParameter=function(e,t,i){return d.encodeQuery(e,i)+(null!==t?"="+d.encodeQuery(t,i):"")},d.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)f.call(t,n)&&d.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=i:("string"==typeof e[t]&&(e[t]=[e[t]]),l(i)||(i=[i]),e[t]=e[t].concat(i))}},d.removeQuery=function(e,t,i){var n;if(l(t))for(i=0,n=t.length;i<n;i++)e[t[i]]=void 0;else if("object"==typeof t)for(n in t)f.call(t,n)&&d.removeQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==i){if(e[t]===i)e[t]=void 0;else if(l(e[t])){n=e[t];var r,a,s={};if(l(i))for(r=0,a=i.length;r<a;r++)s[i[r]]=!0;else s[i]=!0;for(r=0,a=n.length;r<a;r++)void 0!==s[n[r]]&&(n.splice(r,1),a--,r--);e[t]=n}}else e[t]=void 0}},d.hasQuery=function(e,t,i,n){if("object"==typeof t){for(var r in t)if(f.call(t,r)&&!d.hasQuery(e,r,t[r]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(i)){case"Undefined":return t in e;case"Boolean":return i===(e=Boolean(l(e[t])?e[t].length:e[t]));case"Function":return!!i(e[t],t,e);case"Array":return!!l(e[t])&&(n?s:u)(e[t],i);case"RegExp":return l(e[t])?!!n&&s(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return l(e[t])?!!n&&s(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},d.commonPath=function(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},d.withinString=function(e,t,i){i||(i={});var n=i.start||d.findUri.start,r=i.end||d.findUri.end,a=i.trim||d.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var o=n.exec(e);if(!o)break;if(o=o.index,i.ignoreHtml)if((l=e.slice(Math.max(o-3,0),o))&&s.test(l))continue;var l=o+e.slice(o).search(r),c=e.slice(o,l).replace(a,"");i.ignore&&i.ignore.test(c)||(c=t(c,o,l=o+c.length,e),e=e.slice(0,o)+c+e.slice(l),n.lastIndex=o+c.length)}return n.lastIndex=0,e},d.ensureValidHostname=function(e){if(e.match(d.invalid_hostname_characters)){if(!o)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(o.toASCII(e).match(d.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},d.noConflict=function(e){return e?(e={URI:this.noConflict()},i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(e.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(e.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=i.SecondLevelDomains.noConflict()),e):(i.URI===this&&(i.URI=p),this)},e.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=d.build(this._parts),this._deferred_build=!1),this},e.clone=function(){return new d(this)},e.valueOf=e.toString=function(){return this.build(!1)._string},v=function(i){return function(e,t){return void 0===e?this._parts[i]||"":(this._parts[i]=e||null,this.build(!t),this)}},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"})e[m]=v(g[m]);for(m in v=function(i,n){return function(e,t){return void 0===e?this._parts[i]||"":(null!==e&&((e+="").charAt(0)===n&&(e=e.substring(1))),this._parts[i]=e,this.build(!t),this)}},g={query:"?",fragment:"#"})e[m]=v(m,g[m]);for(m in v=function(n,r){return function(e,t){var i=this[n](e,t);return"string"==typeof i&&i.length?r+i:i}},g={search:["?","query"],hash:["#","fragment"]})e[m]=v(g[m][1],g[m][0]);e.pathname=function(e,t){if(void 0!==e&&!0!==e)return this._parts.path=e?d.recodePath(e):"/",this.build(!t),this;var i=this._parts.path||(this._parts.hostname?"/":"");return e?d.decodePath(i):i},e.path=e.pathname,e.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=d._parts();var n=e instanceof d,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[r=d.getDomAttribute(e)]||"",r=!1),!n&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=d.parse(e,this._parts);else{if(!n&&!r)throw new TypeError("invalid input");for(i in n=n?e._parts:e)f.call(this._parts,i)&&(this._parts[i]=n[i])}return this.build(!t),this},e.is=function(e){var t=!1,i=!1,n=!1,r=!1,a=!1,s=!1,o=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,i=d.ip4_expression.test(this._parts.hostname),n=d.ip6_expression.test(this._parts.hostname),a=(r=!(t=i||n))&&c&&c.has(this._parts.hostname),s=r&&d.idn_expression.test(this._parts.hostname),o=r&&d.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return r;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return n;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return o}return null};var w=e.protocol,b=e.port,y=e.hostname;e.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(d.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,e,t)},e.scheme=e.protocol,e.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return b.call(this,e,t)},e.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};d.parseHost(e,i),e=i.hostname}return y.call(this,e,t)},e.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?d.buildHost(this._parts):"":(d.parseHost(e,this._parts),this.build(!t),this)},e.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?d.buildAuthority(this._parts):"":(d.parseAuthority(e,this._parts),this.build(!t),this)},e.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return"@"!==e[e.length-1]&&(e+="@"),d.parseUserinfo(e,this._parts),this.build(!t),this;if(!this._parts.username)return"";var i=d.buildUserinfo(this._parts);return i.substring(0,i.length-1)},e.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=d.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},e.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return i=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,i),i=new RegExp("^"+r(i)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&d.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(i,e),this.build(!t),this;if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""},e.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);return i&&i.length<2?this._parts.hostname:(i=this._parts.hostname.length-this.tld(t).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"")}if(!e)throw new TypeError("cannot set domain empty");return d.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(i=new RegExp(r(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)),this.build(!t),this},e.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf(".");i=this._parts.hostname.substring(i+1);return!0!==t&&c&&c.list[i.toLowerCase()]&&c.get(this._parts.hostname)||i}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},e.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&!0!==e)return i=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,i),i=new RegExp("^"+r(i)),this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=d.recodePath(e),this._parts.path=this._parts.path.replace(i,e),this.build(!t),this;if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1;i=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?d.decodePath(i):i},e.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/");i=this._parts.path.substring(i+1);return e?d.decodePathSegment(i):i}i=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var n=new RegExp(r(this.filename())+"$");return e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e),i?this.normalizePath(t):this.build(!t),this},e.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf(".");return-1===n?"":(i=i.substring(n+1),i=/^[a-z0-9%]+$/i.test(i)?i:"",e?d.decodePathSegment(i):i)}if("."===e.charAt(0)&&(e=e.substring(1)),i=this.suffix())n=e?new RegExp(r(i)+"$"):new RegExp(r("."+i)+"$");else{if(!e)return this;this._parts.path+="."+d.recodePath(e)}return n&&(e=d.recodePath(e),this._parts.path=this._parts.path.replace(n,e)),this.build(!t),this},e.segment=function(e,t,i){var n=this._parts.urn?":":"/",r="/"===(a=this.path()).substring(0,1),a=a.split(n);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(r&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(l(t)){a=[],e=0;for(var s=t.length;e<s;e++)(t[e].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(t[e]))}else(t||"string"==typeof t)&&(""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t||"string"==typeof t&&t.length?a[e]=t:a.splice(e,1);return r&&a.unshift(""),this.path(a.join(n),i)},e.segmentCoded=function(e,t,i){var n,r;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(l(e=this.segment(e,t,i)))for(n=0,r=e.length;n<r;n++)e[n]=d.decode(e[n]);else e=void 0!==e?d.decode(e):void 0;return e}if(l(t))for(n=0,r=t.length;n<r;n++)t[n]=d.decode(t[n]);else t="string"==typeof t?d.encode(t):t;return this.segment(e,t,i)};var _=e.query;return e.query=function(e,t){if(!0===e)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"!=typeof e)return void 0!==e&&"string"!=typeof e?(this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):_.call(this,e,t);var i=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=d.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this},e.setQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var r in e)f.call(e,r)&&(n[r]=e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[e]=void 0!==t?t:null}return this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},e.addQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.addQuery(n,e,void 0===t?null:t),this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},e.removeQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.removeQuery(n,e,t),this._parts.query=d.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},e.hasQuery=function(e,t,i){var n=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.hasQuery(n,e,t,i)},e.setSearch=e.setQuery,e.addSearch=e.addQuery,e.removeSearch=e.removeQuery,e.hasSearch=e.hasQuery,e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},e.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},e.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&o?this._parts.hostname=o.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},e.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},e.normalizePath=function(e){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var t,i,n,r=this._parts.path,a="";for("/"!==r.charAt(0)&&(t=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=r.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(i=r.indexOf("/.."));)r=0!==i?(-1===(n=r.substring(0,i).lastIndexOf("/"))&&(n=i),r.substring(0,n)+r.substring(i+3)):r.substring(3);return t&&this.is("relative")&&(r=a+r.substring(1)),r=d.recodePath(r),this._parts.path=r,this.build(!e),this},e.normalizePathname=e.normalizePath,e.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},e.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},e.normalizeSearch=e.normalizeQuery,e.normalizeHash=e.normalizeFragment,e.iso8859=function(){var e=d.encode,t=d.decode;return d.encode=escape,d.decode=decodeURIComponent,this.normalize(),d.encode=e,d.decode=t,this},e.unicode=function(){var e=d.encode,t=d.decode;return d.encode=h,d.decode=unescape,this.normalize(),d.encode=e,d.decode=t,this},e.readable=function(){var e=this.clone();e.username("").password("").normalize();var t="";if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&o?(t+=o.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var i="",n=0,r=e._parts.query.split("&"),a=r.length;n<a;n++){var s=(r[n]||"").split("=");i=i+"&"+d.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==s[1]&&(i+="="+d.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+i.substring(1)}return t+d.decodeQuery(e.hash(),!0)},e.absoluteTo=function(e){var t,i,n=this.clone(),r=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof d||(e=new d(e)),n._parts.protocol||(n._parts.protocol=e._parts.protocol),this._parts.hostname)return n;for(t=0;i=r[t];t++)n._parts[i]=e._parts[i];return n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=e._parts.path,n._parts.query||(n._parts.query=e._parts.query)),"/"!==n.path().charAt(0)&&(e=e.directory(),n._parts.path=(e?e+"/":"")+n._parts.path,n.normalizePath()),n.build(),n},e.relativeTo=function(e){var t,i,n,r,a=this.clone().normalize();if(a._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new d(e).normalize(),t=a._parts,i=e._parts,n=a.path(),r=e.path(),"/"!==n.charAt(0))throw Error("URI is already relative");if("/"!==r.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===i.protocol&&(t.protocol=null),t.username!==i.username||t.password!==i.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==i.hostname||t.port!==i.port?a.build():(t.hostname=null,t.port=null,n===r?t.path="":(e=d.commonPath(a.path(),e.path()))&&(i=i.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=i+t.path.substring(e.length)),a.build())},e.equals=function(e){var t=this.clone();e=new d(e);var i,n={},r={},a={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(n=t.query(),r=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||n.length!==r.length)return!1;for(i in n=d.parseQuery(n,this._parts.escapeQuerySpace),r=d.parseQuery(r,this._parts.escapeQuerySpace),n)if(f.call(n,i)){if(l(n[i])){if(!u(n[i],r[i]))return!1}else if(n[i]!==r[i])return!1;a[i]=!0}for(i in r)if(f.call(r,i)&&!a[i])return!1;return!0},e.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},e.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},d}),define("framework/dialog",["jquery"],function(o){function e(e){this.options=e}return e.prototype.render=function(e){var i="";e.id?i+='<div id="'+e.id+'">':i+="<div>",i+='<div class="js-framework color-framework component-framework pattern-framework grid-framework type-framework responsive-framework">',i+='<div class="modal-backdrop black-bg"></div>',i+='<div class="modal">',i+='<div class="shim16" id="modal-shim"></div>',i+='<div class="shim18 mobile-hidden"></div>';var t="";t+=e.width?"max-width:"+e.width:"",i+='<div class="container mobile-container tablet-container" style="'+t+'">';var n="";n+="black"==e.backgroundColor?"":"white-bg",n+="white"==e.textColor?"white":"";var r="white"==e.textColor?"white":"hbsred",a="slidedown"==e.animation?"modal-slidedown":"modal-fadein";if(i+='   <div class="modal-dialog '+a+" "+n+'">',e.title?(i+='     <div class="modal-header"> ',i+='          <div class="kappa-uc modal-header-text">'+e.title+"</div>","white"==e.textColor?i+='          <div class="hr white-bg"></div>':i+='          <div class="hr"></div>',i+="     </div>",i+='     <div class="modal-body">'+e.body+"</div>"):(i+='     <div class="modal-header"> ',i+='          <div class="clear"></div>',i+="     </div>",i+='     <div class="modal-body" style="padding-top:0">'+e.body+"</div>"),e.buttons&&o.isPlainObject(e.buttons)){i+='     <div class="modal-footer" style="text-align:right"><div class="shim24"></div>',e.title&&(i+='<div class="hr"></div>');var s=0;o.each(e.buttons,function(e,t){i+=0==s?'       <button class="btn-submit hbsred-bg button-'+s+'" style="min-width:75px">'+e+"</button>":'       <button class="btn-submit silver-bg button-'+s+'" style="min-width:75px">'+e+"</button>",s++}),i+='       <div class="shim12"></div>',i+="     </div>"}else if(e.buttons&&o.isArray(e.buttons)){i+='     <div class="modal-footer" style="text-align:right"><div class="shim24"></div>',e.title&&(i+='<div class="hr"></div>');s=0;o.each(e.buttons,function(e,t){i+='       <button class="button-'+s+" "+(t.class||t.className)+'" style="min-width:75px;'+(t.style||"")+'">'+t.label+"</button>",s++}),i+='       <div class="shim12"></div>',i+="     </div>"}else i+='<div class="shim24"></div>';return i+='          <button type="button" class="modal-header-close btn-unstyled '+r+' eta" aria-label="Close" role="button">&times;</button>',i+="   </div>",i+='<div class="shim32"></div>',i+="</div>",i+='<div class="shim32"></div>',i+="</div>",i+="</div></div>"},e.prototype.open=function(){var r=this;window.topDialog=this,o("#framework-modal").remove();var t=this.options,e='<div id="framework-modal">'+(e=this.render(t))+"</div>";o("body").append(e),"object"==typeof t.body&&o("#framework-modal .modal-body").html(t.body),o("#framework-modal .modal-footer").on("click","button",function(){var n=o(this).text();if(o.isArray(t.buttons))o.each(t.buttons,function(e,t){if(t.label==n){var i=t.onClick;i&&i.apply(r)}});else{var e=t.buttons[n];e&&e.apply(r)}}),o(document).off("esc.dialog").on("esc.dialog",function(e){window.topDialog.close()}),o("#framework-modal").on("click",".modal-header-close",function(){r.close()}),o("#framework-modal").on("touchmove",".modal-backdrop",function(e){e.preventDefault()}),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){o("body").addClass("modal-open"),t.centered&&r.center(),o(document).trigger("framework.domupdate"),window.Widgets&&Widgets.refresh(),window.requestAnimationFrame(function(){setTimeout(function(){var t=o(".modal-dialog:visible .modal-body").first().find('button:visible, a:visible, input:visible, select:visible, textarea:visible, [tabindex]:not([tabindex="-1"]:visible)').first();0==t.length&&(t=o("button.modal-header-close:visible")),o(t).focus(),o(t).on("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),o("button.modal-header-close:visible").focus())}),o("button.modal-header-close").on("keydown",function(e){9!==e.which||e.shiftKey||(e.preventDefault(),o(t).focus())}),r.openFn&&r.openFn()},500)})})})},e.prototype.center=function(){var e=.75*o("#framework-modal .modal").height()/2-o("#framework-modal .modal-body").height()/2;0<e?o("#modal-shim").height(e):o("#modal-shim").height(0)},e.prototype.onOpen=function(e){this.openFn=e},e.prototype.onClose=function(e){this.closeFn=e},e.prototype.close=function(){var e=this;window.topDialog=null,this.closeFn&&this.closeFn(),o("body").removeClass("modal-open"),window.setTimeout(function(){o("#framework-modal").remove(),e.options&&o(e.options.caller).focus()},200)},e.prototype.find=function(e){return o("#framework-modal").find(e)},e}),define("framework/exports",["jquery","framework/cookie","framework/URI","framework/dialog"],function(i,e,t,n){if(!0!==i(window).data("exports-installed")){i(window).data("exports-installed",!0);var r={};return r.cookie=e,r.URI=t,r.Dialog=n,r.progress={start:function(){require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/nprogress.min.js"],function(e){r.progress=e,r.progress.start()})},done:function(){}},r.notify=function(e,t,i){},r.notifyExeception=function(e){},r.debounce=function(i,n,r){var a;return function(){var e=this,t=arguments;a?clearTimeout(a):r&&i.apply(e,t),a=setTimeout(function(){r||i.apply(e,t),a=null},n||100)}},r.newGuid=function(){return"Axxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}).toUpperCase()},r.reload=function(){window.sneaky&&(window.sneaky.sneak(),location.reload())},r.scrollIntoView=function(e){require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.scrollintoview.min.js"],function(){i(e).eq(0).scrollintoview()})},r.scrollTo=function(e){var t=i(e).offset().top;document.getElementById("s4-workspace")?i("#s4-workspace,html,body").animate({scrollTop:t},1,"swing",function(){}):i("html,body").animate({scrollTop:t},1,"swing",function(){})},a.prototype={handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e)}},onTouchStart:function(e){e.preventDefault(),this.moved=!1,this.theTarget=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),3===this.theTarget.nodeType&&(this.theTarget=this.theTarget.parentNode),this.theTarget.className+=" pressed",this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1)},onTouchMove:function(){this.moved=!0,this.theTarget.className=this.theTarget.className.replace(/ ?pressed/gi,"")},onTouchEnd:function(){if(this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),!this.moved&&this.theTarget){this.theTarget.className=this.theTarget.className.replace(/ ?pressed/gi,"");var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),this.theTarget.dispatchEvent(e)}this.theTarget=void 0}},r.fastClick=function(e){new a(e)},r.accessibleClick=function(e){if("click"===e.type)return!0;if("keypress"!==e.type&&"keyup"!==e.type)return!1;var t=e.charCode||e.keyCode;return 32===t||13===t||void 0},window.addEventListener("keydown",function e(t){9===t.keyCode&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",e))}),window.framework=r}function a(e){this.element="object"==typeof e?e:document.getElementById(e),window.Touch&&this.element.addEventListener("touchstart",this,!1)}}),define("framework/backtotop",["jquery","framework/exports"],function(i,n){return function(e){1!=i(e).data("backtotop-installed")&&(i(e).data("backtotop-installed",!0),window.setTimeout(function(){var t=window;document.getElementById("s4-workspace")&&(t=document.getElementById("s4-workspace")),i("body").height()-100>i(window).height()&&(t=window),i(t).scroll(n.debounce(function(){300<i(this).scrollTop()?i(e).hasClass("active")||i(e).addClass("active fadeInUp").removeClass("fadeOutDown"):i(e).hasClass("active")&&(i(e).removeClass("fadeInUp").addClass("fadeOutDown"),window.setTimeout(function(){i(e).removeClass("active")},500))},100)),i(e).click(function(e){i(this).removeClass("paused"),t!=window?i("#s4-workspace").animate({scrollTop:0},600):i("body,html").animate({scrollTop:0},600),e.preventDefault(),i(".skipto").focus()})},1e3))}}),define("framework/dropdown",["jquery"],function(s){function r(e,t){if(s("body").trigger("framework.dropdown.closeall"),e.hasClass("dropdown-container3")&&(e.off("reposition").on("reposition",function(){console.info("repositioning",e),function(e){e.find(".dropdown-anchor").toggleClass("dropdown-anchor");var t=s('<div class="dropdown-anchor"></div>'),i=e.find(".dropdown-menu3").eq(0);e.find(".dropdown-toggle3").addClass("active"),console.info("menu height",i.outerHeight()),e.offset().top>s(window).scrollTop()+s(window).height()-i.outerHeight()&&0<e.offset().top-i.height()?(t.addClass("dropdown-anchor-up"),e.prepend(t)):(t.addClass("dropdown-anchor-down"),e.append(t)),e.offset().left>s(window).scrollLeft()+s(window).width()-i.outerWidth()?t.addClass("dropdown-anchor-left"):t.addClass("dropdown-anchor-right"),console.info("final class",t.attr("class")),i.appendTo(t)}(e)}),e.trigger("reposition")),e.hasClass("active"))o(e);else{e.find(".hover").removeClass("hover inherit-bg"),e.addClass("opening active").trigger("opened"),e.find("a.dropdown-toggle").attr("aria-expanded","true"),e.find("a.dropdown-toggle2").attr("aria-expanded","true"),e.find("a.dropdown-toggle3").attr("aria-expanded","true"),e.addClass("prevent-clicking");var i=e.find("ul.dropdown-menu");if(0<i.length){var n=i.offset(),r=n.left+i.outerWidth(),a=s("body").width();a<r&&i.css("width",a-n.left-6),i.find("li:first-of-type a").focus()}window.setTimeout(function(){e.removeClass("prevent-clicking")},500),e.find(".filtering-input").val("").trigger("change"),t?window.setTimeout(function(){e.removeClass("opening")},1e3):s("html").hasClass("ua-touch")?window.setTimeout(function(){e.removeClass("opening")},1e3):e.removeClass("opening")}}function o(e){e.hasClass("opening")||(e.removeClass("active"),e.find("a.dropdown-toggle").attr("aria-expanded","false"),e.find("a.dropdown-toggle2").attr("aria-expanded","false"),e.find("a.dropdown-toggle3").attr("aria-expanded","false"),e.trigger("closed"),e.find(".dropdown-toggle3").removeClass("active").trigger("closed"))}return function(e){var t=s(e);if(1!=t.data("dropdown-installed")){if(t.data("dropdown-installed",!0),s.fn.on||(s.fn.on=s.fn.bind),s("a.dropdown-toggle",t).click(function(){return r(t,!0),!1}),s("a.dropdown-toggle2",t).click(function(){return r(t),!1}),s("a.dropdown-toggle3",t).click(function(){return t.hasClass("active")?o(t):r(t),!1}),t.hasClass("dropdown-container")&&(t.on("mouseenter",function(e){r(t)}),t.on("mouseleave",function(){o(t)}),t.find("ul.dropdown-menu li:last-child a").on("blur",function(){o(t)})),t.hasClass("dropdown-container2")){var i=s(".dropdown-toggle2",t).width();i&&(-1<s(".dropdown-menu2",t).attr("class").indexOf("dropdown-split")||s(".dropdown-menu2",t).css("min-width",i+12))}var n;s(".dropdown-menu a,.dropdown-menu2 a",n=t).on("mouseenter",function(){n.hasClass("opening")||(n.parents(".gold-inherit").length&&n.find(".hover").removeClass("black"),n.find(".hover").removeClass("hover inherit-bg"),s(this).addClass("inherit-bg").addClass("hover"),n.parents(".gold-inherit").length&&s(this).addClass("black"))}),s(".dropdown-menu a,.dropdown-menu2 a",n).on("mouseleave",function(){}),s(".dropdown-menu a,.dropdown-menu2 a",n).on("click",function(e){if(n.hasClass("opening"))return!1;if(s(this).is("a[href^='#']")){var t=s(this).text();s(".dropdown-toggle",n).html(t+'<span class="icon-select"></span>'),o(n),e.preventDefault()}}),n.on("click",".dropdown-option",function(){s(".inherit-color.active",n).removeClass("inherit-color active").addClass("white"),s(this).addClass("inherit-color active").removeClass("white"),n.find(".dropdown-selected").html(s(this).html()),document.location.hash=s(this).attr("href"),n.trigger("change")}),n.on("click",".dropdown-menu a",function(){if(n.hasClass("prevent-clicking"))return!1}),(n.hasClass("dropdown-container")||n.hasClass("dropdown-container2"))&&s("body").on("click",function(e){s(e.target).is("a")||o(n)}),n.hasClass("dropdown-container3")&&(s("body").on("click",function(e){0==n.has(e.target).length&&o(n)}),n.on("click",".dropdown-close3",function(e){o(n),e.preventDefault()})),s("body").on("framework.dropdown.closeall",function(e){o(n)}),s(document).on("esc.dropdown",function(e){o(n)})}}}),define("framework/toggle",["jquery","framework/exports"],function(l,e){function c(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function n(e,t){var i=l(e).closest(".toggle-container")[0];return l.data(i)==l.data(t)}return function(i){1!=l(i).data("toggle-installed")&&(l(i).data("toggle-installed",!0),l(".toggle-show",i).hide(),l(i).find(".toggle-button").each(function(){}),l(i).bind("reset",function(){l(i).removeClass("toggled"),l(i).find("input.toggle-button:checkbox").prop("checked",!1),l(".toggle-show",i).each(function(){n(this,i)&&(l(this).hasClass("has-slide")?l(this).slideUp("fast"):l(this).hide())}),l(".toggle-hide",i).each(function(){n(this,i)&&l(this).show()})}),l(i).on("click",".toggle-button",function(e){var t=l(this).attr("href");if("string"==typeof t&&0==t.indexOf("#")&&(t=t.substring(1)),(l(this).hasClass("toggle-plus")||l(this).hasClass("toggle-minus"))&&l(this).toggleClass("toggle-plus toggle-minus"),n(this,i)){l(".toggle-hide,.toggle-show,.mobile-toggle-show,.mobile-toggle-hide",i).each(function(){n(this,i)&&(t&&l(this).attr("id")&&t!=l(this).attr("id")||l(this).addClass("to-toggle"))}),t&&l("#"+t).addClass("to-toggle"),l(".to-toggle").each(function(){l(this).hasClass("has-slide")?l(this).slideToggle("fast"):l(this).toggle(),l(this).removeClass("to-toggle"),l(this).parent().find(".toggle-focus:visible").focus()}),l(i).toggleClass("toggled");l(this);(l(this).is(":visible")?l(this):l(".toggle-button:visible",i).length?l(".toggle-button:visible",i).eq(0):l("a:visible",i).eq(0)).focus(),l(i).hasClass("has-memory")&&function(e,t){var i=l(e).attr("id");if(i){var n=c("fw.toggle"),r=[];null!=n&&(r=n.split("&"));for(var a=[],s=!1,o=0;o<r.length;o++)t||r[o]!=i?t&&r[o]==i?(s=!0,a.push(i)):r[o]&&a.push(r[o]):s=!0;!s&&t&&a.push(i),document.cookie="fw.toggle="+a.join("&")+"; path=/"}}(i,l(i).hasClass("toggled")),l(document).trigger("framework.domupdate"),l(i).trigger("change"),l(this).is(":checkbox")||(e.stopPropagation(),e.preventDefault())}}),l(i).hasClass("toggle-is-body-click-closed")&&l("body").click(function(e){jQuery.contains(i,e.target)||l(i).trigger("reset")}),l(i).hasClass("has-memory")&&function(e){var t=l(e).attr("id");if(t){var i=c("fw.toggle");if(i)for(var n=i.split("&"),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1}}(i)&&(l(i).toggleClass("toggled"),l(i).find("input.toggle-button:checkbox").prop("checked",!0),l(".toggle-hide,.toggle-show",i).each(function(){n(this,i)&&l(this).toggle()})))}}),define("framework/plugins",["jquery"],function(i){var n={},r={},a={jqueryui:"https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"};return{ready:function(t,e){"jqueryui"==t&&window.jQuery&&window.jQuery.ui?e.call():void 0!==a[t]&&(void 0===r[t]&&(r[t]="start",n[t]=[]),"finished"==r[t]?e.call():n[t].push(e),"start"==r[t]&&(r[t]="loading",console.info("loading",a[t]),i.ajax({url:a[t],dataType:"script",cache:!0,success:function(){r[t]="finished";for(var e=0;e<n[t].length;e++)n[t][e].call()}})))}}}),define("framework/datepicker",["jquery","framework/plugins"],function(o,t){function l(e,t){if(!e.inline){var i;null==t&&(t="");(i=e.dpDiv?o(e.dpDiv[0]):e).css("z-index","1000"),i.addClass("component-framework color-framework type-framework").css({width:"250px",backgroundColor:"#cecece"}).children().addClass("datepicker-pattern "+t)}}function c(e,t){null==t&&(t=""),(e.dpDiv?o(e.dpDiv[0]):e).children().addClass("datepicker-pattern "+t)}function d(e){var t=e.split("/");return new Date(t[2],t[0]-1,t[1])}return function(e){1!=o(e).data("datepicker-installed")&&(o(e).data("datepicker-installed",!0),t.ready("jqueryui",function(){!function(n){var e,i={};i.beforeShow=function(e,t){dpdiv=o(t.dpDiv[0]),o(e).data("dp",t),l(t)},i.beforeShowDay=function(e){var t={date:e};return o(n).trigger("beforeShowDay",t),t.result?t.result:[!0,"",""]},i.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),i.showAnim="",i.constrainInput=!0,i.gotoCurrent=!0,i.dateFormat="mm/dd/yy",i.showOtherMonths=!0,i.selectOtherMonths=!0,o(n).hasClass("datepicker-cn")&&(i.monthNames="1 2 3 4 5 6 7 8 9 10 11 12".split(" "),i.dayNamesMin="      ".split(" ")),i.onChangeMonthYear=function(e,t,i){e&&o(n).trigger("changeMonthYear",{year:e,month:t}),window.setTimeout(function(){l(i)},1)},i.onSelect=function(e,t){if(e){if(o(n).trigger("select",{date:e}),"function"==typeof Event)var i=new Event("submit");else(i=document.createEvent("Event")).initEvent("submit",!0,!0);n.dispatchEvent(i,{date:e})}window.setTimeout(function(){l(t)},1)},(o(n).attr("data-maxDate")||o("input",n).attr("data-maxDate"))&&(e=d(o(n).attr("data-maxDate")||o("input",n).attr("data-maxDate")))&&(i.maxDate=e),(o(n).attr("data-minDate")||o("input",n).attr("data-minDate"))&&(e=d(o(n).attr("data-minDate")||o("input",n).attr("data-minDate")))&&(i.minDate=e),o(n).attr("data-dateFormat")&&(i.dateFormat=o(n).attr("data-dateFormat"));var t=o(n).parents("[class*='-inherit']").attr("class"),r="white-inherit";if(/([^ ]+-inherit)/.test(t)&&(r=RegExp.$1),o(n).is(":input"))(a=o(n).datepicker(i)).inline=!1,o(n).keyup(function(){var e=o(this).data("dp");l(e),window.setTimeout(function(){l(e)},1)}),o(n).bind("focus keydown",function(){l(o(this).data("dp"),r)});else{var a,s=o(n);s.prepend(o('<div class="datepicker-top-container"></div>')),s.append(o('<div class="datepicker-bottom-container"></div>')),s.hasClass("datepicker-container-inline")&&((a=s.datepicker(i)).inline=!0,o(n).data("dp",a),c(a,r)),s.on("focus",":input",function(){var e=s.data("dp");if(!e||!e.find(".ui-datepicker-inline").length){var t=".datepicker-bottom-container";o(this).offset().top>o(window).scrollTop()+o(window).height()-220&&(t=".datepicker-top-container"),i.defaultDate=o(this).val(),o(this).addClass("focus"),(e=o(t,n).datepicker(i)).inline=!1,o(n).data("dp",e),c(e,r)}}),o(n).on("select",function(e,t){if(t){var i=o(n).data("dp");0==i.inline&&(o(":input",n).val(t.date),o(".ui-datepicker",n).fadeOut(200,function(){i&&i.datepicker("destroy"),o(":input",n).removeClass("focus")}))}}),o("body").click(function(e){if((t=s.data("dp"))&&0==t.inline&&0==s.has(e.target).length&&o(e.target).attr("class")&&-1==o(e.target).attr("class").indexOf("ui-datepicker")){var t=o(n).data("dp");t&&t.datepicker("destroy"),o(":input",n).removeClass("focus")}}),o(".link-skipdates").click(function(e){e.preventDefault(),o("body").trigger("click"),o(o(this).attr("href")).get(0).focus()}),o(n).on("keyup",":input",function(){var e=o(this).val();console.info("input change",e);try{var t=o.datepicker.parseDate("mm/dd/yy",e);console.info("new date",t);var i=o(n).data("dp");i&&o(i).datepicker("setDate",e)}catch(e){}})}}(e)}))}}),define("framework/carousel",["jquery","framework/cookie"],function(f,m){function g(e,t,i,n,r){var a=f(e).data("size");f(e).data("num",t);var s=f(e).attr("id");if(s&&f(e).hasClass("has-memory")&&m.set(s,t),f(e).find(".active").removeClass("active"),r?f(e).find(".dot span").removeClass(n+" active-"+n).addClass("white fade"):f(e).find(".dot span").removeClass(n+" active-"+n).addClass("black"),"white"==n)0==t?r?f(e).find(".prev").addClass("disabled").find("span").addClass("fade"):f(e).find(".prev").addClass("disabled").find("span").addClass("fade").addClass("icon-circle-arrow-left").removeClass("icon-circle-arrow-left-white"):f(e).find(".prev").removeClass("disabled").find("span").removeClass("fade"),t==a-1?r?f(e).find(".next").addClass("disabled").find("span").addClass("fade"):f(e).find(".next").addClass("disabled").find("span").addClass("fade").addClass("icon-circle-arrow-right").removeClass("icon-circle-arrow-right-white"):f(e).find(".next").removeClass("disabled").find("span").removeClass("fade");else{var o;if(0==t)f(e).find(".prev").addClass("disabled").find("span").removeClass("inherit-bg "+n+"-bg black-bg").addClass("silver-bg");else(o=f(e).find(".prev").removeClass("disabled").find("span")).hasClass(n+"-bg")?o.removeClass("silver-bg").addClass(n+"-bg"):o.removeClass("silver-bg").addClass("black-bg");if(t==f(e).data("size")-1)f(e).find(".next").addClass("disabled").find("span").removeClass("inherit-bg "+n+"-bg black-bg").addClass("silver-bg");else(o=f(e).find(".next").removeClass("disabled").find("span")).hasClass(n+"-bg")?o.removeClass("silver-bg").addClass(n+"-bg"):o.removeClass("silver-bg").addClass("black-bg")}f(e).find(".carousel-nav").each(function(){f(this).find(".dot").eq(t).addClass("active").find("span").addClass(n+" active-"+n).removeClass("black fade")});f(e).width();for(var l=0,c=f(e).find(".carousel-panels > li"),d=0;d<t;d++)l+=c.eq(d).width();var u=i?500:0;f(e).data("pos",-l),f(e).find(".carousel-panels > li").css("max-height","none");var h=f(e).data("maxheight")||0,p=f(e).find(".carousel-panels > li").eq(t).height();(h<p||f("html.ua-mobile,html.ua-tablet").length)&&(h=p),f(e).data("maxheight",h),f(e).find(".carousel-panels > li").css("max-height",h+"px"),f(e).find(".carousel-panels").stop().animate({left:-l},u,"swing",function(){f(e).find(".carousel-panels > li").slice(0,t+2).removeClass("hidden").find(".lazy").show().trigger("appear")})}function v(e){var t=f(e).width();f(e).data("width",t),f(e).find(".carousel-panels").hasClass("carousel-panels-fixed-width")||f(e).find(".carousel-panels > li").css("width",t)}return function(i){var e=f(i);if(1!=e.data("carousel-installed")){var t,n;e.data("carousel-installed",!0),e.hasClass("has-shuffle")&&-1==navigator.userAgent.indexOf("HeadlessChrome")&&(t=e.find(".carousel-panels > li"),n=[],t.each(function(){n.push(f(this).clone(!0))}).each(function(e,t){f(t).replaceWith(n[e=Math.floor(Math.random()*n.length)]),n.splice(e,1)}));var r,a,s,o,l,c,d="teal",u=!1;(0<f(i).parents(".inherit-bg").length||f(i).hasClass("carousel-monotone"))&&(d="white"),f(i).hasClass("carousel-inverted")&&(d="white",u=!0),a=d,s=u,o=f(r=i).find(".carousel-panels > li").length,f(r).data("size",o),f(r).find(".carousel-nav").each(function(){var e=f(this),t='<ul class="nav-carousel">',i=f(e).data("slide-title");void 0===i&&(i=""),t+="white"==a&&s?'<li class="prev"><a href="#" aria-label="Previous '+i+'slide" role="button"><span aria-hidden="true" class="icon-circle-arrow-left-white"></span></a></li>':"white"==a?'<li class="prev"><a href="#" aria-label="Previous '+i+'slide" role="button"><span aria-hidden="true" class="icon-circle-arrow-left"></span></a></li>':'<li class="prev"><a href="#" aria-label="Previous '+i+'slide" role="button"><span aria-hidden="true" class="icon-circle-arrow-left-white-inverted black-bg icon-transition-bg-color"></span></a></li>';for(var n=0;n<o;n++)t+='<li class="dot"><a href="#" aria-label="Slide '+Number(n+1)+'" role="button"><span aria-hidden="true" class="icon-dot icon-transition-color">&#8226;</span></a></li>';t+="white"==a&&s?'<li class="next desktop-visible"><a href="#" aria-label="Next '+i+'slide" role="button"><span aria-hidden="true" class="icon-circle-arrow-right-white"></span></a></li>':"white"==a?'<li class="next desktop-visible"><a href="#" aria-label="Next '+i+'slide" role="button"><span aria-hidden="true" class="icon-circle-arrow-right"></span></a></li>':'<li class="next desktop-visible"><a href="#" aria-label="Next '+i+'slide" role="button"><span aria-hidden="true" class="icon-circle-arrow-right-white-inverted black-bg icon-transition-bg-color"></span></a></li>',t+="</ul>",e.hasClass("carousel-nav-centered")&&(t='<table style="margin-left: auto !important;margin-right: auto !important;"><tr><td>'+t+"</td></tr></table>"),e.html(t),e.hasClass("carousel-nav-minimal")&&e.find(".prev,.next").hide()}),v(i),f(window).on("load",function(){v(i)}),f(document).bind("framework.resize framework.domupdate",function(){v(i),g(i,f(i).data("num"),!1,d,u)}),c=(l=e).find(".carousel-panels"),"ontouchstart"in window&&(f("img",l).bind("dragstart",function(e){return!1}),c.hammer({stop_browser_behavior:{touchAction:"pan-y"},drag_lock_to_axis:!0,drag_vertical:!1}).on("release dragleft dragright",function(e){switch(e.gesture.preventDefault(),e.type){case"dragright":case"dragleft":var t=l.data("pos")+e.gesture.deltaX,i=l.data("num"),n=l.data("size");0==i&&0<t||i==n-1&&t<0||c.css({left:t});break;case"release":e.gesture.deltaX<-100&&l.find(".next a").eq(0).trigger("click"),100<e.gesture.deltaX&&l.find(".prev a").eq(0).trigger("click")}}));var h=e.attr("id"),p=parseInt(m.get(h))||0;p>f(i).data("size")&&(p=0),f(i).data("num",p),g(i,f(i).data("num"),!1,d,u),f(window).on("load",function(){g(i,f(i).data("num"),!1,d,u)}),f(i).on("click",".nav-carousel .dot a",function(e){var t=f(this).parent().parent().find(".dot a").index(this);g(i,t,!0,d,u),e.preventDefault()}),f(i).on("click",".next a",function(e){if(!f(this).parent().hasClass("disabled")){var t=f(i).data("num")+1;g(i,t,!0,d,u),window.analytics&&analytics.event("carousel-arrow-next")}e.preventDefault()}),f(i).on("click",".carousel-next",function(e){var t=f(i).data("num")+1;g(i,t,!0,d,u),window.analytics&&analytics.event("carousel-next"),e.preventDefault()}),f(i).on("click",".carousel-prev",function(e){var t=f(i).data("num")-1;g(i,t,!0,d,u),window.analytics&&analytics.event("carousel-prev"),e.preventDefault()}),f(i).on("click",".prev a",function(e){if(!f(this).parent().hasClass("disabled")){var t=f(i).data("num")-1;g(i,t,!0,d,u),window.analytics&&analytics.event("carousel-arrow-prev")}e.preventDefault()}),f(".next a,.prev a,.dot a",i).hover(function(){if(0==f("html.ua-touch").length){var e=this.firstChild;u||f(e).hasClass("silver-bg")||f(e).hasClass("fade")||("white"==d&&-1<e.className.indexOf("left")?e.className="icon-circle-arrow-left-white":"black"==d&&-1<e.className.indexOf("left")?e.className="icon-circle-arrow-left":"white"==d&&-1<e.className.indexOf("right")?e.className="icon-circle-arrow-right-white":"black"==d&&-1<e.className.indexOf("right")?e.className="icon-circle-arrow-right":"white"==d&&-1<e.className.indexOf("dot")&&-1==e.className.indexOf("active-"+d)?e.className="icon-dot white icon-transition-color":-1<e.className.indexOf("left")?e.className="icon-circle-arrow-left-white-inverted "+d+"-bg icon-transition-bg-color":-1<e.className.indexOf("right")?e.className="icon-circle-arrow-right-white-inverted "+d+"-bg icon-transition-bg-color":-1<e.className.indexOf("dot")&&-1<e.className.indexOf("active-"+d)?e.className="icon-dot "+d+" icon-transition-color active-"+d:-1<e.className.indexOf("dot")&&(e.className="icon-dot "+d+" icon-transition-color"))}},function(){var e=this.firstChild;u||f(e).hasClass("silver-bg")||f(e).hasClass("fade")||("white"==d&&-1<e.className.indexOf("left")?e.className="icon-circle-arrow-left":"black"==d&&-1<e.className.indexOf("left")?e.className="icon-circle-arrow-left-white":"white"==d&&-1<e.className.indexOf("right")?e.className="icon-circle-arrow-right":"white"==d&&-1<e.className.indexOf("right")?e.className="icon-circle-arrow-right-white":-1<e.className.indexOf("left")?e.className="icon-circle-arrow-left-white-inverted black-bg icon-transition-bg-color":-1<e.className.indexOf("right")?e.className="icon-circle-arrow-right-white-inverted black-bg icon-transition-bg-color":-1<e.className.indexOf("dot")&&-1<e.className.indexOf("active-"+d)?e.className="icon-dot "+d+" icon-transition-color active-"+d:-1<e.className.indexOf("dot")&&(e.className="icon-dot black icon-transition-color"))})}}}),define("framework/trim",["jquery"],function(a){return function(e){var u=!1;if(/_fw_trim_verbose/.test(document.location)&&(u=!0),u&&console.info("Element",e),1!=a(e).data("trim-installed")){a(e).data("trim-installed",!0);var t=a(e),i=a(e.cloneNode(!0)).css("overflow","visible").height("auto").css("max-height","none");if(t.after(i),i.outerHeight()<=t.outerHeight())return u&&console.info("Not trimming",e,i.outerHeight(),t.outerHeight()),void i.remove();var n=a(".trim-ellipsis,.trim-ellipsis-char",i).eq(0);if(0!=n.length){var r="word";n.hasClass("trim-ellipsis-char")&&(r="char");var h=n.html();!function e(t,i,n,r,a,s,o,l){if(!r||0==r.length)return h;var c;if("word"==l)for(var d=0;d<100;d++)if(" "==r[a+d*o]){a+=d*o;break}c=r.substr(0,a),u&&console.info("NEW",o,a,s,c),0!=s&&(0<s&&(c+="&hellip;",n.html(c)),o=-1,0<t.outerHeight()-i.outerHeight()?a-=Math.floor(s/2):(a+=Math.floor(s/2),o=1),e(t,i,n,r,a-1,Math.floor(s/2),o,l))}(i,t,n,h,h.length,h.length,1,r),t.html(i.html()),i.remove()}}}}),define("framework/formcontainer",["jquery"],function(o){return function(e){var a=o(e);if(!0!==a.data("formcontainer-installed")){a.data("formcontainer-installed",!0);var t=a.attr("data-action"),i=a.attr("data-method"),n=o("#aspnetForm");if(!a.is("form")){0==a.parents("#aspnetForm").length&&(a.wrap("<form></form>"),(n=a.parent()).attr("action",t),n.attr("method",i)),a.on("click",":submit",function(e){return e.isDefaultPrevented()||r(n,a),!1}),o(":text,:password",a).bind("keypress",{},function(e){13===(e.keyCode?e.keyCode:e.which)&&(e.preventDefault(),a.hasClass("disable-submit-on-enter")||r(n,a))})}else(n=a).submit(function(){return r(n,a)});a.bind("validate",function(){s(n,a)})}function s(e,t){"aspnetForm"===o(e).attr("id")&&(o(":input",t).each(function(){o(this).data("autoform","1")}),o(":input").each(function(){o(this).data("autoform")||(o(this).addClass("autoform-remove-name"),o(this).hasClass("required")&&(o(this).addClass("autoform-remove-required"),o(this).removeClass("required")))})),e.parsley({messages:{defaultMessage:"<b>ERROR</b> This value seems to be invalid.",type:{email:"<b>ERROR</b> This value should be a valid email.",url:"<b>ERROR</b> This value should be a valid url.",urlstrict:"<b>ERROR</b> This value should be a valid url.",number:"<b>ERROR</b> This value should be a valid number.",digits:"<b>ERROR</b> This value should be digits.",dateIso:"<b>ERROR</b> This value should be a valid date (YYYY-MM-DD).",alphanum:"<b>ERROR</b> This value should be alphanumeric.",phone:"<b>ERROR</b> This value should be a valid phone number."},notnull:"<b>ERROR</b> This value should not be null.",notblank:"<b>ERROR</b> This value should not be blank.",required:"<b>ERROR</b> This value is required.",regexp:"<b>ERROR</b> This value seems to be invalid.",min:"<b>ERROR</b> This value should be greater than or equal to %s.",max:"<b>ERROR</b> This value should be lower than or equal to %s.",range:"<b>ERROR</b> This value should be between %s and %s.",minlength:"<b>ERROR</b> This value is too short. It should have %s characters or more.",maxlength:"<b>ERROR</b> This value is too long. It should have %s characters or less.",rangelength:"<b>ERROR</b> This value length is invalid. It should be between %s and %s characters long.",mincheck:"<b>ERROR</b> You must select at least %s choices.",maxcheck:"<b>ERROR</b> You must select %s choices or less.",rangecheck:"<b>ERROR</b> You must select between %s and %s choices.",equalto:"<b>ERROR</b> This value should be the same."},animate:!1,errorClass:"field-error",errors:{errorElem:"<div><b>Error:</b> </div>",errorsWrapper:"<div></div>",classHandler:function(e,t){var i=e.parents(".field-group-vertical").eq(0);return i||(e.attr("class")&&-1!==e.attr("class").indexOf("field")?o(e).parent():o(e).parent().parent())},container:function(e,t){var i,n=e.parents(".field-group-vertical").eq(0);return n.length?i=o("<div class='error-placeholder'></div>").insertAfter(n.children().last()):e.attr("class")&&-1!==e.attr("class").indexOf("field")?(0===(i=e.parent().find(".error-placeholder")).length&&(i=o("<div class='error-placeholder'></div>").insertAfter(e)),i):i=o("<div class='error-placeholder'></div>").insertAfter(e.parent())}}}),e.parsley("validate"),e.parsley("isValid")?t.removeClass("invalid"):t.addClass("invalid")}function r(e,t){if(o(t).hasClass("form-container-submitting"))return!1;var i=jQuery.Event("submit");if(a.trigger(i),i.isDefaultPrevented())return!1;if(s(e,t),e.parsley("isValid")){o(".autoform-remove-name").each(function(){o(this).attr("name",null)});var n=t.attr("data-action"),r=t.attr("data-method");return e.attr("action",n),r||(r="GET"),e.attr("method",r),e.attr("action",n),"get"==e.attr("method").toLowerCase()&&o("input[type=password]").each(function(){o(this).val("")}),o(t).addClass("form-container-submitting"),window.setTimeout(function(){o(t).removeClass("form-container-submitting")},2e4),o(e).each(function(){this.elements={},this.elements.__SCROLLPOSITIONY=0,this.elements.__SCROLLPOSITIONX=0}),o(e).submit(),!0}return o(".autoform-remove-required").each(function(){o(this).addClass("required")}),!1}}}),define("framework/resize",["jquery","framework/exports"],function(t,e){return function(){1!=t(window).data("resize-installed")&&(t(window).data("resize-installed",!0),t(window).bind("resize",e.debounce(function(e){t(document).trigger("framework.resize")},250,!1)))}}),window.Modernizr=function(e,t,a){function i(e){h.cssText=e}function s(e,t){return typeof e===t}function o(e,t){for(var i in e){var n=e[i];if(!~(""+n).indexOf("-")&&h[n]!==a)return"pfx"!=t||n}return!1}function n(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+f.join(n+" ")+n).split(" ");return s(t,"string")||s(t,"undefined")?o(r,t):function(e,t,i){for(var n in e){var r=t[e[n]];if(r!==a)return!1===i?e[n]:s(r,"function")?r.bind(i||t):r}return!1}(r=(e+" "+m.join(n+" ")+n).split(" "),t,i)}var r,l,c={},d=t.documentElement,u=t.createElement("modernizr"),h=u.style,p="Webkit Moz O ms",f=p.split(" "),m=p.toLowerCase().split(" "),g={},v=[],w=v.slice,b={}.hasOwnProperty;for(var y in l=s(b,"undefined")||s(b.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return b.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(n){var r=this;if("function"!=typeof r)throw new TypeError;var a=w.call(arguments,1),s=function(){if(this instanceof s){var e=function(){};e.prototype=r.prototype;var t=new e,i=r.apply(t,a.concat(w.call(arguments)));return Object(i)===i?i:t}return r.apply(n,a.concat(w.call(arguments)))};return s}),g.cssanimations=function(){return n("animationName")},g.csstransitions=function(){return n("transition")},g)l(g,y)&&(r=y.toLowerCase(),c[r]=g[y](),v.push((c[r]?"":"no-")+r));return c.addTest=function(e,t){if("object"==typeof e)for(var i in e)l(e,i)&&c.addTest(i,e[i]);else{if(e=e.toLowerCase(),c[e]!==a)return c;t="function"==typeof t?t():t,d.className+=" ua-"+(t?"":"no-")+e,c[e]=t}return c},i(""),u=null,c._version="2.8.3",c._domPrefixes=m,c._cssomPrefixes=f,c.testProp=function(e){return o([e])},c.testAllProps=n,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" ua-js ua-"+v.join(" ua-"),c}(0,this.document),define("framework/modernizr.custom",[],function(){}),define("framework/useragent",["jquery","framework/modernizr.custom"],function(r,e){function t(){var e=r("html"),t="";e.hasClass("ua-desktop")?t="ua-desktop":e.hasClass("ua-tablet")?t="ua-tablet":e.hasClass("ua-mobile")&&(t="ua-mobile");var i="ua-desktop",n=r(window).width();n<650?i="ua-mobile":n<920&&(i="ua-tablet"),t!=i&&(e.removeClass("ua-desktop ua-tablet ua-mobile"),"ua-desktop"==i?e.removeClass("ua-tablet ua-mobile"):"ua-tablet"==i?e.removeClass("ua-desktop ua-mobile"):"ua-mobile"==i&&e.removeClass("ua-desktop ua-tablet"),e.hasClass(i)||(e.addClass(i),t&&r(document).trigger("framework.breakpoint")))}return function(){var e=r("html");e.addClass("ua-js"),1!=e.data("useragent-installed")&&(e.data("useragent-installed",!0),"ontouchstart"in window||navigator.maxTouchPoints?e.addClass("ua-touch"):e.addClass("ua-no-touch"),2<=window.devicePixelRatio?e.addClass("ua-retina"):e.addClass("ua-not-retina"),-1<navigator.userAgent.indexOf("HeadlessChrome")&&e.addClass("ua-headless"),r(document).bind("framework.resize",t),t())}}),define("framework/hover",["jquery"],function(i){return function(e){var t=i(e);1!=t.data("hover-installed")&&(t.data("hover-installed",!0),t.on({mouseenter:function(){console.info("enter"),t.find(".hover-sync").addClass("hover").filter("a").addClass("u")},mouseleave:function(){console.info("exit"),t.find(".hover-sync").removeClass("hover").filter("a").removeClass("u")}},".hover-sync"))}}),define("framework/popover",["jquery"],function(r){function a(e){e.removeClass("popover-active"),r(".popover-content",e).fadeOut("fast")}return function(e){var n=r(e);if(1!=n.data("popover-installed")){n.data("popover-installed",!0);var t={over:function(){var e,t,i=r(this).next(".popover-content");0==i.length&&(i=r(this).find(".popover-content")),a(n),e=n,r(this),t=i,e.addClass("popover-active"),t.fadeIn("fast")},out:function(){a(n)},interval:20,sensitivity:10};require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.hoverIntent.js"],function(){r(".popover-toggle",n).hoverIntent(t)})}}}),define("framework/lazy",["jquery"],function(i){return function(e){var t=i(e);1!=t.data("lazy-installed")&&(t.data("lazy-installed",!0),t.data("src")&&(t.hasClass("lazy-fadein")?require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.lazyload.min.js"],function(){t.lazyload({data_attribute:"src",effect:"fadeIn",effectspeed:"250"})}):t.hasClass("defer")?i(window).on("load",function(){window.setTimeout(function(){t.attr("src",t.data("src"))},200)}):t.hasClass("ondemand")?t.bind("appear",function(){var e=i(this).data("src");this.src=e}):require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.lazyload.min.js"],function(){t.lazyload({data_attribute:"src"})})))}}),define("framework/iframe",["jquery"],function(s){return function(e){var t=s(e);if(1!=s(e).data("iframe-installed")){s(e).data("iframe-installed",!0);var i=e.outerHTML,n=s(e).find("a").attr("href");s(e).find("a").remove();var r=document.createElement("iframe");r.src=n;var a=s(e).attr("style");console.info(a),s(r).attr("style",a),s(r).attr("scrolling","no"),s(r).css("width","100%"),s(r).attr("frameborder","0"),t.append(r),t.on("reset",function(){console.log("reset iframe"),t.replaceWith(i)})}}}),define("framework/randomize",["jquery"],function(s){return function(e){var t=s(e),i=4;if(1!=s(e).data("random-installed")){s(e).data("random-installed",!0),/random-(\d+)/.test(t.attr("class"))&&(i=parseInt(RegExp.$1));var n,r=t.find(".random-item");-1==navigator.userAgent.indexOf("HeadlessChrome")&&(n=[],r.each(function(){n.push(s(this).clone(!0))}).each(function(e,t){s(t).replaceWith(n[e=Math.floor(Math.random()*n.length)]),n.splice(e,1)}));for(var a=0;a<i;a++)t.find(".random-item").eq(a).show();t.find(".random-item:hidden").remove()}}}),define("framework/scroll-lock",["jquery"],function(i){return function(e){var t=i(e);!0!==t.data("noscroll-installed")&&(t.data("noscroll-installed",!0),require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/scroll-sneak.js"],function(){window.sneaky=window.sneaky||new ScrollSneak,t.click(window.sneaky.sneak)}))}}),define("framework/in-viewport",["jquery","framework/exports"],function(r,e){function a(e){e.is(":in-viewport")?e.addClass("in-viewport").trigger("framework.in-viewport").trigger("framework.responsive-in-viewport"):e.removeClass("in-viewport")}return function(e){var n=r(e);1!=n.data("in-viewport-installed")&&(n.data("in-viewport-installed",!0),require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.lazyload.min.js"],function(){var i=r(document.getElementById("s4-workspace")||window);i.bind("scroll",function(i,n,r){var a,s,o,l=null,c=0;r||(r={});var d=function(){c=!1===r.leading?0:Date.now(),l=null,o=i.apply(a,s),l||(a=s=null)};return function(){var e=Date.now();c||!1!==r.leading||(c=e);var t=n-(e-c);return a=this,s=arguments,t<=0||n<t?(l&&(clearTimeout(l),l=null),c=e,o=i.apply(a,s),l||(a=s=null)):l||!1===r.trailing||(l=setTimeout(d,t)),o}}(function(e){var t={};return t.offset=i.scrollTop(),r(document).trigger("framework.scroll",t),a(n)},250)),r("html.ua-touch, html.ua-headless").length&&n.trigger("framework.responsive-in-viewport"),a(n)}))}}),define("framework/styledfields",["jquery"],function(a){return function(e,t){var i,n,r=a(t);a(e);1!=r.data("styledfields-installed")&&(r.data("styledfields-installed",!0),(i=r).hasClass("field-radio")&&(fixRadio=function(e){0<e.find("input:checked").length?e.addClass("field-radio-checked"):e.removeClass("field-radio-checked"),window.setTimeout(function(){0<e.find("input:focus").length?e.addClass("field-radio-focus"):e.removeClass("field-radio-focus")},1)},fixAllRadio=function(){a(".field-radio").each(function(){fixRadio(a(this))})},i.on("change focus blur","input",function(){fixAllRadio(i,this)}),fixRadio(i)),(n=r).hasClass("field-checkbox")&&(fixCheckbox=function(e){0<e.find("input:checked").length?e.addClass("field-checkbox-checked"):e.removeClass("field-checkbox-checked"),window.setTimeout(function(){0<e.find("input:focus").length?e.addClass("field-checkbox-focus"):e.removeClass("field-checkbox-focus")},1)},n.on("change focus blur","input",function(){fixCheckbox(n)}),fixCheckbox(n)),function(e,t){function i(e){require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.selectboxit.min.js"],function(){e.selectBoxIt({autoWidth:!1}),e.bind("touchstart",function(){a(".back-to-top").remove()}),a(document).bind("framework.domupdate",function(){e&&e.data&&e.data("selectBox-selectBoxIt")&&e.data("selectBox-selectBoxIt").refresh()})})}if(e.hasClass("field-select")&&(e.on("focus","select",function(){e.addClass("field-select-focus")}),e.on("blur","select",function(){e.removeClass("field-select-focus")})),e.hasClass("field-select2")){var n=e.find("select");n.is(":visible")?i(n):(r=n).interval=window.setInterval(function(){r.is(":visible")&&(i(r),window.clearInterval(r.interval))},500)}var r}(r))}}),define("framework/imgcontroller",["jquery"],function(i){return function(e){function t(e){return!!e.complete&&(void 0===e.naturalWidth||0!=e.naturalWidth)}window.imgZoomresizeDialog=function(e){e.naturalWidth&&i("#framework-modal .container").css("max-width",e.naturalWidth)},i(e).off(".img-zoom").on("click.img-zoom",".img-zoom",function(e){new framework.Dialog({body:i('<img class="fluid" onload="window.imgZoomresizeDialog(this)"/>').attr("src",this.href),backgroundColor:"black",textColor:"white",width:"800px"}).open(),e.preventDefault()}),i("img",e).each(function(){var e=i(this);1!=e.data("imgcontroller-installed")&&(e.data("imgcontroller-installed",!0),e.on("error load",function(){t(this)||(i(this).addClass("broken-image"),this.style.visibility="hidden")}).each(function(){this.complete&&(t(this)||(i(this).addClass("broken-image"),this.style.visibility="hidden"))}))})}}),define("framework/timeago",["jquery"],function(h){return function(e){var t,i,n,r=h(e).data("timestamp");h(e).html(function(r){var a={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"from now",seconds:"1 minute ago",minute:"1 minute ago",minutes:"%d minutes ago",hour:"1 hour ago",hours:"%d hours ago",day:"yesterday",days:"%d days ago",month:"1 month ago",months:"%d months ago",year:"1 year ago",years:"%d years ago",wordSeparator:" ",numbers:[]},e=a.prefixAgo,t=a.suffixAgo,i=Math.abs(r)/1e3,n=i/60,s=n/60,o=s/24,l=o/365;function c(e,t){var i=h.isFunction(e)?e(t,r):e,n=a.numbers&&a.numbers[t]||t;return i.replace(/%d/i,n)}var d=i<45&&c(a.seconds,Math.round(i))||i<90&&c(a.minute,1)||n<45&&c(a.minutes,Math.round(n))||n<90&&c(a.hour,1)||s<24&&c(a.hours,Math.round(s))||s<42&&c(a.day,1)||o<30&&c(a.days,Math.round(o))||o<45&&c(a.month,1)||o<365&&c(a.months,Math.round(o/30))||l<1.5&&c(a.year,1)||c(a.years,Math.round(l)),u=void 0===a.wordSeparator?" ":a.wordSeparator;return h.trim([e,d,t].join(u))}((i=r,n=(n=(n=(n=(n=h.trim(i)).replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),t=new Date(n),(new Date).getTime()-t.getTime())))}}),jQuery.fn.isChildOverflowing=function(e){var t=jQuery(this).get(0),i=jQuery(e).get(0);return i.offsetTop<t.offsetTop||i.offsetLeft<t.offsetLeft||i.offsetTop+i.offsetHeight>t.offsetTop+t.offsetHeight||i.offsetLeft+i.offsetWidth>t.offsetLeft+t.offsetWidth},define("framework/overflow",["jquery","framework/exports"],function(a,s){function o(e){var t=a(e),i=a(e).parent(),n=i.parent();t.outerWidth(!0)>i.width()?n.addClass("fade-container-active"):n.removeClass("fade-container-active")}function l(e){var t=a(e),i=a(e).parent().parent(),n=t.find("li:last-child");null!=n&&(t.isChildOverflowing(n)?i.addClass("fade-container-active"):i.removeClass("fade-container-active"))}return function(e){var t,i,n,r;1!=a(e).data("overflow-installed")&&(a(e).data("overflow-installed",!0),a(e).on("reset",function(){var e=a(this);console.info("reset",this),e.parent().hasClass("overflow-x")&&e.unwrap(),e.parent().hasClass("fade-container")&&e.unwrap()}),a(e).wrap('<div class="fade-container fade-container-far-left"><div class="overflow-x"></div></div>'),i=a(t=e).parent().parent(),n=i.width(),r=a(t).width(),a(t).parent().bind("scroll",s.debounce(function(e){a(this).scrollLeft()+n+10>=r?i.addClass("fade-container-far-right"):i.removeClass("fade-container-far-right"),0==a(this).scrollLeft()?i.addClass("fade-container-far-left"):i.removeClass("fade-container-far-left")},250,!1)),a(document).bind("framework.resize",function(){o(e),1==a(e).hasClass("liFadeChecker")&&l(e)}),o(e),1==a(e).hasClass("liFadeChecker")&&l(e))}}),define("framework/slider",["jquery"],function(o){return function(a){var s=o(a);1!=o(a).data("slider-installed")&&(o(a).data("slider-installed",!0),window.setTimeout(function(){o(".slider-open",s).each(function(){var r=o(this);"flyout-navigation"==r.data("target")&&r.attr("aria-label","Open Flyout Navigation"),"flyout-search"==r.data("target")&&r.attr("aria-label","Open Searchbox"),o(r).attr("aria-expanded","false"),r.click(function(e){if(o(this).hasClass("inherit-bg")){var t=o(this).removeClass("inherit-bg").parents(".slider-container");t.addClass("slider-closing").removeClass("slider-open"),window.setTimeout(function(){t.removeClass("slider-closing")},400),o(r).attr("aria-expanded","false"),o(a).trigger("close"),window.analytics&&(analytics.event("slidernav-close"),console.info("Analytics: slidernav-close"))}else{o(".slider-open",s).removeClass("inherit-bg").attr("aria-expanded","false"),o(this).addClass("inherit-bg");var i=o(this).data("target");o(".slider-targets",s).hide(),o(document.getElementById(i)).show(),o(this).parents(".slider-container").addClass("slider-open"),o(r).attr("aria-expanded","true"),o(a).trigger("open"),window.analytics&&(analytics.event("slidernav-open"),console.info("Analytics: slidernav-open"));var n=o("input:text:visible.universal-site-search-query",s);n.length?n.focus():o(".slider-close",s).focus().each(function(){document.getElementById("s4-workspace")?o("#s4-workspace,html,body").scrollTop(0):window.scrollTo(0,0)})}e.preventDefault()})}),o(".slider-close",s).each(function(){var e=o(this);e.attr("aria-label","Close Navigation Flyout Menu"),e.click(function(e){o(".universal-banner-menu-toggle").focus(),o(".slider-open",s).removeClass("inherit-bg").attr("aria-expanded","false");var t=o(this).parents(".slider-container").addClass("slider-closing");t.addClass("slider-closing").removeClass("slider-open"),window.setTimeout(function(){t.removeClass("slider-closing")},400),e.preventDefault(),o(a).trigger("close"),window.analytics&&(analytics.event("slidernav-close"),console.info("Analytics: slidernav-close"))})}),o(".slider-backdrop",s).click(function(e){o(".slider-close",s).click(),e.preventDefault()})},100))}}),define("framework/autorender",["jquery"],function(o){return function(e){var t=o(e);if(1!=o(e).data("autorender-installed")){if(o(e).data("autorender-installed",!0),t.hasClass("responsive-filters-inject")){var i='<div class="smoke-bg filter-sticky" style="padding-top:16px; padding-bottom:16px; visibility:hidden;"><div class="container  tablet-container mobile-container"><a href="#filter-top" class="black epsilon nosmooth">Filter Results: <span class="hbsred">'+o(".responsive-filters-total").first().text()+'</span><i class="icon24-filter-open xtoggle-hide"></i></a></div></div>';o(".responsive-filters-inject").prepend(i)}if(t.hasClass("responsive-facet-inject")&&(o(".desktop-visible .facets").clone().appendTo(".responsive-facet-inject"),o(".responsive-facet-inject-target").clone().appendTo(".responsive-facet-inject")),t.hasClass("slider-inject")){t.addClass("slider-right-220 slider-container"),0==t.children(".slider-content").length&&t.wrapInner('<div class="slider-content responsive-type"></div>'),t.prepend('<div class="slider-menu inherit-bg responsive-type"><div class="flyout-panel">'+function(){var r="";r+="",r+='<button class="flyout-panel-button slider-backdrop-above slider-close btn-glass black" style="padding-top: 3px!important;"><svg width="17" height="17" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false"><g id="closeicon" fill="currentColor" fill-rule="nonzero"><polygon points="14 1.41 12.59 0 7 5.59 1.41 0 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7"></polygon></g></svg></button>',r+='<div class="slider-targets inherit-bg" id="flyout-navigation">';var e=o(".site-header h1").eq(0).text();e&&!e.includes("svg")||(e=o(".site-header .site-home").eq(0).text()),e||(e=o(".page-header h1").eq(0).text());var t="slidernav-header-"+o.trim(e.toLowerCase()).replace(/ /gi,"-").replace(/^[^a-z]+|[^\w:.-]+/gi,""),i=o(".site-header h1 a").eq(0).attr("href");i||(i=o(".site-header .site-home a").eq(0).attr("href"));var n=[];if(o(".flyout-nav-links").length?o(".flyout-nav-links a").each(function(){n.push(this)}):o(".navbar a").each(function(){n.push(this)}),n.length){r+='<div class="flyout-padding">',r+=i?'   <nav class="gamma-uc site-title" aria-label="Site Homepage"><a class="black" href="'+i+'" id="'+t+'">'+e+"</a></nav>":'   <nav class="gamma-uc site-title" aria-label="Site Homepage"><span class="black" id="'+t+'">'+e+"</span></nav>",n.length&&(r+='   <div class="hr"></div>',r+='<nav aria-label="Section" class="section-nav"><ul class="epsilon-uc unbulleted">',o(n).each(function(e,t){var i=o(this).clone(),n=o.trim(i.text().toLowerCase()).replace(/ /gi,"-").replace(/^[^a-z]+|[^\w:.-]+/gi,"");i.attr("id","slidernav-"+n),i.hasClass("active")&&i.addClass("inherit-color"),i.addClass("skip-underline"),i.hasClass("first-sub")&&(r+='<ul class="unstyled">'),r+="<li",i.hasClass("active")&&(r+=' class="active black-bg"'),r+=">"+i[0].outerHTML,i.hasClass("has-sub")||(r+="</li>"),i.hasClass("last-sub")&&(r+="</ul></li>")}),r+="</ul></nav>");var a=[];o(".toolbar > li > *").each(function(){a.push(this)}),a.length&&(r+='<div class="hr"></div>',r+='<nav aria-label="Utility" class="util-nav"><ul class="unstyled kappa-uc">',o(a).each(function(e,t){if(0==o(this).find(".utility-menu").length){var i=o(this).clone(),n=o.trim(i.text().toLowerCase()).replace(/ /gi,"-").replace(/^[^a-z]+|[^\w:.-]+/gi,"");i.attr("id","slidernav-"+n),i.hasClass("active")&&i.addClass("inherit-color"),r+="<li",i.hasClass("active")&&(r+=' class="active black-bg"'),r+=">"+i[0].outerHTML+"</li>"}}),r+="</ul></nav>"),r+="</div>"}var s=o("#universal-slider-nav").clone();return s.find("a").addClass("inherit-color").addClass("skip-underline"),o("#universal-slider-nav").length&&(r+='<div class="black-bg" style="padding-bottom:20px">',r+='<div class="flyout-padding">',r+=s.html().replace("epsilon","kappa"),r+="</div>",r+="</div>"),r+="</div>",r+='<div class="search-container slider-targets hidden" id="flyout-search" role="search">',r+='<div class="flyout-padding">',r+='<div class="gamma-uc black site-title">Search</div>',r+='<div class="hr"></div>',r+='<div><table class="search-box">',r+="   <tr>",r+='      <td><input type="text" class="universal-site-search-query" aria-label="Search text" name="qt" value=""></td>',r+='  <td><button type="submit" class="btn-unstyled hbsred-bg universal-site-search-button" style="height:31px;width:31px;" aria-label="Perform Search">',r+='    <svg width="16px" height="19px" style="vertical-align:middle;" viewBox="1 1 96 113" preserveAspectRatio="xMidYMin" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="hbsred-bg">',r+='        <g id="Group" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(7.000000, 7.000000)">',r+='            <circle id="Oval" stroke="#fff" stroke-width="11" cx="36" cy="36" r="36"></circle>',r+='            <rect id="Rectangle" fill="#fff" transform="translate(68.783343, 81.926814) rotate(55.000000) translate(-68.783343, -81.926814) " x="45.2833428" y="72.9268136" width="47" height="18"></rect>',r+="        </g>",r+="    </svg>",r+="  </button></td>",r+="  </tr>",r+="</table></div>",r+='<div class="hr"></div>',r+="</div>",r+="</div>"}()+"</div></div>"),t.find(".slider-content").append('<div class="slider-backdrop"></div>');var n=o(".universal-site-search-query").val();o(".universal-site-search-query").val(n),o(".universal-slider-open").click(function(){return o(".slider-inject").find(".slider-open[data-target=flyout-navigation]").click(),!1}),o(".slider-inject").find(".slider-open[data-target=flyout-navigation]").on("click",function(){o(".slider-menu").addClass("black-bg").removeClass("inherit-bg")}),o(".slider-inject").find(".slider-open[data-target=flyout-search]").on("click",function(){o(".slider-menu").addClass("inherit-bg").removeClass("black-bg")}),o(".slider-inject").on("open",function(){o(".universal-slider-open").addClass("inherit-bg")}),o(".slider-inject").on("close",function(){o(".universal-slider-open").removeClass("inherit-bg")})}if(t.hasClass("h1-responsive-nav")){t.find("h1,h2").each(function(){var e="";e+='<div class="responsive-local-navigation toggle-container mobile-visible tablet-visible">',e+='<a href="#" class="toggle-button white">'+this.outerHTML,e+="</a>",e+='<div class="toggle-show has-slide">',e+='<ul class="kappa-uc">';var i="",n=o(this).text(),r=!1;t.find(".responsive-breadcrumb .dropdown-container").each(function(){var e=o(this).find(".dropdown-toggle").text(),t=o(this).find(".dropdown-toggle").attr("title");(e.toLowerCase()==n.toLowerCase()||t&&t.toLowerCase()==n.toLowerCase())&&(r=!0,o(this).find(".dropdown-menu a:gt(0)").each(function(){i+="<li>"+this.outerHTML+"</li>"}))}),e+=i,e+="</ul>",e+="</div>",e+="</div>",r&&(o(this).addClass("mobile-hidden tablet-hidden"),o(this).after(e),t.find(".responsive-local-navigation a").removeClass("inherit-color white"),t.find(".responsive-local-navigation a.active").addClass("white").parent().addClass("white"))});'<span class="toggle-show"><i class="icon24-close"></i></span>',o(".responsive-local-navigation h1,.responsive-local-navigation h2",e).append('<span class="toggle-hide"><i class="icon24-open"></i></span><span class="toggle-show"><i class="icon24-close"></i></span>')}o(".slider-menu a").last().focus().keydown(function(e){9!==e.which||e.shiftKey||(e.preventDefault(),o(".slider-menu button:first-of-type").focus())}),o(".slider-menu button:first-of-type").focus().keydown(function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),o(".slider-menu a").last().focus())})}}}),define("framework/cover",["jquery"],function(a){function i(e){var t=a(".cover-img img",e),i=e.height();a(".cover-body,.cover-img",e).css("height",i),t.css("width",e.width()),t.css("height","auto"),t.height()<e.height()&&(t.css("width","auto"),t.css("height",e.height()));var n=-i,r=0;r=e.hasClass("cover-right")?e.width()-t.width():e.hasClass("cover-left")?0:(e.width()-t.width())/2,a(".cover-img",e).css("margin-bottom",n).css("margin-left",r).css("visibility","visible")}return function(e){var t=a(e);1!=t.data("cover-installed")&&(t.data("cover-installed",!0),a(window).on("load",function(){i(t)}),a(document).bind("framework.resize",function(){i(t)}))}}),define("framework/map",["jquery"],function(c){function i(e){console.info(google,google.maps);if(0<e.length){var t=e.find(".map:first"),i={zoom:t.data("zoom")?t.data("zoom"):7,minZoom:t.data("min-zoom")?t.data("min-zoom"):2,maxZoom:t.data("max-zoom")?t.data("max-zoom"):18,scrollwheel:!1,center:new google.maps.LatLng(42.3601983,-71.127229),mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!1};if(t.data("center")&&-1<t.data("center").indexOf(",")){var n=parseFloat(t.data("center").split(",")[0]),r=parseFloat(t.data("center").split(",")[1]);i.center=new google.maps.LatLng(n,r)}var s=new google.maps.LatLngBounds,o=new google.maps.Map(t[0],i);o.setOptions({styles:[{stylers:[{saturation:"-10"},{xlightness:"20"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"on"}]},{featureType:"road",stylers:[{lightness:"50"},{visibility:"on"}]},{featureType:"landscape",stylers:[{xlightness:"50"}]}]});var l=new google.maps.InfoWindow({});console.info(e.find("ul.pins").html()),e.find("ul.pins > li").each(function(){var e=c(this).attr("title");if(-1!=c(this).data("latlon").indexOf(",")){var t=parseFloat(c(this).data("latlon").split(",")[0]),i=parseFloat(c(this).data("latlon").split(",")[1]),n=c(this).html(),r=new google.maps.LatLng(t,i),a=new google.maps.Marker({position:r,map:o,icon:{path:google.maps.SymbolPath.CIRCLE,fillOpacity:.9,fillColor:"#368db9",strokeColor:"#a41034",strokeOpacity:0,scale:4},title:e});google.maps.event.addListener(a,"click",function(){l.setContent(n),l.open(o,a)}),s.extend(a.position)}}),t.data("fitbounds")&&o.fitBounds(s);var a=google.maps.event.addListener(o,"idle",function(){google.maps.event.removeListener(a)})}}return function(e){var t=c(e);if(!0!==t.data("map-installed"))if(t.data("map-installed",!0),console.info("init",t.find(".pins").html()),window.google&&window.google.maps)i(t);else{parseInt(1e8*Math.random(0,1e4));window.framework_map_init=window.framework_map_init||[],window.framework_map_init.push(function(){i(t)}),window.framework_map_init_all=function(){for(var e=0;e<window.framework_map_init.length;e++)window.framework_map_init[e]();window.framework_map_init_all=function(){}};require(["https://maps.googleapis.com/maps/api/js?&callback=framework_map_init_all"],function(){})}}}),define("framework/tooltip",["jquery"],function(n){return function(e){var t=n(e);if(1!=t.data("tolltip-installed")){t.data("tolltip-installed",!0);var i=t.find(".tooltip-content").outerWidth()/2;60<i&&t.find(".tooltip-content").css("margin-left",0-i)}}}),define("framework/inputmask",["jquery"],function(n){return function(i){require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.inputmask.js"],function(){var e=n(i),t=n(i).data("mask");"email"==t?e.inputmask({alias:"email",placeholder:""}):"integer"==t?e.inputmask({alias:"integer",rightAlign:!1}):"date"==t&&e.inputmask("mm/dd/yyyy")})}}),define("framework/filtering",["jquery","framework/exports"],function(n,e){function i(e,t){if((t=t.toLowerCase())!=n(this).data("current-filter")){n(this).data("current-filter",t);var i=n(e).data("li");i&&0!=i.length||(i=n(".filtering-list>li",e),n(e).data("li",i)),i.hide(),i.each(function(){var e=n(this).data("text");e||(e=n(this).text().toLowerCase(),n(this).data("text",e)),(!t||-1<e.indexOf(t))&&n(this).show()})}}return function(t){1!=n(t).data("filtering-installed")&&(n(t).data("filtering-installed",!0),n(".filtering-input",t).bind("keyup",e.debounce(function(e){i(t,n(this).val())},150,!1)),n(".filtering-input",t).bind("change",function(){i(t,n(this).val())}))}}),define("framework/widgetsloader",["jquery"],function(i){return function(){var e=i(window);if(1!=e.data("widgets-installed")&&(e.data("widgets-installed",!0),!window.Widgets&&i(".widget-video-embed,.widget-video-inline,.widget-video-popup,.widget-sharebar,.widget-twitter-stream,.widget-popup-dark,.widget-popup").length)){console.log("src: "+i("script[src*='framework']").attr("src"));var t=i("script[src*='js/framework']").attr("src").replace("js/framework","js/widgets");console.info("loading",t),require([t],function(e){window.Widgets.refresh()})}}}),define("framework/typeahead",["jquery"],function(f,e){function m(n){return function(e,t){var i;i=[],substrRegex=new RegExp(e,"i"),f.each(n,function(e,t){substrRegex.test(t)&&i.push(t)}),t(i)}}return function(e){var t=f(e);1!=t.data("typeahead-installed")&&(t.data("typeahead-installed",!0),require(["https://d1gfwsbop52idw.cloudfront.net/static/shared/js/plugins/jquery.typeahead.js"],function(){var p;p=e,require(["typeahead.js","bloodhound"],function(e,t){for(var r=f(p),n=[{hint:!!r.data("typeahead-hint"),highlight:!0,minLength:1}],i=-1;i<10;i++){var a=r.data("typeahead-set"+i+"-values");if(-1==i&&(a=r.data("typeahead-values")),a){var s=[];f.each(a.split("|"),function(){s.push(f.trim(this))});var o={source:m(s)},l=r.data("typeahead-set"+i+"-label");l&&(o.templates={header:'<h3 class="mu-uc">'+l+"</h3>"}),n.push(o)}}var c=r.data("typeahead-endpoint"),d=r.data("typeahead-prefetch"),u=r.data("typeahead-limit")||5;if(c||d){var h={};h.datumTokenizer=t.tokenizers.obj.nonword("value"),h.queryTokenizer=t.tokenizers.nonword,d&&(h.prefetch={url:d,cacheKey:r.data("typeahead-cachekey")||document.location.pathname,transform:function(e){var t=[];return f.each(e,function(){t.push({value:this.t||this.title})}),t}}),c&&(h.remote={url:c,wildcard:"%QUERY",cacheKey:r.data("typeahead-cachekey")||document.location.pathname,transform:function(e){var t=[];return f.each(e,function(){t.push({value:this.t||this.title})}),t}}),o={display:"value",source:new t(h),limit:u},n.push(o)}1<n.length&&r.find("input").each(function(){var i=null;2==n.length&&(i=f(this).typeahead(n[0],n[1])),3==n.length&&(i=f(this).typeahead(n[0],n[1],n[2])),i.on("typeahead:select",function(e,t){r.trigger("select",{val:i.val()})}),i.on("typeahead:open",function(e,t){r.trigger("open",{val:i.val()})}),i.on("open",function(e,t){r.trigger("open",{val:i.val()})}),i.on("typeahead:render",function(e,t,i,n){r.trigger("render")}),i.on("typeahead:autocomplete",function(e,t){console.info("autocomplete",e,t)}),i.on("keypress",function(e){13===(e.keyCode?e.keyCode:e.which)&&(e.preventDefault(),r.trigger("enter",{val:i.val()}))})})})}))}}),define("framework/universal.footer",["jquery"],function(e,t){return function(){e(document).on("click","#footer-snapchat,#footer-snapchat-default,.universal-snapchat-popup",function(e){return'<div class="mu">Scan the image above to follow @harvardhbs on Snapchat</div>',new framework.Dialog({title:"<span class='icon-snapchat'></span><span style='text-transform:initial'>Snapchat</span>",body:'<div><img src="https://d3vgmmrg377kge.cloudfront.net/shared/images/social/snapcode.jpg" class="fluid"/><div class="shim20"></div></div><div class="mu">Scan the image above to follow @harvardhbs on Snapchat</div>',buttons:{ok:function(){return this.close(),!1}},width:"400px;"}).open(),!1}),-1==document.location.href.indexOf("exed")&&e(document).on("click","#footer-wechat,.universal-wechat-popup",function(e){return'<div class="mu">Scan the QR code above to follow us on WeChat</div>',new framework.Dialog({title:"<span class='icon-wechat'></span><span style='text-transform:initial'>WeChat</span>",body:'<div><img src="https://d3gps3f1qcxh97.cloudfront.net/Style Library/Images/ee_wechat_account.gif" class="fluid"/><div class="shim20"></div></div><div class="mu">Scan the QR code above to follow us on WeChat</div>',buttons:{ok:function(){return this.close(),!1}},width:"400px;"}).open(),!1})}}),define("framework/filterSticky",["jquery"],function(n){return function(e){n(window).scroll(function(e){var t=n(".filter-sticky"),i=n(".filter-top");0!=i.length&&(i.offset().top-parseFloat(i.css("marginTop"))+5<=n(this).scrollTop()?t.addClass("fixed"):(t.removeClass("fixed"),t.css("opacity","0"),t.css("visibility","hidden")))}),n(".responsive-filters .filter-sticky").click(function(){n(".filter-top .toggle-container:not(.toggled) a.toggle-button").eq(0).click()})}}),require(["jquery","framework/smoothscroll","framework/tabs","framework/choice","framework/megamenu","framework/links","framework/slideshow","framework/obfuscate","framework/expandable","framework/backtotop","framework/dropdown","framework/toggle","framework/datepicker","framework/carousel","framework/trim","framework/formcontainer","framework/resize","framework/useragent","framework/hover","framework/popover","framework/lazy","framework/iframe","framework/randomize","framework/scroll-lock","framework/in-viewport","framework/styledfields","framework/imgcontroller","framework/timeago","framework/overflow","framework/slider","framework/autorender","framework/cover","framework/map","framework/tooltip","framework/inputmask","framework/filtering","framework/widgetsloader","framework/typeahead","framework/universal.footer","framework/filterSticky"],function(t,i,n,r,a,s,o,l,c,d,u,h,p,f,m,g,e,v,w,b,y,_,x,k,C,E,F,T,D,q,S,O,A,j,I,R,P,N,Q,z){var M=void 0===t.fn.on;t(document).bind("framework.domupdate",function(){0<t(".ms-rtestate-write").length||(v(),e(),t(".js-framework").each(function(){var e=t(this);t(".slider-inject,.h1-responsive-nav,.responsive-facet-inject,.responsive-filters-inject",this).each(function(){S(this)}),t(".dropdown-container,.dropdown-container2,.dropdown-container3",this).each(function(){u(this)}),M||(t(".random-container",this).each(function(){x(this)}),t(this).on("click","a[href*='#']",function(e,t){return i(this,e,"mock"==t),!0}),t(".nav-tabs",this).each(function(){n(this)}),t(".megamenu-container",this).each(function(){a(this)}),t(".hover-container",this).each(function(){w(this)}),t(".tooltip",this).each(function(){j(this)}),t(".to",this).each(function(){l(this)}),t(".filtering-container",this).each(function(){R(this)}),t(".in-viewport-trigger",this).each(function(){C(this)}),t(".table-overflow",this).each(function(){D(this)}),t(".typeahead-container",this).each(function(){N(this)}),t(".plusminus, .accordian, .mobile-accordion, .mobile-accordion2, .mobile-expandable-headings",this).each(function(){c(this)}),t(".lazy,.defer,.ondemand",this).each(function(){y(this)}),t(".slider-container",this).each(function(){q(this)}),t(".map-container",this).each(function(){A(this)}),t("input[data-mask]",this).each(function(){I(this)}),t(".back-to-top",this).each(function(){d(this)}),t(".trim-container",this).each(function(){m(this)}),t(".scroll-lock",this).each(function(){k(this)}),t(".iframe-container",this).each(function(){_(this)}),t(".choice-container",this).each(function(){r(this)}),t(".link-controller",this).each(function(){s(this)}),t(".img-controller",this).each(function(){F(this)}),t(".toggle-container",this).each(function(){h(this)}),t(".timeago",this).each(function(){T(this)}),t(".datepicker,.datepicker-container,.datepicker-container-inline",this).each(function(){p(this)}),t(".popover-container",this).each(function(){b(this)}),t(".cover-container",this).each(function(){O(this)}),t(".filter-sticky",this).each(function(){z(this)}),t(".slideshow-container",this).each(function(){o(this)}),t(".carousel-container",this).each(function(){f(this)}),t(".field-checkbox,.field-radio,.field-select,.field-select2",this).each(function(){E(e,this)}),t(".form-container",this).each(function(){g(this)}),t(".responsive-breadcrumb > li:last-child .txt-arrow").hide())}))}),t(document).ready(function(){if(P(),t(document).keyup(function(e){27===e.keyCode&&t(document).trigger("esc")}),t(document).on("keypress","a[role=button]",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),t(this).click())}),"object"==typeof window._onload){for(var e=0;e<window._onload.length;e++)t(window).on("load",window._onload[e]);window._onload=[]}if("object"==typeof window._domready){for(e=0;e<window._domready.length;e++)t(document).ready(window._domready[e]);window._domready=[]}Q(),t(document).trigger("framework.domupdate"),window.analytics&&window.analytics.rebind&&t(document).bind("framework.domupdate",function(){window.window.analytics.rebind()})})}),define("js-framework",["jquery","framework/smoothscroll","framework/tabs","framework/choice","framework/megamenu","framework/links","framework/slideshow","framework/obfuscate","framework/expandable","framework/backtotop","framework/dropdown","framework/toggle","framework/datepicker","framework/carousel","framework/trim","framework/formcontainer","framework/resize","framework/useragent","framework/hover","framework/popover","framework/lazy","framework/iframe","framework/randomize","framework/scroll-lock","framework/in-viewport","framework/styledfields","framework/imgcontroller","framework/timeago","framework/overflow","framework/slider","framework/autorender","framework/cover","framework/map","framework/tooltip","framework/inputmask","framework/filtering","framework/widgetsloader","framework/typeahead","framework/universal.footer","framework/filterSticky"],function(){});