"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[966],{69458:(e,t,r)=>{r.d(t,{Y:()=>a});var n=r(24831),i=r(93754),s=r(92183),a=(r(81287),r(53508),function(){function e(t){(0,n.Z)(this,e),this.name=t||"",this._prefix="[".concat(this.name,"]")}return(0,i.Z)(e,[{key:"debug",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).debug.apply(t,[this._prefix].concat(n))}}},{key:"log",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).log.apply(t,[this._prefix].concat(n))}}},{key:"warn",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).warn.apply(t,[this._prefix].concat(n))}}},{key:"error",value:function(){var t;if(!e.disabled){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).error.apply(t,[this._prefix].concat(n))}}},{key:"table",value:function(){var t;e.disabled||(console.group(this._prefix),(t=console).table.apply(t,arguments),console.groupEnd())}}],[{key:"enable",value:function(){e.disabled=!1}},{key:"disable",value:function(){e.disabled=!0}}]),e}());(0,s.Z)(a,"disabled",!0)},8747:(e,t,r)=>{r.d(t,{mf:()=>q});var n=r(24831),i=r(93754),s=r(92183),a=(r(92372),r(53508),r(95964),r(70806),r(7941),r(39953),r(45600),r(61046),r(94321),r(51169),r(71704)),o=r(24179),u=r.n(o),c=(r(77239),r(21072),r(93818),r(83096),r(50036),r(94887),r(3529),r(152),r(2269),r(29189),r(79014),r(12574),r(12749),r(13095),r(93694),r(72091),r(68199),r(43864),r(10671),r(92836),r(46484),r(75622),r(16758),r(36742),r(97197),r(78856)),h=r(69307),l=r(78449),d=r(54538),_=r(60816),g="fetch",f="text";var p=function(e){(0,h.Z)(o,e);var t,r,a=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function o(e,t,r,i){var u;return(0,n.Z)(this,o),u=a.call(this,i),(0,s.Z)((0,c.Z)(u),"retryCount",0),(0,s.Z)((0,c.Z)(u),"isTimeout",!1),(0,s.Z)((0,c.Z)(u),"loaderType",g),(0,s.Z)((0,c.Z)(u),"startTime",0),(0,s.Z)((0,c.Z)(u),"endTime",0),u.url=e,u.request=t,u.response=r,u}return(0,i.Z)(o)}((0,_.Z)(Error)),y=(r(74453),r(45548),r(83765),r(41844),r(7237),r(27564)),v=(r(93640),Object.prototype.toString);function m(e){if("[object Object]"!==v.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function b(e){if(e&&null!=e[0]&&(0!==e[0]||null!=e[1])){var t="bytes="+e[0]+"-";return e[1]&&(t+=e[1]),t}}function T(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function k(e,t){if(e){if(!t)return e;var r,n=Object.keys(t).map((function(e){if(null!=(r=t[e]))return Array.isArray(r)?e+="[]":r=[r],r.map((function(t){var r;return r=t,"[object Date]"===v.call(r)?t=t.toISOString():function(e){return null!==e&&"object"===(0,y.Z)(e)}(t)&&(t=JSON.stringify(t)),"".concat(T(e),"=").concat(T(t))})).join("&")})).filter(Boolean).join("&");if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}}function w(e,t,r,n,i,s,a,o,u,c){return i=null!=i?parseFloat(i):null,n=parseInt(n||"0",10),isNaN(n)&&(n=0),{data:e,done:t,option:{range:u,vid:c,index:o,contentLength:n,age:i,startTime:s,firstByteTime:a,endTime:Date.now()},response:r}}r(59851),r(85385);var x=function(){function e(){(0,n.Z)(this,e),this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,this._realTimeSpeed=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return(0,i.Z)(e,[{key:"reset",value:function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}},{key:"addBytes",value:function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}},{key:"currentKBps",get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}},{key:"lastSecondKBps",get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}}],[{key:"getSpeed",value:function(){var e=0;if(this._netRecords.length<1)return e;var t=[];this._netRecords.map((function(e){t.push(e)})),t.sort((function(e,t){return e.mSpeedInbPS-t.mSpeedInbPS}));for(var r=t.length,n=0,i=0;i<r;i++)n+=t[i].mBytes;n/=2;for(var s=0;s<r;s++)if((n-=t[s].mBytes)<=0){e=t[s].mSpeedInbPS;break}return e<0?0:e}},{key:"getRealTimeSpeed",value:function(){return this._realTimeSpeed}},{key:"getRTT",value:function(){if(this._netRecords.length<1)return 0;var e=[];this._netRecords.map((function(t){e.push(t.mRTT)})),e.sort((function(e,t){return e-t}));var t=e.length;return t%2==0?(e[t/2-1]+e[t/2])/2:e[Math.floor(t/2)]}},{key:"netSampling",value:function(e){this._netRecords.push(e),this._realTimeSpeed=e.mSpeedInbPS,this._netRecords.length>10&&this._netRecords.splice(0,1)}}]),e}();(0,s.Z)(x,"_netRecords",[]);var S=x,Z=function(){function e(){(0,n.Z)(this,e),(0,s.Z)(this,"_abortController",null),(0,s.Z)(this,"_timeoutTimer",null),(0,s.Z)(this,"_reader",null),(0,s.Z)(this,"_response",null),(0,s.Z)(this,"_aborted",!1),(0,s.Z)(this,"_index",-1),(0,s.Z)(this,"_range",null),(0,s.Z)(this,"_receivedLength",0),(0,s.Z)(this,"_running",!1),(0,s.Z)(this,"_logger",null),(0,s.Z)(this,"_vid","")}var t;return(0,i.Z)(e,[{key:"load",value:function(e){var t=this,r=e.url,n=e.vid,i=e.timeout,s=e.responseType,o=e.onProgress,c=e.index,h=e.onTimeout,l=e.range,d=e.transformResponse,_=e.request,g=e.params,y=e.logger,v=e.method,m=e.headers,T=e.body,x=e.mode,Z=e.credentials,R=e.cache,C=e.redirect,L=e.referrer,O=e.referrerPolicy,j=e.integrity;this._logger=y,this._aborted=!1,this._running=!0,this._abortController=new AbortController,this._index=c,this._range=l||[0,0],this._vid=n||r,this._logger.debug("【fetchLoader task】, range",this._range);var B={method:v,headers:m,body:T,mode:x,credentials:Z,cache:R,redirect:C,referrer:L,referrerPolicy:O,integrity:j,signal:this._abortController.signal},P=!1;clearTimeout(this._timeoutTimer),r=k(r,g);var D=b(l);D&&((m=_?_.headers:B.headers=B.headers||new Headers)instanceof Headers?m.append("Range",D):m.Range=D),i&&(this._timeoutTimer=setTimeout((function(){if(P=!0,t.cancel(),h){var e=new p(r,B);e.isTimeout=!0,h(e)}}),i));var A=Date.now();return this._logger.debug("[fetch load start], index,",c,",range,",l),fetch(_||r,_?void 0:B).then(function(){var e=(0,a.Z)(u().mark((function e(n){var i,a,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(t._timeoutTimer),t._response=n,!t._aborted){e.next=4;break}return e.abrupt("return");case 4:if(d&&(n=d(n,r)||n),n.ok){e.next=8;break}throw t._running=!1,new p(r,B,n,"bad network response");case 8:if(i=Date.now(),s!==f){e.next=16;break}return e.next=12,n.text();case 12:a=e.sent,t._running=!1,e.next=35;break;case 16:if("json"!==s){e.next=23;break}return e.next=19,n.json();case 19:a=e.sent,t._running=!1,e.next=35;break;case 23:if(!o){e.next=27;break}t._loadChunk(n,o,A,i),e.next=35;break;case 27:return e.next=29,n.arrayBuffer();case 29:a=e.sent,a=new Uint8Array(a),t._running=!1,t._logger.debug("[fetch load end], index,",c,",range,",l),h=Date.now()-A,S.netSampling({mTime:h,mBytes:a.byteLength,mSpeedInbPS:8*a.byteLength/(h/1e3),mRTT:i-A});case 35:return e.abrupt("return",w(a,!0,n,n.headers.get("Content-Length"),n.headers.get("age"),A,i,c,l,t._vid));case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){if(clearTimeout(t._timeoutTimer),t._running=!1,!t._aborted||P)throw(e=e instanceof p?e:new p(r,B)).startTime=A,e.endTime=Date.now(),e.isTimeout=P,e}))}},{key:"cancel",value:(t=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._aborted){e.next=2;break}return e.abrupt("return");case 2:if(this._aborted=!0,this._running=!1,!this._response){e.next=16;break}return e.prev=5,e.next=8,this._response.body.cancel();case 8:if(!this._reader){e.next=11;break}return e.next=11,this._reader.cancel();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:this._response=this._reader=null;case 16:if(this._abortController){try{this._abortController.abort()}catch(e){}this._abortController=null}case 17:case"end":return e.stop()}}),e,this,[[5,13]])}))),function(){return t.apply(this,arguments)})},{key:"_loadChunk",value:function(e,t,r,n){var i=this;if(!e.body||!e.body.getReader)throw new p(e.url,"",e,"onProgress of bad response.body.getReader");var s,o,c,h=this._reader=e.body.getReader(),l=function(){var d=(0,a.Z)(u().mark((function a(){var d,_,g,f;return u().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=Date.now(),a.prev=1,a.next=4,h.read();case 4:s=a.sent,c=Date.now(),a.next=15;break;case 8:return a.prev=8,a.t0=a.catch(1),c=Date.now(),d=i._range[0]+i._receivedLength,_=i._aborted?null:a.t0,t(void 0,!1,{range:[d,d],vid:i._vid,index:i._index,startTime:o,endTime:c,err:_},e),a.abrupt("return");case 15:if(g=i._range[0]+i._receivedLength,!i._aborted){a.next=19;break}return t(void 0,!1,{range:[g,g],vid:i._vid,index:i._index,startTime:o,endTime:c},e),a.abrupt("return");case 19:i._receivedLength+=s.value?s.value.byteLength:0,i._logger.debug("【fetchLoader,onProgress call】,task,",i._range,", start,",g,", end,",i._range[0]+i._receivedLength,", done,",s.done),t(s.value,s.done,{range:[g,i._range[0]+i._receivedLength],vid:i._vid,index:i._index,startTime:o,endTime:c},e),f=Date.now()-r,i._logger.debug("[fetchLoader SPEED], fetch speed(b/s),",8*i._receivedLength/(f/1e3)),S.netSampling({mTime:f,mBytes:i._receivedLength,mSpeedInbPS:8*i._receivedLength/(f/1e3),mRTT:n-r}),s.done?(i._running=!1,i._logger.debug("[fetchLoader onProgress end],task,",i._range,",done,",s.done)):l();case 26:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return d.apply(this,arguments)}}();l()}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}}],[{key:"isSupported",value:function(){if("undefined"==typeof ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!("undefined"==typeof fetch||"undefined"==typeof AbortController)}}]),e}();function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}r(92578),r(9778),r(93956),r(58935);var C=r(85307);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(81287),r(51908),r(25017),r(32966),r(54079),r(20097);var B=-1,P=-1,D=function(){function e(){(0,n.Z)(this,e),(0,s.Z)(this,"_xhr",null),(0,s.Z)(this,"_aborted",!1),(0,s.Z)(this,"_timeoutTimer",null),(0,s.Z)(this,"_range",null),(0,s.Z)(this,"_receivedLength",0),(0,s.Z)(this,"_url",null),(0,s.Z)(this,"_onProgress",null),(0,s.Z)(this,"_index",-1),(0,s.Z)(this,"_headers",null),(0,s.Z)(this,"_chunkSizeKBList",[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192]),(0,s.Z)(this,"_currentChunkSizeKB",384),(0,s.Z)(this,"_currentSpeedNormalized",0),(0,s.Z)(this,"_zeroSpeedChunkCount",0),(0,s.Z)(this,"_timeout",null),(0,s.Z)(this,"_xhr",null),(0,s.Z)(this,"_withCredentials",null),(0,s.Z)(this,"_startTime",-1),(0,s.Z)(this,"_firstByteTime",-1),(0,s.Z)(this,"_speedSampler",new S),(0,s.Z)(this,"_loadCompleteResolve",null),(0,s.Z)(this,"_loadCompleteReject",null),(0,s.Z)(this,"_runing",!1),(0,s.Z)(this,"_logger",!1),(0,s.Z)(this,"_vid","")}return(0,i.Z)(e,[{key:"load",value:function(e){var t=this;clearTimeout(this._timeoutTimer),this._logger=e.logger,this._range=e.range||[0,0],this._onProgress=e.onProgress,this._index=e.index,this._headers=e.headers,this._withCredentials="include"===e.credentials||"same-origin"===e.credentials,this._logger.debug("【xhrLoader task】, range",this._range);var r=e.url,n=e.params,i=e.timeout,s=e.responseType,a=e.onTimeout,o=e.transformResponse,u=e.onProgress,c=e.method,h=e.credentials,l=e.body,d=e.index,_=e.range,g=e.request,f=!1;this._timeout=i||null,this._runing=!0,this._vid=e.vid||r,this._url=k(r,n);var y=Date.now();return this._onProgress&&_.length>1&&_[1]&&_[1]-_[0]>1024*this._currentChunkSizeKB?(this._logger.debug("【xhrLoader】, task",this._range,", need to sub range"),B=y,new Promise((function(e,r){t._loadCompleteResolve=e,t._loadCompleteReject=r,t._openSubRange()})).catch((function(e){if(clearTimeout(t._timeoutTimer),t._runing=!1,!t._aborted)throw(e=e instanceof p?e:new p(r,g)).startTime=y,e.endTime=Date.now(),e}))):new Promise((function(e,n){var v=t._xhr=new XMLHttpRequest;v.open(c||"GET",r,!0),v.responseType=s,v.withCredentials="include"===h||"same-origin"===h;var m=b(_),T=null;m&&((T=t._headers||{}).Range=m),T&&Object.keys(T).forEach((function(e){v.setRequestHeader(e,T[e])})),i&&(t._timeoutTimer=setTimeout((function(){if(f=!0,t.cancel(),a){var e=new p(r,g);e.isTimeout=!0,a(e)}}),i)),v.onerror=function(e){return n(e)},v.onreadystatechange=function(){if(v.readyState>=2){clearTimeout(t._timeoutTimer);var i=Date.now();if(P<0&&(P=i),4===v.readyState){if(v.onreadystatechange=null,t._aborted)return;var s=v.status,a={ok:s>=200&&s<300,status:s,statusText:v.statusText,url:v.responseURL,headers:t._getHeaders(v),body:v.response};if(o&&(a=o(a,r)||a),!a.ok)return n(new p(r,g,a,"bad network response"));var c="arraybuffer"===v.responseType,h=c?new Uint8Array(v.response):v.response;if(c){var l=Date.now()-y;S.netSampling({mTime:l,mBytes:h.byteLength,mSpeedInbPS:8*h.byteLength/(l/1e3),mRTT:P-y})}u&&u(c?h:void 0,!0,{range:t._range,index:t._index,startTime:y,endTime:Date.now()},a),t._runing=!1,e(w(h,!0,a,a.headers["content-length"],a.headers.age,y,i,d,t._range,t._vid))}}},v.send(l)})).catch((function(e){if(clearTimeout(t._timeoutTimer),t._runing=!1,!t._aborted||f)throw(e=e instanceof p?e:new p(r,g)).startTime=y,e.endTime=Date.now(),e.isTimeout=f,e}))}},{key:"_openSubRange",value:function(){var e=1024*this._currentChunkSizeKB,t=this._range[0]+this._receivedLength;this._logger.debug("[xhr_loader->] ,tast: ",this._range,",subRangeFrom ",t,", currentReceivedLength, ",this._receivedLength);var r=this._range[1];e<this._range[1]-t&&(r=t+e);var n=[t,r];this._logger.debug("[xhr_loader->],tast :",this._range,", SubRange, ",n),this._internalOpen(this._url,n)}},{key:"_internalOpen",value:function(e,t){var r=this;try{this._startTime=Date.now();var n=this._xhr=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",this._timeout&&(n.timeout=this._timeout),n.withCredentials=this._withCredentials,n.onload=this._onLoad.bind(this),n.onreadystatechange=this._onReadyStatechange.bind(this),n.onerror=function(e){r._running=!1,r._loadCompleteReject(e)},n.ontimeout=function(e){r._running=!1,r._loadCompleteReject(e)};var i=b(t),s=null;i&&((s=this._headers||{}).Range=i),s&&Object.keys(s).forEach((function(e){n.setRequestHeader(e,s[e])})),this._logger.debug("[xhr.send->] tast,",this._range,",load sub range, ",t),n.send()}catch(e){throw e}}},{key:"_onReadyStatechange",value:function(e){2===e.target.readyState&&P<0&&(P=Date.now())}},{key:"_onLoad",value:function(e){var t=e.target.status;if(t<200||t>299)return this._loadCompleteReject(new p(this._url,null,j(j({},e.target.response),{},{status:t}),"bad response,status:"+t));var r=this._speedSampler.lastSecondKBps;if(0===r&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(r=this._speedSampler.currentKBps)),0!==r){var n=this._normalizeSpeed(r);this._currentSpeedNormalized!==n&&(this._currentSpeedNormalized=n,this._currentChunkSizeKB=n)}var i=new Uint8Array(e.target.response);this._firstByteTime&&(this._firstByteTime=Date.now());var s,a=this._range[0]+this._receivedLength;if(this._receivedLength+=i?i.byteLength:0,this._logger.debug("[xhr load done->], tast :",this._range,", from",a,"end ",this._range[0]+this._receivedLength,",dataLen,",i?i.byteLength:0,",receivedLength",this._receivedLength),s=!(this._range.length>1&&this._range[1]&&this._receivedLength<this._range[1]-this._range[0]),this._onProgress&&(this._logger.debug("[xhr onDataArrivalCall],tast :",this._range,",start, ",a,",end, ",this._range[0]+this._receivedLength,",index,",this._index),this._onProgress(i,s,{index:this._index,vid:this._vid,range:[a,this._range[0]+this._receivedLength],startTime:this._startTime,endTime:Date.now()},null)),i&&i.byteLength>0){var o=Date.now()-B;S.netSampling({mTime:o,mBytes:this._receivedLength,mSpeedInbPS:8*this._receivedLength/(o/1e3),mRTT:P-B})}if(s){this._runing=!1;var u={ok:t>=200&&t<300,status:t,statusText:this._xhr.statusText,url:this._xhr.responseURL,headers:this._getHeaders(this._xhr),body:this._xhr.response};this._loadCompleteResolve&&this._loadCompleteResolve(w(null,!0,u,u.headers["content-length"],u.headers.age,this._startTime,this._firstByteTime,this._index,this._range,this._vid))}else this._speedSampler.addBytes(i.byteLength),this._openSubRange()}},{key:"_normalizeSpeed",value:function(e){var t=this._chunkSizeKBList,r=t.length-1,n=0,i=0,s=r;if(e<t[0])return t[0];for(;i<=s;){if((n=i+Math.floor((s-i)/2))===r||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?i=n+1:s=n-1}}},{key:"cancel",value:function(){if(!this._aborted)return this._aborted=!0,this._runing=!1,this._xhr?this._xhr.abort():void 0}},{key:"receiveLen",get:function(){return this._receivedLength}},{key:"running",get:function(){return this._running},set:function(e){this._running=e}},{key:"_getHeaders",value:function(e){var t,r={},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}(e.getAllResponseHeaders().trim().split("\r\n"));try{for(n.s();!(t=n.n()).done;){var i=t.value.split(": ");r[i[0].toLowerCase()]=i.slice(1).join(": ")}}catch(e){n.e(e)}finally{n.f()}return r}}],[{key:"isSupported",value:function(){return"undefined"!=typeof XMLHttpRequest}}]),e}(),A=["retry","retryDelay","onRetryError","transformError"],E=function(){function e(t,r){var i,s,a;(0,n.Z)(this,e),this.promise=((a=new Promise((function(e,t){i=e,s=t}))).used=!1,a.resolve=function(){return a.used=!0,i.apply(void 0,arguments)},a.reject=function(){return a.used=!0,s.apply(void 0,arguments)},a),this.alive=!!r.onProgress,this._loaderType=t,this._loader=t===g?new Z:new D,this._config=r,this._retryCount=0,this._retryTimer=null,this._canceled=!1,this._logger=r.logger}var t;return(0,i.Z)(e,[{key:"exec",value:function(){var e=this,t=this._config,r=t.retry,n=t.retryDelay,i=t.onRetryError,s=t.transformError,o=(0,C.Z)(t,A),c=function(){var t=(0,a.Z)(u().mark((function t(){var a,h;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e._logger.debug("[task request ready to load]",o.range),t.next=4,e._loader.load(o);case 4:a=t.sent,e.promise.resolve(a),t.next=29;break;case 8:if(t.prev=8,t.t0=t.catch(0),e._loader.running=!1,e._logger.debug("[task request catch err]",t.t0),!e._canceled){t.next=14;break}return t.abrupt("return");case 14:if(!(t.t0.response&&t.t0.response.status>=400&&t.t0.response.status<=599)){t.next=17;break}return e.promise.reject(t.t0),t.abrupt("return");case 17:if(t.t0.loaderType=e._loaderType,t.t0.retryCount=e._retryCount,h=t.t0,s&&(h=s(h)||h),i&&e._retryCount>0&&i(h,e._retryCount,r),e._retryCount++,!(e._retryCount<=r)){t.next=28;break}return clearTimeout(e._retryTimer),e._logger.debug("[task request setTimeout],retry",e._retryCount,",retry range,",o.range),e._retryTimer=setTimeout(c,n),t.abrupt("return");case 28:e.promise.reject(h);case 29:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return this._logger.debug("[task request start]",this._config.range),c(),this.promise}},{key:"cancel",value:(t=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this._retryTimer),this._canceled=!0,this._loader.running=!1,e.abrupt("return",this._loader.cancel());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"running",get:function(){return this._loader&&this._loader.running}}]),e}(),q=function(){function e(t){(0,n.Z)(this,e),(0,s.Z)(this,"type",g),(0,s.Z)(this,"_queue",[]),(0,s.Z)(this,"_alive",[]),(0,s.Z)(this,"_currentTask",null),this._config=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({loaderType:g,retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:f,range:void 0,url:"",params:void 0,method:"GET",headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0},e)}(t),"xhr"!==this._config.loaderType&&Z.isSupported()||(this.type="xhr"),this.log=t.logger}return(0,i.Z)(e,[{key:"isFetch",value:function(){return this.type===g}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof e&&e?t=e:t.url=e||t.url||this._config.url,(t=Object.assign({},this._config,t)).params&&(t.params=Object.assign({},t.params)),t.headers&&m(t.headers)&&(t.headers=Object.assign({},t.headers)),t.body&&m(t.body)&&(t.body=Object.assign({},t.body)),t.transformRequest&&(t=t.transformRequest(t)||t),t.logger=this.log;var r=new E(this.type,t);return this._queue.push(r),1!==this._queue.length||this._currentTask&&this._currentTask.running||this._processTask(),r.promise}},{key:"cancel",value:function(){var e=this._queue.map((function(e){return e.cancel()})).concat(this._alive.map((function(e){return e.cancel()})));return this._currentTask&&e.push(this._currentTask.cancel()),this._queue=[],this._alive=[],Promise.all(e)}},{key:"_processTask",value:function(){var e=this;this._currentTask=this._queue.shift(),this._currentTask&&(this._currentTask.alive&&this._alive.push(this._currentTask),this._currentTask.exec().finally((function(){e._processTask()})))}}],[{key:"isFetchSupport",value:function(){return Z.isSupported()}},{key:"getSpeed",value:function(){return S.getSpeed()}},{key:"getRealTimeSpeed",value:function(){return S.getRealTimeSpeed()}},{key:"getRTT",value:function(){return S.getRTT()}}]),e}()},19515:(e,t,r)=>{function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.filter(Boolean);var n=new Uint8Array(t.reduce((function(e,t){return e+t.byteLength}),0)),i=0;return t.forEach((function(e){n.set(e,i),i+=e.byteLength})),n}r.d(t,{gJ:()=>n}),r(83765),r(7941),r(70806),r(77239),r(21072),r(93818),r(83096),r(50036),r(94887),r(3529),r(152),r(2269),r(29189),r(79014),r(12574),r(12749),r(13095),r(93694),r(72091),r(68199),r(43864),r(10671),r(92836),r(46484),r(75622),r(16758),r(36742),r(93956)}}]);