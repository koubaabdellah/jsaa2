/*!
* jQuery Cookie Plugin
* https://github.com/carhartl/jquery-cookie
*
* Copyright 2011, Klaus Hartl
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://www.opensource.org/licenses/mit-license.php
* http://www.opensource.org/licenses/GPL-2.0
*/
(function(n){n.cookie=function(t,i,r){var h,f,e,o,u,s;if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||i===null||i===undefined))return r=n.extend({},r),(i===null||i===undefined)&&(r.expires=-1),typeof r.expires=="number"&&(h=r.expires,f=r.expires=new Date,f.setDate(f.getDate()+h)),i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");for(r=i||{},e=r.raw?function(n){return n}:decodeURIComponent,o=document.cookie.split("; "),u=0;s=o[u]&&o[u].split("=");u++)if(e(s[0])===t)return e(s[1]||"");return null}})(jQuery);
/*! 
* FitVids 1.0 - MODIFIED BY JT
*
* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
* Date: Thu Sept 01 18:00:00 2011 -0500
* JT Changes 10/01/2012 - Moving out CSS into style.css
*/
(function(n){n.fn.fitVids=function(t){var i={customSelector:null};return t&&n.extend(i,t),this.each(function(){var t=["iframe[src^='http://player.vimeo.com']","iframe[src^='http://www.youtube.com']","iframe[src^='https://www.youtube.com']","iframe[src^='http://www.kickstarter.com']","iframe[src^='http://c.brightcove.com']","object[data^='http://www.youtube.com']","object[data^='http://c.brightcove.com']","object.BrightcoveExperience"],r;i.customSelector&&t.push(i.customSelector);r=n(this).find(t.join(","));r.each(function(){var t;if(!n("#immWrap").length&&(!n("html").hasClass("ie7")||!n(this).hasClass("BrightcoveExperience"))&&(t=n(this),(this.tagName.toLowerCase()!="embed"||!t.parent("object").length)&&!t.parent(".fluid-width-video-wrapper").length)){var r=this.tagName.toLowerCase()=="object"?t.attr("width"):t.width(),u=this.tagName.toLowerCase()=="object"?t.attr("height"):t.height(),f=u/r,i=t.wrap('<div class="fluid-width-video-wrapper"><\/div>').parent(".fluid-width-video-wrapper");i.css("padding-top",f*100+"%");t.removeAttr("height").removeAttr("width");t.hasClass("BrightcoveExperience")&&t.parent().parent("span").css("display","block");n(window).bind("orientationchange",function(){i.html(i.html())})}})})}})(jQuery);
/*!
* iScroll v4.2 PATCHED https://github.com/zmathew/iscroll/commit/86acfc09298a999c6f3097ecea736169e00b8e52 
Fixed issue that prevented native page scrolling on touch devices 
~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
* Released under MIT license, http://cubiq.org/license
*/
(function(n,t){function s(n){return f===""?n:(n=n.charAt(0).toUpperCase()+n.substr(1),f+n)}var i=Math,y=t.createElement("div").style,f=function(){for(var t="webkitT,MozT,msT,OT,t".split(","),i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in y)return t[n].substr(0,t[n].length-1);return!1}(),u=f?"-"+f.toLowerCase()+"-":"",e=s("transform"),ut=s("transitionProperty"),h=s("transitionDuration"),ft=s("transformOrigin"),et=s("transitionTimingFunction"),p=s("transitionDelay"),w=/android/gi.test(navigator.appVersion),nt=/iphone|ipad/gi.test(navigator.appVersion),ot=/hp-tablet/gi.test(navigator.appVersion),tt=s("perspective")in y,r="ontouchstart"in n&&!ot,it=!!f,st=s("transition")in y,b="onorientationchange"in n?"orientationchange":"resize",k=r?"touchstart":"mousedown",l=r?"touchmove":"mousemove",a=r?"touchend":"mouseup",v=r?"touchcancel":"mouseup",d=f=="Moz"?"DOMMouseScroll":"mousewheel",c=function(){if(f===!1)return!1;return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[f]}(),ht=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){return setTimeout(n,1)}}(),rt=function(){return n.cancelRequestAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame||n.mozCancelRequestAnimationFrame||n.oCancelRequestAnimationFrame||n.msCancelRequestAnimationFrame||clearTimeout}(),o=tt?" translateZ(0)":"",g=function(i,f){var s=this,c;s.wrapper=typeof i=="object"?i:t.getElementById(i);s.wrapper.style.overflow="hidden";s.scroller=s.wrapper.children[0];s.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:w,hideScrollbar:nt,fadeScrollbar:nt&&tt,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(n){r||n.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in f)s.options[c]=f[c];s.x=s.options.x;s.y=s.options.y;s.options.useTransform=it&&s.options.useTransform;s.options.hScrollbar=s.options.hScroll&&s.options.hScrollbar;s.options.vScrollbar=s.options.vScroll&&s.options.vScrollbar;s.options.zoom=s.options.useTransform&&s.options.zoom;s.options.useTransition=st&&s.options.useTransition;s.options.zoom&&w&&(o="");s.scroller.style[ut]=s.options.useTransform?u+"transform":"top left";s.scroller.style[h]="0";s.scroller.style[ft]="0 0";s.options.useTransition&&(s.scroller.style[et]="cubic-bezier(0.33,0.66,0.66,1)");s.options.useTransform?s.scroller.style[e]="translate("+s.x+"px,"+s.y+"px)"+o:s.scroller.style.cssText+=";position:absolute;top:"+s.y+"px;left:"+s.x+"px";s.options.useTransition&&(s.options.fixedScrollbar=!0);s.refresh();s._bind(b,n);s._bind(k);r||(s._bind("mouseout",s.wrapper),s.options.wheelAction!="none"&&s._bind(d));s.options.checkDOMChanges&&(s.checkDOMTime=setInterval(function(){s._checkDOMChanges()},500))};g.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(n){var t=this;switch(n.type){case k:if(!r&&n.button!==0)return;t._start(n);break;case l:t._move(n);break;case a:case v:t._end(n);break;case b:t._resize();break;case d:t._wheel(n);break;case"mouseout":t._mouseout(n);break;case c:t._transitionEnd(n)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(n){var r=this,f;if(!r[n+"Scrollbar"]){r[n+"ScrollbarWrapper"]&&(it&&(r[n+"ScrollbarIndicator"].style[e]=""),r[n+"ScrollbarWrapper"].parentNode.removeChild(r[n+"ScrollbarWrapper"]),r[n+"ScrollbarWrapper"]=null,r[n+"ScrollbarIndicator"]=null);return}r[n+"ScrollbarWrapper"]||(f=t.createElement("div"),r.options.scrollbarClass?f.className=r.options.scrollbarClass+n.toUpperCase():f.style.cssText="position:absolute;z-index:100;"+(n=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),f.style.cssText+=";pointer-events:none;"+u+"transition-property:opacity;"+u+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(f),r[n+"ScrollbarWrapper"]=f,f=t.createElement("div"),r.options.scrollbarClass||(f.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+u+"background-clip:padding-box;"+u+"box-sizing:border-box;"+(n=="h"?"height:100%":"width:100%")+";"+u+"border-radius:3px;border-radius:3px"),f.style.cssText+=";pointer-events:none;"+u+"transition-property:"+u+"transform;"+u+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+u+"transition-duration:0;"+u+"transform: translate(0,0)"+o,r.options.useTransition&&(f.style.cssText+=";"+u+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[n+"ScrollbarWrapper"].appendChild(f),r[n+"ScrollbarIndicator"]=f);n=="h"?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=i.max(i.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=i.max(i.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY);r._scrollbarPos(n,!0)},_resize:function(){var n=this;setTimeout(function(){n.refresh()},w?200:0)},_pos:function(n,t){this.zoomed||(n=this.hScroll?n:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[e]="translate("+n+"px,"+t+"px) scale("+this.scale+")"+o:(n=i.round(n),t=i.round(t),this.scroller.style.left=n+"px",this.scroller.style.top=t+"px"),this.x=n,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(n,t){var r=this,u=n=="h"?r.x:r.y,f;r[n+"Scrollbar"]&&(u=r[n+"ScrollbarProp"]*u,u<0?(r.options.fixedScrollbar||(f=r[n+"ScrollbarIndicatorSize"]+i.round(u*3),f<8&&(f=8),r[n+"ScrollbarIndicator"].style[n=="h"?"width":"height"]=f+"px"),u=0):u>r[n+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?u=r[n+"ScrollbarMaxScroll"]:(f=r[n+"ScrollbarIndicatorSize"]-i.round((u-r[n+"ScrollbarMaxScroll"])*3),f<8&&(f=8),r[n+"ScrollbarIndicator"].style[n=="h"?"width":"height"]=f+"px",u=r[n+"ScrollbarMaxScroll"]+(r[n+"ScrollbarIndicatorSize"]-f))),r[n+"ScrollbarWrapper"].style[p]="0",r[n+"ScrollbarWrapper"].style.opacity=t&&r.options.hideScrollbar?"0":"1",r[n+"ScrollbarIndicator"].style[e]="translate("+(n=="h"?u+"px,0)":"0,"+u+"px)")+o)},_start:function(n){var t=this,y=r?n.touches[0]:n,o,u,f,s,h;t.enabled&&(t.options.onBeforeScrollStart&&t.options.onBeforeScrollStart.call(t,n),(t.options.useTransition||t.options.zoom)&&t._transitionTime(0),t.moved=!1,t.animating=!1,t.zoomed=!1,t.distX=0,t.distY=0,t.absDistX=0,t.absDistY=0,t.dirX=0,t.dirY=0,t.options.zoom&&r&&n.touches.length>1&&(n.preventDefault(),s=i.abs(n.touches[0].pageX-n.touches[1].pageX),h=i.abs(n.touches[0].pageY-n.touches[1].pageY),t.touchesDistStart=i.sqrt(s*s+h*h),t.originX=i.abs(n.touches[0].pageX+n.touches[1].pageX-t.wrapperOffsetLeft*2)/2-t.x,t.originY=i.abs(n.touches[0].pageY+n.touches[1].pageY-t.wrapperOffsetTop*2)/2-t.y,t.options.onZoomStart&&t.options.onZoomStart.call(t,n)),t.options.momentum&&(t.options.useTransform?(o=getComputedStyle(t.scroller,null)[e].replace(/[^0-9\-.,]/g,"").split(","),u=o[4]*1,f=o[5]*1):(u=getComputedStyle(t.scroller,null).left.replace(/[^0-9-]/g,"")*1,f=getComputedStyle(t.scroller,null).top.replace(/[^0-9-]/g,"")*1),(u!=t.x||f!=t.y)&&(t.options.useTransition?t._unbind(c):rt(t.aniTime),t.steps=[],t._pos(u,f))),t.absStartX=t.x,t.absStartY=t.y,t.startX=t.x,t.startY=t.y,t.pointX=y.pageX,t.pointY=y.pageY,t.startTime=n.timeStamp||Date.now(),t.options.onScrollStart&&t.options.onScrollStart.call(t,n),t._bind(l),t._bind(a),t._bind(v))},_move:function(n){var t=this,l=r?n.touches[0]:n,h=l.pageX-t.pointX,c=l.pageY-t.pointY,f=t.x+h,s=t.y+c,a,v,u,y=n.timeStamp||Date.now(),p,w;if(t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,n),t.options.zoom&&r&&n.touches.length>1){n.preventDefault();a=i.abs(n.touches[0].pageX-n.touches[1].pageX);v=i.abs(n.touches[0].pageY-n.touches[1].pageY);t.touchesDist=i.sqrt(a*a+v*v);t.zoomed=!0;u=1/t.touchesDistStart*t.touchesDist*this.scale;u<t.options.zoomMin?u=.5*t.options.zoomMin*Math.pow(2,u/t.options.zoomMin):u>t.options.zoomMax&&(u=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/u));t.lastScale=u/this.scale;f=this.originX-this.originX*t.lastScale+this.x;s=this.originY-this.originY*t.lastScale+this.y;this.scroller.style[e]="translate("+f+"px,"+s+"px) scale("+u+")"+o;t.options.onZoom&&t.options.onZoom.call(t,n);return}(t.pointX=l.pageX,t.pointY=l.pageY,(f>0||f<t.maxScrollX)&&(f=t.options.bounce?t.x+h/2:f>=0||t.maxScrollX>=0?0:t.maxScrollX),(s>t.minScrollY||s<t.maxScrollY)&&(s=t.options.bounce?t.y+c/2:s>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY),t.distX+=h,t.distY+=c,t.absDistX=i.abs(t.distX),t.absDistY=i.abs(t.distY),t.absDistX<6&&t.absDistY<6)||(t.options.lockDirection&&(t.absDistX>t.absDistY+5?(s=t.y,c=0):t.absDistY>t.absDistX+5&&(f=t.x,h=0)),p=t.x,w=t.y,t.moved=!0,t._pos(f,s),r&&(t.x!=p||t.y!=w)&&n.preventDefault(),t.dirX=h>0?-1:h<0?1:0,t.dirY=c>0?-1:c<0?1:0,y-t.startTime>300&&(t.startTime=y,t.startX=t.x,t.startY=t.y),t.options.onScrollMove&&t.options.onScrollMove.call(t,n))},_end:function(n){if(!r||n.touches.length===0){var u=this,k=r?n.changedTouches[0]:n,y,d,w={dist:0,time:0},b={dist:0,time:0},it=(n.timeStamp||Date.now())-u.startTime,f=u.x,s=u.y,g,nt,tt,c,p;if(u._unbind(l),u._unbind(a),u._unbind(v),u.options.onBeforeScrollEnd&&u.options.onBeforeScrollEnd.call(u,n),u.zoomed){p=u.scale*u.lastScale;p=Math.max(u.options.zoomMin,p);p=Math.min(u.options.zoomMax,p);u.lastScale=p/u.scale;u.scale=p;u.x=u.originX-u.originX*u.lastScale+u.x;u.y=u.originY-u.originY*u.lastScale+u.y;u.scroller.style[h]="200ms";u.scroller.style[e]="translate("+u.x+"px,"+u.y+"px) scale("+u.scale+")"+o;u.zoomed=!1;u.refresh();u.options.onZoomEnd&&u.options.onZoomEnd.call(u,n);return}if(!u.moved){r&&(u.doubleTapTimer&&u.options.zoom?(clearTimeout(u.doubleTapTimer),u.doubleTapTimer=null,u.options.onZoomStart&&u.options.onZoomStart.call(u,n),u.zoom(u.pointX,u.pointY,u.scale==1?u.options.doubleTapZoom:1),u.options.onZoomEnd&&setTimeout(function(){u.options.onZoomEnd.call(u,n)},200)):this.options.handleClick&&(u.doubleTapTimer=setTimeout(function(){for(u.doubleTapTimer=null,y=k.target;y.nodeType!=1;)y=y.parentNode;y.tagName!="SELECT"&&y.tagName!="INPUT"&&y.tagName!="TEXTAREA"&&(d=t.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,n.view,1,k.screenX,k.screenY,k.clientX,k.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),d._fake=!0,y.dispatchEvent(d))},u.options.zoom?250:0)));u._resetPos(200);u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n);return}if(it<300&&u.options.momentum&&(w=f?u._momentum(f-u.startX,it,-u.x,u.scrollerW-u.wrapperW+u.x,u.options.bounce?u.wrapperW:0):w,b=s?u._momentum(s-u.startY,it,-u.y,u.maxScrollY<0?u.scrollerH-u.wrapperH+u.y-u.minScrollY:0,u.options.bounce?u.wrapperH:0):b,f=u.x+w.dist,s=u.y+b.dist,(u.x>0&&f>0||u.x<u.maxScrollX&&f<u.maxScrollX)&&(w={dist:0,time:0}),(u.y>u.minScrollY&&s>u.minScrollY||u.y<u.maxScrollY&&s<u.maxScrollY)&&(b={dist:0,time:0})),w.dist||b.dist){tt=i.max(i.max(w.time,b.time),10);u.options.snap&&(g=f-u.absStartX,nt=s-u.absStartY,i.abs(g)<u.options.snapThreshold&&i.abs(nt)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(c=u._snap(f,s),f=c.x,s=c.y,tt=i.max(c.time,tt)));u.scrollTo(i.round(f),i.round(s),tt);u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n);return}if(u.options.snap){g=f-u.absStartX;nt=s-u.absStartY;i.abs(g)<u.options.snapThreshold&&i.abs(nt)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(c=u._snap(u.x,u.y),(c.x!=u.x||c.y!=u.y)&&u.scrollTo(c.x,c.y,c.time));u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n);return}u._resetPos(200);u.options.onTouchEnd&&u.options.onTouchEnd.call(u,n)}},_resetPos:function(n){var t=this,i=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(i==t.x&&r==t.y){t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t));t.hScrollbar&&t.options.hideScrollbar&&(f=="webkit"&&(t.hScrollbarWrapper.style[p]="300ms"),t.hScrollbarWrapper.style.opacity="0");t.vScrollbar&&t.options.hideScrollbar&&(f=="webkit"&&(t.vScrollbarWrapper.style[p]="300ms"),t.vScrollbarWrapper.style.opacity="0");return}t.scrollTo(i,r,n||0)},_wheel:function(n){var t=this,e,i,u,f,r;if("wheelDeltaX"in n)e=n.wheelDeltaX/12,i=n.wheelDeltaY/12;else if("wheelDelta"in n)e=i=n.wheelDelta/12;else if("detail"in n)e=i=-n.detail*3;else return;if(t.options.wheelAction=="zoom"){r=t.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0));r<t.options.zoomMin&&(r=t.options.zoomMin);r>t.options.zoomMax&&(r=t.options.zoomMax);r!=t.scale&&(!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,n),t.wheelZoomCount++,t.zoom(n.pageX,n.pageY,r,400),setTimeout(function(){t.wheelZoomCount--;!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,n)},400));return}u=t.x+e;f=t.y+i;u>0?u=0:u<t.maxScrollX&&(u=t.maxScrollX);f>t.minScrollY?f=t.minScrollY:f<t.maxScrollY&&(f=t.maxScrollY);t.maxScrollY<0&&t.scrollTo(u,f,0)},_mouseout:function(n){var t=n.relatedTarget;if(!t){this._end(n);return}while(t=t.parentNode)if(t==this.wrapper)return;this._end(n)},_transitionEnd:function(n){var t=this;n.target==t.scroller&&(t._unbind(c),t._startAni())},_startAni:function(){var n=this,r=n.x,u=n.y,o=Date.now(),t,f,e;if(!n.animating){if(!n.steps.length){n._resetPos(400);return}if(t=n.steps.shift(),t.x==r&&t.y==u&&(t.time=0),n.animating=!0,n.moved=!0,n.options.useTransition){n._transitionTime(t.time);n._pos(t.x,t.y);n.animating=!1;t.time?n._bind(c):n._resetPos(0);return}e=function(){var s=Date.now(),h,c;if(s>=o+t.time){n._pos(t.x,t.y);n.animating=!1;n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n);n._startAni();return}s=(s-o)/t.time-1;f=i.sqrt(1-s*s);h=(t.x-r)*f+r;c=(t.y-u)*f+u;n._pos(h,c);n.animating&&(n.aniTime=ht(e))};e()}},_transitionTime:function(n){n+="ms";this.scroller.style[h]=n;this.hScrollbar&&(this.hScrollbarIndicator.style[h]=n);this.vScrollbar&&(this.vScrollbarIndicator.style[h]=n)},_momentum:function(n,t,r,u,f){var s=.0006,o=i.abs(n)/t,e=o*o/(2*s),c=0,h=0;return n>0&&e>r?(h=f/(6/(e/o*s)),r=r+h,o=o*r/e,e=r):n<0&&e>u&&(h=f/(6/(e/o*s)),u=u+h,o=o*u/e,e=u),e=e*(n<0?-1:1),c=o/s,{dist:e,time:i.round(c)}},_offset:function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return n!=this.wrapper&&(t*=this.scale,i*=this.scale),{left:t,top:i}},_snap:function(n,t){var r=this,f,s,u,h,e,o;for(u=r.pagesX.length-1,f=0,s=r.pagesX.length;f<s;f++)if(n>=r.pagesX[f]){u=f;break}for(u==r.currPageX&&u>0&&r.dirX<0&&u--,n=r.pagesX[u],e=i.abs(n-r.pagesX[r.currPageX]),e=e?i.abs(r.x-n)/e*500:0,r.currPageX=u,u=r.pagesY.length-1,f=0;f<u;f++)if(t>=r.pagesY[f]){u=f;break}return u==r.currPageY&&u>0&&r.dirY<0&&u--,t=r.pagesY[u],o=i.abs(t-r.pagesY[r.currPageY]),o=o?i.abs(r.y-t)/o*500:0,r.currPageY=u,h=i.round(i.max(e,o))||200,{x:n,y:t,time:h}},_bind:function(n,t,i){(t||this.scroller).addEventListener(n,this,!!i)},_unbind:function(n,t,i){(t||this.scroller).removeEventListener(n,this,!!i)},destroy:function(){var t=this;t.scroller.style[e]="";t.hScrollbar=!1;t.vScrollbar=!1;t._scrollbar("h");t._scrollbar("v");t._unbind(b,n);t._unbind(k);t._unbind(l);t._unbind(a);t._unbind(v);t.options.hasTouch||(t._unbind("mouseout",t.wrapper),t._unbind(d));t.options.useTransition&&t._unbind(c);t.options.checkDOMChanges&&clearInterval(t.checkDOMTime);t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var n=this,f,r,o,e,t=0,u=0;if(n.scale<n.options.zoomMin&&(n.scale=n.options.zoomMin),n.wrapperW=n.wrapper.clientWidth||1,n.wrapperH=n.wrapper.clientHeight||1,n.minScrollY=-n.options.topOffset||0,n.scrollerW=i.round(n.scroller.offsetWidth*n.scale),n.scrollerH=i.round((n.scroller.offsetHeight+n.minScrollY)*n.scale),n.maxScrollX=n.wrapperW-n.scrollerW,n.maxScrollY=n.wrapperH-n.scrollerH+n.minScrollY,n.dirX=0,n.dirY=0,n.options.onRefresh&&n.options.onRefresh.call(n),n.hScroll=n.options.hScroll&&n.maxScrollX<0,n.vScroll=n.options.vScroll&&(!n.options.bounceLock&&!n.hScroll||n.scrollerH>n.wrapperH),n.hScrollbar=n.hScroll&&n.options.hScrollbar,n.vScrollbar=n.vScroll&&n.options.vScrollbar&&n.scrollerH>n.wrapperH,f=n._offset(n.wrapper),n.wrapperOffsetLeft=-f.left,n.wrapperOffsetTop=-f.top,typeof n.options.snap=="string")for(n.pagesX=[],n.pagesY=[],e=n.scroller.querySelectorAll(n.options.snap),r=0,o=e.length;r<o;r++)t=n._offset(e[r]),t.left+=n.wrapperOffsetLeft,t.top+=n.wrapperOffsetTop,n.pagesX[r]=t.left<n.maxScrollX?n.maxScrollX:t.left*n.scale,n.pagesY[r]=t.top<n.maxScrollY?n.maxScrollY:t.top*n.scale;else if(n.options.snap){for(n.pagesX=[];t>=n.maxScrollX;)n.pagesX[u]=t,t=t-n.wrapperW,u++;for(n.maxScrollX%n.wrapperW&&(n.pagesX[n.pagesX.length]=n.maxScrollX-n.pagesX[n.pagesX.length-1]+n.pagesX[n.pagesX.length-1]),t=0,u=0,n.pagesY=[];t>=n.maxScrollY;)n.pagesY[u]=t,t=t-n.wrapperH,u++;n.maxScrollY%n.wrapperH&&(n.pagesY[n.pagesY.length]=n.maxScrollY-n.pagesY[n.pagesY.length-1]+n.pagesY[n.pagesY.length-1])}n._scrollbar("h");n._scrollbar("v");n.zoomed||(n.scroller.style[h]="0",n._resetPos(200))},scrollTo:function(n,t,i,r){var e=this,u=n,f,o;for(e.stop(),u.length||(u=[{x:n,y:t,time:i,relative:r}]),f=0,o=u.length;f<o;f++)u[f].relative&&(u[f].x=e.x-u[f].x,u[f].y=e.y-u[f].y),e.steps.push({x:u[f].x,y:u[f].y,time:u[f].time||0});e._startAni()},scrollToElement:function(n,t){var u=this,r;(n=n.nodeType?n:u.scroller.querySelector(n),n)&&(r=u._offset(n),r.left+=u.wrapperOffsetLeft,r.top+=u.wrapperOffsetTop,r.left=r.left>0?0:r.left<u.maxScrollX?u.maxScrollX:r.left,r.top=r.top>u.minScrollY?u.minScrollY:r.top<u.maxScrollY?u.maxScrollY:r.top,t=t===undefined?i.max(i.abs(r.left)*2,i.abs(r.top)*2):t,u.scrollTo(r.left,r.top,t))},scrollToPage:function(n,t,i){var r=this,u,f;i=i===undefined?400:i;r.options.onScrollStart&&r.options.onScrollStart.call(r);r.options.snap?(n=n=="next"?r.currPageX+1:n=="prev"?r.currPageX-1:n,t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t,n=n<0?0:n>r.pagesX.length-1?r.pagesX.length-1:n,t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=n,r.currPageY=t,u=r.pagesX[n],f=r.pagesY[t]):(u=-r.wrapperW*n,f=-r.wrapperH*t,u<r.maxScrollX&&(u=r.maxScrollX),f<r.maxScrollY&&(f=r.maxScrollY));r.scrollTo(u,f,i)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(l);this._unbind(a);this._unbind(v)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(c):rt(this.aniTime);this.steps=[];this.moved=!1;this.animating=!1},zoom:function(n,t,i,r){var u=this,f=i/u.scale;u.options.useTransform&&(u.zoomed=!0,r=r===undefined?200:r,n=n-u.wrapperOffsetLeft-u.x,t=t-u.wrapperOffsetTop-u.y,u.x=n-n*f+u.x,u.y=t-t*f+u.y,u.scale=i,u.refresh(),u.x=u.x>0?0:u.x<u.maxScrollX?u.maxScrollX:u.x,u.y=u.y>u.minScrollY?u.minScrollY:u.y<u.maxScrollY?u.maxScrollY:u.y,u.scroller.style[h]=r+"ms",u.scroller.style[e]="translate("+u.x+"px,"+u.y+"px) scale("+i+")"+o,u.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};y=null;typeof exports!="undefined"?exports.iScroll=g:n.iScroll=g})(window,document);
(function(n){n.showcase=function(){function b(){n("#"+i[0]+" .story").addClass("currentStory").show();n("#"+o[0]).addClass("currentStory");n(".showcase nav #current").html("1");e()}function e(){c.css("background-position","0px -"+p[u]+"px");u=u>6?0:u+1;a=u==0?1:0;f>1&&a>0&&w();l=1;h=setTimeout(function(){e()},1e3)}function v(){c.css("background-position","0px -"+p[7]+"px");clearTimeout(h);u=0;l=0}function w(){n("#"+i[t++]+" .story").hide().removeClass("currentStory");n("#"+i[t-1]+"Image").removeClass("currentStory");t>f-1&&(t=0);n("#"+i[t]+" .story").addClass("currentStory").fadeIn();n("#"+i[t]+"Image").addClass("currentStory");n("nav #current").html(t+1)}function k(){n("#"+i[t--]+" .story").hide().removeClass("currentStory");n("#"+i[t+1]+"Image").removeClass("currentStory");t<=-1&&(t=f-1);n("#"+i[t]+" .story").addClass("currentStory").fadeIn();n("#"+i[t]+"Image").addClass("currentStory");n("nav #current").html(t+1)}for(var h,c=n("#timer"),s="showcase",y="story",u=0,l=1,a=0,t=0,f=n(".showcaseContent").length,p=["0","5","10","15","20","25","30","35"],i=[],o=[],r=1;r<=f;r++)i.push("story"+r),o.push(y+r+"Image");for(this.destroy=function(){clearTimeout(h);n(".showcaseContent .story").removeClass("currentStory").show();u=0;l=1;a=0;t=0;n("."+s).find(".imgContent.currentStory").removeClass("currentStory");n("#"+o[0]).addClass("currentStory");n(".showcase nav #current").html("1");c.css("background-position","0px 0px");n(".showcaseContent").unbind("hover")},this.restart=function(){n(".showcaseContent .story").hide();n("#"+i[0]+" .story").addClass("currentStory").show();n(".showcaseContent").hover(function(){return v(),!1},function(){return e(),!1});e()},r=0;r<o.length;r++)n("#"+o[r]).hover(function(){if(f>1){var r=this.id.charAt(y.length);n("."+s).find(".showcaseContent .currentStory").hide().removeClass("currentStory");n("."+s).find(".imgContent.currentStory").removeClass("currentStory");n("."+s).find("#primaryImage .currentStory").hide().removeClass("currentStory");n("#"+i[r-1]+" .story").addClass("currentStory").show();n("#"+i[r-1]+"Image").addClass("currentStory");t=r-1;n("nav #current").html(t+1);v()}return!1},function(){return e(),!1});n("#next a").click(function(){return f>1&&w(),!1});n("#previous a").click(function(){return f>1&&k(),!1});n(".showcase nav,.showcaseContent,#primaryImage img").hover(function(){return v(),!1},function(){return e(),!1});b()};n.fn.showcase=function(t){return this.each(function(){if(undefined==n(this).data("showcase")){var i=new n.showcase(this,t);n(this).data("showcase",i)}})}})(jQuery);
(function(n){n.fn.searchBox=function(t){var i,r;return t=n.extend({defaultText:"Search"},t),i=t.defaultText,r="searchDefault",n(this).addClass(r),n(this).val(i).focus(function(){n(this).val()==i&&(n(this).val(""),n(this).removeClass(r))}).blur(function(){n(this).val()==""&&(n(this).val(i),n(this).addClass(r))}),this}})(jQuery);
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
!function(n){var t=navigator.userAgent;n.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var r,u=document.createElement("source"),e=function(n){var i,r,t=n.parentNode;"PICTURE"===t.nodeName.toUpperCase()?(i=u.cloneNode(),t.insertBefore(i,t.firstElementChild),setTimeout(function(){t.removeChild(i)})):(!n._pfLastSize||n.offsetWidth>n._pfLastSize)&&(n._pfLastSize=n.offsetWidth,r=n.sizes,n.sizes+=",100vw",setTimeout(function(){n.sizes=r}))},o=function(){for(var t=document.querySelectorAll("picture > img, img[srcset][sizes]"),n=0;n<t.length;n++)e(t[n])},t=function(){clearTimeout(r);r=setTimeout(o,99)},i=n.matchMedia&&matchMedia("(orientation: landscape)"),f=function(){t();i&&i.addListener&&i.addListener(t)};return u.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?f():document.addEventListener("DOMContentLoaded",f),t}())}(window),function(n,t,i){"use strict";function v(n){return" "===n||"\t"===n||"\n"===n||"\f"===n||"\r"===n}function wt(t,i){var r=new n.Image;return r.onerror=function(){o[t]=!1;f()},r.onload=function(){o[t]=1===r.width;f()},r.src=i,"pending"}function bt(){w=!1;a=n.devicePixelRatio;h={};b={};r.DPR=a||1;u.width=Math.max(n.innerWidth||0,e.clientWidth);u.height=Math.max(n.innerHeight||0,e.clientHeight);u.vw=u.width/100;u.vh=u.height/100;y=[u.height,u.width,a].join("-");u.em=r.getEmValue();u.rem=u.em}function kt(n,t,i,r){var f,o,e,u;return"saveData"===p.algorithm?n>2.7?u=i+1:(o=t-i,f=Math.pow(n-.6,1.5),e=o*f,r&&(e+=.1*f),u=n+e):u=i>1?Math.sqrt(n*t):n,u>i}function dt(n){var i,t=r.getSet(n),u=!1;"pending"!==t&&(u=y,t&&(i=r.setRes(t),r.applySetCandidate(i,n)));n[r.ns].evaled=u}function gt(n,t){return n.res-t.res}function ni(n,t,i){var u;return!i&&t&&(i=n[r.ns].sets,i=i&&i[i.length-1]),u=et(t,i),u&&(t=r.makeUrl(t),n[r.ns].curSrc=t,n[r.ns].curCan=u,u.res||ft(u,u.set.sizes)),u}function et(n,t){var i,f,u;if(n&&t)for(u=r.parseSet(t),n=r.makeUrl(n),i=0;i<u.length;i++)if(n===r.makeUrl(u[i].url)){f=u[i];break}return f}function ti(n,t){for(var i,f,o=n.getElementsByTagName("source"),u=0,e=o.length;e>u;u++)i=o[u],i[r.ns]=!0,f=i.getAttribute("srcset"),f&&t.push({srcset:f,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}function ii(n,t){function h(t){var i,r=t.exec(n.substring(e));if(r)return(i=r[0],e+=i.length,i)}function o(){for(var u,r,e,h,v,o,l,y,n=!1,i={},a=0;a<f.length;a++)h=f[a],v=h[h.length-1],o=h.substring(0,h.length-1),l=parseInt(o,10),y=parseFloat(o),vt.test(o)&&"w"===v?((u||r)&&(n=!0),0===l?n=!0:u=l):vi.test(o)&&"x"===v?((u||r||e)&&(n=!0),0>y?n=!0:r=y):vt.test(o)&&"h"===v?((e||r)&&(n=!0),0===l?n=!0:e=l):n=!0;n||(i.url=s,u&&(i.w=u),r&&(i.d=r),e&&(i.h=e),e||r||u||(i.d=1),1===i.d&&(t.has1x=!0),i.set=t,c.push(i))}function l(){for(h(hi),i="",u="in descriptor";;){if(r=n.charAt(e),"in descriptor"===u)if(v(r))i&&(f.push(i),i="",u="after descriptor");else{if(","===r)return e+=1,i&&f.push(i),void o();if("("===r)i+=r,u="in parens";else{if(""===r)return i&&f.push(i),void o();i+=r}}else if("in parens"===u)if(")"===r)i+=r,u="in descriptor";else{if(""===r)return f.push(i),void o();i+=r}else if("after descriptor"===u&&!v(r)){if(""===r)return void o();u="in descriptor";e-=1}e+=1}}for(var s,f,i,u,r,a=n.length,e=0,c=[];;){if(h(ci),e>=a)return c;s=h(li);f=[];","===s.slice(-1)?(s=s.replace(ai,""),o()):l()}}function ri(n){function s(n){function u(){r&&(f.push(r),r="")}function s(){f[0]&&(h.push(f),f=[])}for(var i,r="",f=[],h=[],e=0,t=0,o=!1;;){if(i=n.charAt(t),""===i)return u(),s(),h;if(o){if("*"===i&&"/"===n[t+1]){o=!1;t+=2;u();continue}t+=1}else{if(v(i)){if(n.charAt(t-1)&&v(n.charAt(t-1))||!r){t+=1;continue}if(0===e){u();t+=1;continue}i=" "}else if("("===i)e+=1;else if(")"===i)e-=1;else{if(","===i){u();s();t+=1;continue}if("/"===i&&"*"===n.charAt(t+1)){o=!0;t+=2;continue}}r+=i;t+=1}}}function h(n){return c.test(n)&&parseFloat(n)>=0?!0:l.test(n)?!0:"0"===n||"-0"===n||"+0"===n?!0:!1}var i,u,e,t,f,o,c=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(u=s(n),e=u.length,i=0;e>i;i++)if((t=u[i],f=t[t.length-1],h(f))&&((o=f,t.pop(),0===t.length)||(t=t.join(" "),r.matchesMedia(t))))return o;return"100vw"}t.createElement("picture");var ui,c,ot,y,r={},k=!1,l=function(){},s=t.createElement("img"),d=s.getAttribute,st=s.setAttribute,ht=s.removeAttribute,e=t.documentElement,o={},p={algorithm:""},g="data-pfsrc",ct=g+"set",nt=navigator.userAgent,fi=/rident/.test(nt)||/ecko/.test(nt)&&nt.match(/rv\:(\d+)/)&&RegExp.$1>35,tt="currentSrc",ei=/\s+\+?\d+(e\d+)?w/,oi=/(\([^)]+\))?\s*(.+)/,it=n.picturefillCFG,si="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",lt="font-size:100%!important;",w=!0,h={},b={},a=n.devicePixelRatio,u={px:1,"in":96},at=t.createElement("a"),rt=!1,hi=/^[ \t\n\r\u000c]+/,ci=/^[, \t\n\r\u000c]+/,li=/^[^ \t\n\r\u000c]+/,ai=/[,]+$/,vt=/^\d+$/,vi=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,yt=function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r||!1):n.attachEvent&&n.attachEvent("on"+t,i)},ut=function(n){var t={};return function(i){return i in t||(t[i]=n(i)),t[i]}},pt=function(){var n=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var n=arguments,t=0,i=n[0];++t in n;)i=i.replace(n[t],n[++t]);return i},i=ut(function(n){return"return "+t((n||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,r){var f;if(!(t in h))if(h[t]=!1,r&&(f=t.match(n)))h[t]=f[1]*u[f[2]];else try{h[t]=new Function("e",i(t))(u)}catch(e){}return h[t]}}(),ft=function(n,t){return n.w?(n.cWidth=r.calcListLength(t||"100vw"),n.res=n.w/n.cWidth):n.res=n.d,n},f=function(n){if(k){var f,u,e,i=n||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),f=i.elements||r.qsa(i.context||t,i.reevaluate||i.reselect?r.sel:r.selShort),e=f.length){for(r.setupRun(i),rt=!0,u=0;e>u;u++)r.fillImg(f[u],i);r.teardownRun(i)}}};for(ui=n.console&&console.warn?function(n){console.warn(n)}:l,(tt in s)||(tt="src"),o["image/jpeg"]=!0,o["image/gif"]=!0,o["image/png"]=!0,o["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),r.ns=("pf"+(new Date).getTime()).substr(0,9),r.supSrcset=("srcset"in s),r.supSizes=("sizes"in s),r.supPicture=!!n.HTMLPictureElement,r.supSrcset&&r.supPicture&&!r.supSizes&&!function(n){s.srcset="data:,a";n.src="data:,a";r.supSrcset=s.complete===n.complete;r.supPicture=r.supSrcset&&r.supPicture}(t.createElement("img")),r.supSrcset&&!r.supSizes?!function(){var i="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=t.createElement("img"),u=function(){var t=n.width;2===t&&(r.supSizes=!0);ot=r.supSrcset&&!r.supSizes;k=!0;setTimeout(f)};n.onload=u;n.onerror=u;n.setAttribute("sizes","9px");n.srcset=i+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w";n.src=i}():k=!0,r.selShort="picture>img,img[srcset]",r.sel=r.selShort,r.cfg=p,r.DPR=a||1,r.u=u,r.types=o,r.setSize=l,r.makeUrl=ut(function(n){return at.href=n,at.href}),r.qsa=function(n,t){return"querySelector"in n?n.querySelectorAll(t):[]},r.matchesMedia=function(){return r.matchesMedia=n.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?function(n){return!n||matchMedia(n).matches}:r.mMQ,r.matchesMedia.apply(this,arguments)},r.mMQ=function(n){return n?pt(n):!0},r.calcLength=function(n){var t=pt(n,!0)||!1;return 0>t&&(t=!1),t},r.supportsType=function(n){return n?o[n]:!0},r.parseSize=ut(function(n){var t=(n||"").match(oi);return{media:t&&t[1],length:t&&t[2]}}),r.parseSet=function(n){return n.cands||(n.cands=ii(n.srcset,n)),n.cands},r.getEmValue=function(){var n;if(!c&&(n=t.body)){var i=t.createElement("div"),r=e.style.cssText,u=n.style.cssText;i.style.cssText=si;e.style.cssText=lt;n.style.cssText=lt;n.appendChild(i);c=i.offsetWidth;n.removeChild(i);c=parseFloat(c,10);e.style.cssText=r;n.style.cssText=u}return c||16},r.calcListLength=function(n){if(!(n in b)||p.uT){var t=r.calcLength(ri(n));b[n]=t?t:u.width}return b[n]},r.setRes=function(n){var t,i,u;if(n)for(t=r.parseSet(n),i=0,u=t.length;u>i;i++)ft(t[i],n.sizes);return t},r.setRes.res=ft,r.applySetCandidate=function(n,t){if(n.length){var f,e,o,l,i,s,u,a,v,h=t[r.ns],c=r.DPR;if(s=h.curSrc||t[tt],u=h.curCan||ni(t,s,n[0].set),u&&u.set===n[0].set&&(v=fi&&!t.complete&&u.res-.1>c,v||(u.cached=!0,u.res>=c&&(i=u))),!i)for(n.sort(gt),l=n.length,i=n[l-1],e=0;l>e;e++)if(f=n[e],f.res>=c){o=e-1;i=n[o]&&(v||s!==r.makeUrl(f.url))&&kt(n[o].res,f.res,c,n[o].cached)?n[o]:f;break}i&&(a=r.makeUrl(i.url),h.curSrc=a,h.curCan=i,a!==s&&r.setSrc(t,i),r.setSize(t))}},r.setSrc=function(n,t){var i;n.src=t.url;"image/svg+xml"===t.set.type&&(i=n.style.width,n.style.width=n.offsetWidth+1+"px",n.offsetWidth+1&&(n.style.width=i))},r.getSet=function(n){for(var t,u,f=!1,e=n[r.ns].sets,i=0;i<e.length&&!f;i++)if(t=e[i],t.srcset&&r.matchesMedia(t.media)&&(u=r.supportsType(t.type))){"pending"===u&&(t=u);f=t;break}return f},r.parseSets=function(n,t,u){var o,e,s,h,c=t&&"PICTURE"===t.nodeName.toUpperCase(),f=n[r.ns];(f.src===i||u.src)&&(f.src=d.call(n,"src"),f.src?st.call(n,g,f.src):ht.call(n,g));(f.srcset===i||u.srcset||!r.supSrcset||n.srcset)&&(o=d.call(n,"srcset"),f.srcset=o,h=!0);f.sets=[];c&&(f.pic=!0,ti(t,f.sets));f.srcset?(e={srcset:f.srcset,sizes:d.call(n,"sizes")},f.sets.push(e),s=(ot||f.src)&&ei.test(f.srcset||""),s||!f.src||et(f.src,e)||e.has1x||(e.srcset+=", "+f.src,e.cands.push({url:f.src,d:1,set:e}))):f.src&&f.sets.push({srcset:f.src,sizes:null});f.curCan=null;f.curSrc=i;f.supported=!(c||e&&!r.supSrcset||s&&!r.supSizes);h&&r.supSrcset&&!f.supported&&(o?(st.call(n,ct,o),n.srcset=""):ht.call(n,ct));f.supported&&!f.srcset&&(!f.src&&n.src||n.src!==r.makeUrl(f.src))&&(null===f.src?n.removeAttribute("src"):n.src=f.src);f.parsed=!0},r.fillImg=function(n,t){var i,u=t.reselect||t.reevaluate;n[r.ns]||(n[r.ns]={});i=n[r.ns];(u||i.evaled!==y)&&((!i.parsed||t.reevaluate)&&r.parseSets(n,n.parentNode,t),i.supported?i.evaled=y:dt(n))},r.setupRun=function(){(!rt||w||a!==n.devicePixelRatio)&&bt()},r.supPicture?(f=l,r.fillImg=l):!function(){var i,h=n.attachEvent?/d$|^c/:/d$|^c|^i/,f=function(){var n=t.readyState||"";o=setTimeout(f,"loading"===n?200:999);t.body&&(r.fillImgs(),i=i||h.test(n),i&&clearTimeout(o))},o=setTimeout(f,t.body?9:99),c=function(n,t){var i,r,u=function(){var f=new Date-r;t>f?i=setTimeout(u,t-f):(i=null,n())};return function(){r=new Date;i||(i=setTimeout(u,t))}},s=e.clientHeight,l=function(){w=Math.max(n.innerWidth||0,e.clientWidth)!==u.width||e.clientHeight!==s;s=e.clientHeight;w&&r.fillImgs()};yt(n,"resize",c(l,99));yt(t,"readystatechange",f)}(),r.picturefill=f,r.fillImgs=f,r.teardownRun=l,f._=r,n.picturefillCFG={pf:r,push:function(n){var t=n.shift();"function"==typeof r[t]?r[t].apply(r,n):(p[t]=n[0],rt&&r.fillImgs({reselect:!0}))}};it&&it.length;)n.picturefillCFG.push(it.shift());n.picturefill=f;"object"==typeof module&&"object"==typeof module.exports?module.exports=f:"function"==typeof define&&define.amd&&define("picturefill",function(){return f});r.supPicture||(o["image/webp"]=wt("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);
function getElemById(n){return document.getElementById(n)}function toggleClass(n,t){if(n&&t){var i=n.className,r=i.indexOf(t);r==-1?i+=" "+t:i=i.substr(0,r)+i.substr(r+t.length);n.className=i}}function removeClass(n,t){if(n!==undefined)if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))n.classList.remove(t);else{var i=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(n,t)){while(i.indexOf(" "+t+" ")>=0)i=i.replace(" "+t+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")}}}function hasClass(n,t){return"classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?n.classList.contains(t):new RegExp(" "+t+" ").test(" "+n.className+" ")}function getElementByClass(n,t){if(t||(t=document),t.getElementsByClassName)return t.getElementsByClassName(n);for(var u=t.getElementsByTagName("*"),f=-1,i,r=[];i=u[++f];)(" "+(i["class"]||i.className)+" ").indexOf(" "+n+" ")>-1&&r.push(i);return r}function switchAttribute(n,t){var i=n.getAttribute(t);n.setAttribute(t,n.getAttribute("data-"+t));n.setAttribute("data-"+t,i)}function getScript(n,t){var i=document.createElement("script"),r=document.getElementsByTagName("script")[0];i.async=1;r.parentNode.insertBefore(i,r);i.onload=i.onreadystatechange=function(n,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i=undefined,r||t&&t())};i.src=n}function doAjax(n,t){var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){i.readyState==4&&i.status==200&&t(i.responseText)};i.open("GET",n,!0);i.send()}var EventUtil={addHandler:function(n,t,i){n==window&&n.length&&(n.length=0);n=n.length?n:[n];for(var r=0;r<n.length;r++)n[r].addEventListener?n[r].addEventListener(t,i,!1):n[r].attachEvent?n[r].attachEvent("on"+t,i):n[r]["on"+t]=i},removeHandler:function(n,t,i){n==window&&n.length&&(n.length=0);n=n.length?n:[n];for(var r=0;r<n.length;r++)n[r].removeEventListener?n[r].removeEventListener(t,i,!1):n[r].detachEvent?n[r].detachEvent("on"+t,i):n[r]["on"+t]=null}},debounce=function(n,t,i){var r;return function(){function e(){i||n.apply(u,f);r=null}var u=this,f=arguments;r?clearTimeout(r):i&&n.apply(u,f);r=setTimeout(e,t||100)}},months=["January","February","March","April","May","June","July","August","September","October","November","December"],getSession=function(n){if(sessionStorage&&n)return sessionStorage.getItem(n)!==null},setSession=function(n,t){sessionStorage&&n&&t&&sessionStorage.setItem(n,t)},isArticle=function(){return ContentInfo!==undefined&&ContentInfo.Article!=undefined&&Object.keys(ContentInfo.Article).length>0},isLoggedIn=function(){return ContentInfo!==undefined&&ContentInfo.User!=undefined&&Object.keys(ContentInfo.User).length>0},getCookie=function(n){var i="; "+document.cookie,t=i.split("; "+n+"=");if(t.length==2)return t.pop().split(";").shift()},getParents=function(n,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){for(var i=(this.document||this.ownerDocument).querySelectorAll(n),t=i.length;--t>=0&&i.item(t)!==this;);return t>-1});for(var i=[];n&&n!==document;n=n.parentNode)t?n.matches(t)&&i.push(n):i.push(n);return i};
/*! jRespond.js v 0.10 | Author: Jeremy Fields [jeremy.fields@viget.com], 2013 | License: MIT */
!function(n,t,i){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(n[t]=i,"function"==typeof define&&define.amd&&define(t,[],function(){return i}))}(this,"jRespond",function(n,t,i){"use strict";return function(n){var r=[],u=[],f=n,t="",e="",s=0,y=100,h=500,o=h,p=function(){return"number"!=typeof innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},w=function(n){if(n.length===i)c(n);else for(var t=0;t<n.length;t++)c(n[t])},c=function(n){var o=n.breakpoint,f=n.enter||i;r.push(n);u.push(!1);a(o)&&(f!==i&&f.call(null,{entering:t,exiting:e}),u[r.length-1]=!0)},l=function(){for(var v,c,l,f=[],o=[],n=0;n<r.length;n++){var y=r[n].breakpoint,s=r[n].enter||i,h=r[n].exit||i;"*"===y?(s!==i&&f.push(s),h!==i&&o.push(h)):a(y)?(s===i||u[n]||f.push(s),u[n]=!0):(h!==i&&u[n]&&o.push(h),u[n]=!1)}for(v={entering:t,exiting:e},c=0;c<o.length;c++)o[c].call(null,v);for(l=0;l<f.length;l++)f[l].call(null,v)},b=function(n){for(var r=!1,i=0;i<f.length;i++)if(n>=f[i].enter&&n<=f[i].exit){r=!0;break}r&&t!==f[i].label?(e=t,t=f[i].label,l()):r||""===t||(t="",l())},a=function(n){if("object"==typeof n){if(n.join().indexOf(t)>=0)return!0}else if("*"===n||"string"==typeof n&&t===n)return!0},v=function(){var n=p();n!==s?(o=y,b(n)):o=h;s=n;setTimeout(v,o)};return v(),{addFunc:function(n){w(n)},getBreakpoint:function(){return t}}}}(this,this.document));
function loadIpAccessToggle(n,t,i,r){$(t).click(function(){$(this).parent().toggleClass("active");$(this).next(i).slideToggle();var n=$(this).find(r).text().trim();n=="Hide"?$(this).find(r).text("Show"):$(this).find(r).text("Hide")})}$(document).ready(function(){var e='<div id="textSize" name="textSize"> <span class="text">Text size<\/span> <a class="pageMedium" href="#textSize"> A <\/a> <a class="pageLarge" href="#textSize"> A <\/a> <a class="pageLargest" href="#textSize"> A <\/a><\/div>',n,t,u,i,r,f;$("#wrap").append(e);n=$("#textSize a");t=[];n.each(function(){t.push($(this).attr("class"))});u=t.join(" ");i=function(n,t){$("html,body").removeClass(u).addClass(n);t&&$.ajax({url:"/ChangeFontSize/?FontSize="+n,type:"Post",error:function(){$("#message").html("A system error occurred while trying to save the Font Size.").fadeIn()}})};$.cookie("UserPreferences")!=null&&$.cookie("UserPreferences").length&&(r=JSON.parse($.cookie("UserPreferences")),r.FontSize!=null&&i(r.FontSize,!1));n.click(function(){var n=$(this).attr("class");i(n,!0)});$("body").fitVids();window.onPlayerReady=function(){$("body").fitVids()};screen.width<768&&(f={},$(document).ready(function(){$("#main table").each(function(n){var i="tableWrapper_"+n,t=$(this).width();$(this).wrap('<div id="'+i+'" class="tableWrapper" />').wrap('<div class="tableScroller" />');t&&(t=t/100*30+t,$(this).closest(".tableScroller").width(t));f[n]=new iScroll(i,{vScroll:!0,hScroll:!0,hScrollbar:!0,vScrollbar:!0,hideScrollbar:!1})})}));jQuery().picture&&$("figure.responsive").picture();$("[placeholder]").each(function(){var n=$(this);n.data("placeholder",n.attr("placeholder")).focus(function(){n.removeAttr("placeholder")}).blur(function(){n.attr("placeholder",n.data("placeholder"))})})}),function(n){window.MBP=window.MBP||{};MBP.viewportmeta=n.querySelector&&n.querySelector('meta[name="viewport"]');MBP.ua=navigator.userAgent;MBP.scaleFix=function(){MBP.viewportmeta&&/iPhone|iPad/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)&&(MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",n.addEventListener("gesturestart",MBP.gestureStart,!1))};MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"}}(document);window.onload=loadIpAccessToggle(".ipAccess-messageContainer",".ipAccess-title",".ipAccess-messageContent",".ipAccess-showHideText");
(function(n){function t(t,i){return parseInt(n.css(t[0],i))||0}function i(n){return n[0].offsetWidth+t(n,"marginLeft")+t(n,"marginRight")}n.fn.jCarouselLite=function(t){return t=n.extend({btnPrev:null,btnNext:null,speed:200,scroll:1},t||{}),this.each(function(){function l(i){if(!o){if(i<0||i>s-1)return!1;r=i;o=!0;u.animate({left:-(r*e)},t.speed,function(){o=!1});t.btnPrev.removeClass("disabled");t.btnNext.removeClass("disabled");n(r-t.scroll<0&&t.btnPrev||r+t.scroll>s-1&&t.btnNext||[]).addClass("disabled")}return!1}var o=!1,f=n(this),u=n("ul",f),a=n("li",u),v=a.size(),c=n("li",u),s=c.size(),r=0,e,h;f.css("visibility","visible");u.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});f.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});e=i(c);h=e*s;u.css("width",h+"px").css("left",-(r*e));t.btnPrev&&t.btnPrev.click(function(){return n(this).hasClass("disabled")?!1:l(r-t.scroll)});t.btnNext&&h>=f.parent().parent().innerWidth()&&t.btnNext.removeClass("disabled");t.btnNext.click(function(){return n(this).hasClass("disabled")?!1:l(r+t.scroll)})})}})(jQuery);
var jRes=jRespond([{label:"mobile",enter:0,exit:767},{label:"tablet",enter:768,exit:959},{label:"desktop",enter:960,exit:1e4}]);
var PrivateView={};(function(n){PrivateView.responsiveTabs=function(){var i=n(".theWorkTab"),t;i.hasClass("theWorkTab--enabled")||(i.addClass("theWorkTab--enabled"),t=1,i.each(function(){var i=n(this),r,f,e,o,u;i.children(".tabHeader").addClass("theWorkTab__heading");i.children(".tabBody").addClass("theWorkTab__panel");r=i.find(".theWorkTab__panel--active");r.length||(r=i.find(".theWorkTab__panel").first().addClass("theWorkTab__panel--active"));i.find(".theWorkTab__panel").not(".theWorkTab__panel--active").hide().attr("aria-hidden","true");r.attr("aria-hidden","false");r.addClass("theWorkTab__panel--closed-accordion-only");f=n("<div/>",{"class":"theWorkTab-wrapper"});i.wrap(f);e=0;i.find(".theWorkTab__panel").each(function(){var t=n(this).height();t>e&&(e=t)});o=n("<ul/>",{"class":"theWorkTab__list",role:"tablist"});u=1;i.find(".theWorkTab__heading").each(function(){var r=n(this),s=n(this).next(),h;r.attr("tabindex",0);h=n("<li/>",{"class":"theWorkTab__list__item",id:"tablist"+t+"-tab"+u,"aria-controls":"tablist"+t+"-panel"+u,role:"tab",tabindex:0,html:r.html(),keydown:function(n){n.keyCode===13&&h.click()},click:function(){f.css("height",e);i.find(".theWorkTab__panel--closed-accordion-only").removeClass("theWorkTab__panel--closed-accordion-only");i.find(".theWorkTab__panel--active").toggle().removeClass("theWorkTab__panel--active").attr("aria-hidden","true").prev().removeClass("theWorkTab__heading--active");s.toggle().addClass("theWorkTab__panel--active").attr("aria-hidden","false");r.addClass("theWorkTab__heading--active");o.find(".theWorkTab__list__item--active").removeClass("theWorkTab__list__item--active");h.addClass("theWorkTab__list__item--active");f.css("height","auto")}});s.attr({role:"tabpanel","aria-labelledby":h.attr("id"),id:"tablist"+t+"-panel"+u});s.hasClass("theWorkTab__panel--active")&&h.addClass("theWorkTab__list__item--active");o.append(h);r.keydown(function(n){n.keyCode===13&&r.click()});r.click(function(){var f,t,e,o,h,c,u;i.find(".theWorkTab__panel--closed-accordion-only").removeClass("theWorkTab__panel--closed-accordion-only");r.hasClass("theWorkTab__heading--active")?(s.removeClass("theWorkTab__panel--active").slideToggle(function(){n(this).addClass("responsive-tabs__panel--closed-accordion-only")}),r.removeClass("theWorkTab__heading--active")):(t=i.find(".theWorkTab__heading--active"),t.length&&(f=t.offset().top),i.find(".theWorkTab__panel--active").slideToggle().removeClass("theWorkTab__panel--active").prev().removeClass("theWorkTab__heading--active"),i.find(".theWorkTab__panel").hide().attr("aria-hidden","true"),s.slideToggle().addClass("theWorkTab__panel--active").attr("aria-hidden","false"),r.addClass("theWorkTab__heading--active"),e=i.find(".theWorkTab__list__item--active"),e.removeClass("theWorkTab__list__item--active"),o=s.attr("id"),h=o.replace("panel","tab"),n("#"+h).addClass("theWorkTab__list__item--active"),c=i.offset().top,u=r.offset().top-15,f<u&&n("html, body").animate({scrollTop:c},0).animate({scrollTop:u},400))});u++});i.prepend(o);t++}))}})(jQuery);$(document).ready(function(){PrivateView.responsiveTabs()});
(function(n){var t=function(t){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1};this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}};t!==undefined&&this.setOption(t);var i=this,r=function(){setTimeout(function(){i._options.checkOnLoad===!0&&(i._options.debug===!0&&i._log("onload->eventCallback","A check loading is launched"),i._var.bait===null&&i._creatBait(),setTimeout(function(){i.check()},1))},1)};n.addEventListener!==undefined?n.addEventListener("load",r,!1):n.attachEvent("onload",r)};t.prototype._options=null;t.prototype._var=null;t.prototype._bait=null;t.prototype._log=function(n,t){console.log("[BlockAdBlock]["+n+"] "+t)};t.prototype.setOption=function(n,t){var r,i;t!==undefined&&(r=n,n={},n[r]=t);for(i in n)this._options[i]=n[i],this._options.debug===!0&&this._log("setOption",'The option "'+i+'" he was assigned to "'+n[i]+'"');return this};t.prototype._creatBait=function(){var t=document.createElement("div");t.setAttribute("class",this._options.baitClass);t.setAttribute("style",this._options.baitStyle);this._var.bait=n.document.body.appendChild(t);this._var.bait.offsetParent;this._var.bait.offsetHeight;this._var.bait.offsetLeft;this._var.bait.offsetTop;this._var.bait.offsetWidth;this._var.bait.clientHeight;this._var.bait.clientWidth;this._options.debug===!0&&this._log("_creatBait","Bait has been created")};t.prototype._destroyBait=function(){n.document.body.removeChild(this._var.bait);this._var.bait=null;this._options.debug===!0&&this._log("_destroyBait","Bait has been removed")};t.prototype.check=function(n){if(n===undefined&&(n=!0),this._options.debug===!0&&this._log("check","An audit was requested "+(n===!0?"with a":"without")+" loop"),this._var.checking===!0)return this._options.debug===!0&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0;this._var.bait===null&&this._creatBait();var t=this;return this._var.loopNumber=0,n===!0&&(this._var.loop=setInterval(function(){t._checkBait(n)},this._options.loopCheckTime)),setTimeout(function(){t._checkBait(n)},1),this._options.debug===!0&&this._log("check","A check is in progress ..."),!0};t.prototype._checkBait=function(t){var i=!1,r;return(this._var.bait===null&&this._creatBait(),(n.document.body.getAttribute("abp")!==null||this._var.bait.offsetParent===null||this._var.bait.offsetHeight==0||this._var.bait.offsetLeft==0||this._var.bait.offsetTop==0||this._var.bait.offsetWidth==0||this._var.bait.clientHeight==0||this._var.bait.clientWidth==0)&&(i=!0),n.getComputedStyle!==undefined&&(r=n.getComputedStyle(this._var.bait,null),r&&(r.getPropertyValue("display")=="none"||r.getPropertyValue("visibility")=="hidden")&&(i=!0)),this._options.debug===!0&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(i===!0?"positive":"negative")),t===!0&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),i===!0)?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),t===!0&&(this._var.checking=!1),!0):this._var.loop===null||t===!1?(this._destroyBait(),this.emitEvent(!1),t===!0&&(this._var.checking=!1),!1):void 0};t.prototype._stopLoop=function(){clearInterval(this._var.loop);this._var.loop=null;this._var.loopNumber=0;this._options.debug===!0&&this._log("_stopLoop","A loop has been stopped")};t.prototype.emitEvent=function(n){var t,i;this._options.debug===!0&&this._log("emitEvent","An event with a "+(n===!0?"positive":"negative")+" detection was called");t=this._var.event[n===!0?"detected":"notDetected"];for(i in t)this._options.debug===!0&&this._log("emitEvent","Call function "+(parseInt(i)+1)+"/"+t.length),t.hasOwnProperty(i)&&t[i]();return this._options.resetOnEnd===!0&&this.clearEvent(),this};t.prototype.clearEvent=function(){this._var.event.detected=[];this._var.event.notDetected=[];this._options.debug===!0&&this._log("clearEvent","The event list has been cleared")};t.prototype.on=function(n,t){return this._var.event[n===!0?"detected":"notDetected"].push(t),this._options.debug===!0&&this._log("on",'A type of event "'+(n===!0?"detected":"notDetected")+'" was added'),this};t.prototype.onDetected=function(n){return this.on(!0,n)};t.prototype.onNotDetected=function(n){return this.on(!1,n)};n.BlockAdBlock=t;n.blockAdBlock===undefined&&(n.blockAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))})(window);
var ReadNext=function(n){n&&(this.readMoreContainer=n,this.articleBody=document.querySelector("#articleBody"),this.articleRelated=document.querySelector("#articleRelated"),this.articleBodySidebar=document.querySelector(".leftPane"),this.articleSidebarShareTools=document.querySelector(".sharingTools "),this.articleTypeFeature=document.querySelector(".typeCaseStudy"),this.startPosition=0,this.endPosition=0,this.setContainerWidth(),this.hide(),this.calcluatePositions(),this.bindEventListeners(),this.cookieBannerShown=!1,this.checkCookieBanner())},recalculateReadNextPosition;ReadNext.prototype.getElementOffsetBottom=function(n){return n.offsetTop+n.scrollHeight};ReadNext.prototype.getElementOffsetTop=function(n){return n.offsetTop};ReadNext.prototype.getViewPortPosition=function(){return window.innerHeight};ReadNext.prototype.setContainerWidth=function(){this.readMoreContainer.style.width=this.articleTypeFeature!==null?this.articleBodySidebar.clientWidth-10+"px":this.articleBody.clientWidth+"px"};ReadNext.prototype.calcluatePositions=function(){this.articleTypeFeature!==null&&window.innerWidth>600?(this.startPosition=this.getElementOffsetBottom(this.articleSidebarShareTools),this.endPosition=this.getElementOffsetTop(this.articleRelated)-this.getViewPortPosition()):(this.startPosition=this.getElementOffsetBottom(this.articleBody)-this.getViewPortPosition(),this.endPosition=this.getElementOffsetTop(this.articleRelated)-this.getViewPortPosition())};ReadNext.prototype.checkCookieBanner=function(){var n=getCookie("OTAdditionalConsentString");return n?(this.cookieBannerShown=!0,!0):!1};ReadNext.prototype.scroll=function(){var n=document.body.scrollTop||document.documentElement.scrollTop;n>=ReadNext.startPosition&&n<=ReadNext.endPosition?(ReadNext.cookieBannerShown||ReadNext.checkCookieBanner())&&ReadNext.display():ReadNext.hide()};ReadNext.prototype.display=function(){this.readMoreContainer.classList.remove("hide");this.readMoreContainer.classList.add("active")};ReadNext.prototype.hide=function(){this.readMoreContainer.classList.remove("active");this.readMoreContainer.classList.add("hide")};ReadNext.prototype.bindEventListeners=function(){function n(){ReadNext.hide();ReadNext.setContainerWidth();ReadNext.calcluatePositions()}window.addEventListener?window.addEventListener("scroll",this.scroll,!1):window.attachEvent&&window.attachEvent("onscroll",this.scroll);window.onresize=n};document.addEventListener("DOMContentLoaded",function(){window.ReadNext=new ReadNext(document.querySelector("#readNext"))});recalculateReadNextPosition=function(){document.querySelector("#readNext")&&setTimeout(function(){window.ReadNext.calcluatePositions();window.ReadNext.setContainerWidth()},300)};
/*!
 * Lightbox v2.10.0
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright 2007, 2018 Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */
(function(n,t){typeof define=="function"&&define.amd?(lightbox,define(["jquery"],t)):typeof exports=="object"?module.exports=t(require("jquery")):n.lightbox=t(n.jQuery)})(this,function(n){function t(t){this.album=[];this.currentImageIndex=void 0;this.init();this.options=n.extend({},this.constructor.defaults);this.option(t)}return t.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},t.prototype.option=function(t){n.extend(this.options,t)},t.prototype.imageCountLabel=function(n,t){return this.options.albumLabel.replace(/%1/g,n).replace(/%2/g,t)},t.prototype.init=function(){var t=this;n(document).ready(function(){t.enable();t.build()})},t.prototype.enable=function(){var t=this;n("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){var u=n(this).closest(".flexslider"),r;return(r=u.length>0?!0:!1,r&&window.sliderJustMoved)?!1:(t.start(n(i.currentTarget)),!1)})},t.prototype.build=function(){if(!(n("#lightbox").length>0)){var t=this;n('<div id="lightboxOverlay" class="lightboxOverlay"><\/div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ><\/a><a class="lb-next" href="" ><\/a><\/div><div class="lb-loader"><a class="lb-cancel"><\/a><\/div><\/div><\/div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"><\/span><span class="lb-number"><\/span><\/div><div class="lb-closeContainer"><a class="lb-close"><\/a><\/div><\/div><\/div><\/div>').appendTo(n("body"));this.$lightbox=n("#lightbox");this.$overlay=n("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){return t.end(),!1});this.$lightbox.hide().on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$outerContainer.on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$lightbox.find(".lb-prev").on("click",function(){return t.currentImageIndex===0?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1});this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1});this.$nav.on("mousedown",function(n){if(n.which===3){t.$nav.css("pointer-events","none");t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)})}});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})}},t.prototype.start=function(t){function o(n){l.album.push({alt:n.attr("data-alt"),link:n.attr("href"),title:n.attr("data-title")||n.attr("title")})}var l=this,e=n(window),f,s,i,r,u,h,c;e.on("resize",n.proxy(this.sizeOverlay,this));if(n("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[],f=0,s=t.attr("data-lightbox"),s)for(i=n(t.prop("tagName")+'[data-lightbox="'+s+'"]'),r=0;r<i.length;r=++r)o(n(i[r])),i[r]===t[0]&&(f=r);else if(t.attr("rel")==="lightbox")o(t);else for(i=n(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]'),u=0;u<i.length;u=++u)o(n(i[u])),i[u]===t[0]&&(f=u);h=e.scrollTop()+this.options.positionFromTop;c=e.scrollLeft();this.$lightbox.css({top:h+"px",left:c+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&n("html").addClass("lb-disable-scrolling");this.changeImage(f)},t.prototype.changeImage=function(t){var i=this,u,r;this.disableKeyboardNav();u=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);n(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");r=new Image;r.onload=function(){var l,e,o,s,f,h,c;u.attr({alt:i.album[t].alt,src:i.album[t].link});l=n(r);u.width(r.width);u.height(r.height);i.options.fitImagesInViewport&&(c=n(window).width(),h=n(window).height(),f=c-i.containerPadding.left-i.containerPadding.right-i.imageBorderWidth.left-i.imageBorderWidth.right-20,s=h-i.containerPadding.top-i.containerPadding.bottom-i.imageBorderWidth.top-i.imageBorderWidth.bottom-120,i.options.maxWidth&&i.options.maxWidth<f&&(f=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<f&&(s=i.options.maxHeight),(r.width>f||r.height>s)&&(r.width/f>r.height/s?(o=f,e=parseInt(r.height/(r.width/o),10),u.width(o),u.height(e)):(e=s,o=parseInt(r.width/(r.height/e),10),u.width(o),u.height(e))));i.sizeContainer(u.width(),u.height())};r.src=this.album[t].link;this.currentImageIndex=t},t.prototype.sizeOverlay=function(){this.$overlay.width(n(document).width()).height(n(document).height())},t.prototype.sizeContainer=function(n,t){function f(){i.$lightbox.find(".lb-dataContainer").width(u);i.$lightbox.find(".lb-prevLink").height(r);i.$lightbox.find(".lb-nextLink").height(r);i.showImage()}var i=this,e=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),u=n+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;e!==u||o!==r?this.$outerContainer.animate({width:u,height:r},this.options.resizeDuration,"swing",function(){f()}):f()},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()},t.prototype.updateNav=function(){var n=!1;try{document.createEvent("TouchEvent");n=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(t){}this.$lightbox.find(".lb-nav").show();this.album.length>1&&(this.options.wrapAround?(n&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),n&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),n&&this.$lightbox.find(".lb-next").css("opacity","1"))))},t.prototype.updateDetails=function(){var r=this,t,i;if(typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!==""){t=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?t.text(this.album[this.currentImageIndex].title):t.html(this.album[this.currentImageIndex].title);t.fadeIn("fast").find("a").on("click",function(){n(this).attr("target")!==undefined?window.open(n(this).attr("href"),n(this).attr("target")):location.href=n(this).attr("href")})}this.album.length>1&&this.options.showImageNumberLabel?(i=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(i).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return r.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var n,t;this.album.length>this.currentImageIndex+1&&(n=new Image,n.src=this.album[this.currentImageIndex+1].link);this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){n(document).on("keyup.keyboard",n.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){n(document).off(".keyboard")},t.prototype.keyboardAction=function(n){var t=n.keyCode,i=String.fromCharCode(t).toLowerCase();t===27||i.match(/x|o|c/)?this.end():i==="p"||t===37?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):(i==="n"||t===39)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},t.prototype.end=function(){this.disableKeyboardNav();n(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);n("select, object, embed").css({visibility:"visible"});this.options.disableScrolling&&n("html").removeClass("lb-disable-scrolling")},new t});
function toggleAd(n){var t=$("#advertTop .inner");n?t.css("display",n):t.toggle()}$(document).ready(function(){var t;$(".minorNavDropDown span").click(function(){var n=$(this).parent();n.hasClass("selected")?$(n).removeClass("selected").children("ul").slideUp(100):($("#topNav .selected").removeClass("selected").children("ul").slideUp(100),$(n).addClass("selected").children("ul").slideDown(100))});ContentInfo.Article!==undefined&&(t=ContentInfo.Article.NewsType.Name,t=="Opinion"&&($("#primaryNav ul li").removeClass("navCurrent"),$("#primaryNav-2").addClass("navCurrent")));$(".navJump").click(function(){$(this).next(".navigation__wrapper").slideToggle(200)});var n=$("head"),i=function(){n.find("meta[name=viewport]").remove();n.prepend('<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0" />')},r=function(){n.find("meta[name=viewport]").remove();n.prepend('<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1" />')};if(navigator.userAgent.length&&/iPhone|iPad|iPod/i.test(navigator.userAgent))$("#dqs fieldset select, #dqs dqsItem select").on({touchstart:function(){i()}}).on({touchend:function(){setTimeout(r,500)}});$("a.inlineTweet").click(function(n){n.preventDefault();var t=$(this).attr("href"),i=encodeURIComponent($(this).attr("title"));window.open(t,"twitterwindow","height=450, width=600, top="+($(window).height()/2-225)+", left="+($(window).width()/2-300)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")});$(".group1 .zone .collectionModulebox .storyContent").slice(5).remove(),function(){var n=function(n,t,i){this.wrapper=n;this.filters=$(t,n);this.maxFilters=i-1||5;this.slideFilters();this.createMore()},t;n.prototype.slideFilters=function(){var n=this;$("h4",n.filters).click(function(){var n=$(this);n.next("ul").slideToggle(500,function(){n.toggleClass("hidden")})})};n.prototype.createMore=function(){var n=this;n.filters.each(function(){var t=$("li",$(this)),i;!$(t[0]).hasClass("topLevelRemove")&&t.length>n.maxFilters&&($(t[n.maxFilters]).nextAll("li").addClass("toggle").hide(),i=$('<li class="filterMore">More<\/li>'),$("li:last",t.parent()).after(i),i.click(function(){$(this).html()=="More"?($(this).prevAll(".toggle").slideDown(500),$(this).html("Less")):($(this).prevAll(".toggle").slideUp(500),$(this).html("More"))}))})};n.prototype.mobile=function(){var n=this;$("ul",n.wrapper).hide();$("h4",n.wrapper).addClass("hidden")};n.prototype.mobileExit=function(){var n=this;$("ul",n.wrapper).show();$("h4",n.wrapper).removeClass("hidden")};t=new n($("#filtersWrap"),$(".filters"),4);jRes.addFunc({breakpoint:"mobile",enter:function(){t.mobile()},exit:function(){t.mobileExit()}})}();$(".contributor").hover(function(){$(this).addClass("visible")},function(){$(this).removeClass("visible")});$(document).bind("touchstart",function(){$(".contributor").removeClass("visible")});window.location.href.indexOf("campaign-intelligence")>-1?$(".brandSwitchingBar__nav").addClass("brandSwitchingBar__nav--compaignAi"):$(".brandSwitchingBar__nav").removeClass("brandSwitchingBar__nav--compaignAi")});$(document).on("click",".adNewsListing .noAd, .adNewsListing .commercialSlotEmpty",function(){window.location=window.location.href.indexOf(".com")>-1?$(this).parent().hasClass("adR2")?"http://campaignlive.com/register/":"http://campaignlive.com/register/":$(this).parent().hasClass("adR2")?"http://users.brandrepublic.com/register/basic":"http://users.brandrepublic.com/register/basic"});$(document).ready(function(){var n=$(".toggleBox").hide();$(".toggleHeader .toggle").on("click",function(){$(this).toggleClass("expanded");n.slideToggle()})});$(document).ready(function(){PrivateView.responsiveTabs();$(".theWorkTab__list").each(function(){var n=0;$(".theWorkTab__list__item",this).each(function(){$(this).height()>n&&(n=$(this).height())});$(".theWorkTab__list__item",this).height(n)})});$(document).ready(function(){$(".mostReadModule").length&&$(".mostSharedModule").length&&$(".mostSharedModule").hide();$(".moduleTabs a").bind("click",function(n){$(".mostReadModule, .mostSharedModule").hide();$(".moduleTabs a").removeClass("active");$(this).addClass("active");$(this).parent().attr("class")=="readTab"?$(".mostReadModule").show():$(".mostSharedModule").show();n.preventDefault()})});$(document).ready(function(){if($("#articleDetail").hasClass("typeNews")&&($(".byline em").replaceWith(function(){return $("<span/>",{html:this.innerHTML})}),$('.byline:contains("by")').each(function(){$(this).html($(this).html().split("by").join(""))}),$("#theWorkTags a").after("<span>|<\/span>")),window.location.href.indexOf(".com")>-1){var n=$("#advertTop"),t=$("#outerWrap"),i=$("#masthead");setTimeout(function(){$(window).on("scroll",function(){var r=n.height(),u=$(this).scrollTop(),f=window.innerWidth;0<u&&f<1025?(n.addClass("sticky"),i.css({top:r}),t.css({"padding-top":r})):(n.removeClass("sticky"),i.css({top:"0"}),t.css({"padding-top":0}))})},3e3)}$("#contactSupportToggle").click(function(n){n.preventDefault();$("#contactSupportPanel").toggle()});resizeFullWidthGateContainer()});$(window).resize(function(){resizeFullWidthGateContainer()});var resizeFullWidthGateContainer=function(){if($(".fullWidthGate--stretch").length>0){var n=$(".fullWidthGate--stretch");$("#articleMain").css({"padding-bottom":n.height()})}};$(function(){var n=function(n,t){this.el=n||{};this.multiple=t||!1;var i=this.el.find(".link");i.on("click",{el:this.el,multiple:this.multiple},this.dropdown)},t;n.prototype.dropdown=function(n){var t=n.data.el;$this=$(this);$next=$this.next();$next.slideToggle();$this.parent().toggleClass("open");n.data.multiple||t.find(".submenu").not($next).slideUp().parent().removeClass("open")};t=new n($("#accordion"),!1)});$(function(){$(".accordion > .accordion-item.is-active").children(".accordion-panel").slideDown();$(".accordion > .accordion-item").click(function(){$(this).siblings(".accordion-item").removeClass("is-active").children(".accordion-panel").slideUp();$(this).toggleClass("is-active").children(".accordion-panel").slideToggle("ease-out")})});$(".articleKnowledgeTag").text(function(n,t){return t.replace("The Business","Campaign AI")});$(window).on("load",function(){$(".fluid-width-video-wrapper iframe, .ArticleBodyPaywall iframe").each(function(){$(this).attr("src",$(this).attr("data-src"));$(this).removeAttr("data-src")})});
$(document).ready(function(){$(".jCarousel").each(function(n){var t="carouselInner_"+n;$(this).wrap('<div class="carouselWrapper" />');$(this).wrapInner('<div id="'+t+'" class="carouselInner" />')})});var carousels={};jRes.addFunc({breakpoint:["desktop","tablet"],enter:function(){$(document).ready(function(){$(".jCarousel").each(function(n){var t="carouselInner_"+n;$(this).parent().append('<a class="prevButton disabled" href="#"><img src="/img/buttons/btnPrevCarousel.png" width="20" alt="Prev" /><\/a><a class="nextButton disabled" href="#"><img src="/img/buttons/btnNextCarousel.png" width="20" alt="Next" /><\/a>');carousels[n]=$("#"+t).jCarouselLite({btnPrev:$(".prevButton",$(this).parent()),btnNext:$(".nextButton",$(this).parent()),speed:100,scroll:3})})})},exit:function(){$(document).ready(function(){$(".carouselWrapper").each(function(n){$(this).find(".prevButton, .nextButton").remove();carousels[n]=null})})}});jRes.addFunc({breakpoint:"mobile",enter:function(){$(document).ready(function(){$(".jCarousel").each(function(n){var t=$(this),f=t.innerWidth(),i=t.find("li"),e=i.innerWidth(),r=Math.ceil((f-e)/2),u;i.css({"margin-right":r,"margin-left":r});u="carouselInner_"+n;$(this).parent().append('<a class="prevButton disabled" href="#"><img src="/img/buttons/btnPrevCarousel.png" width="20" alt="Prev" /><\/a><a class="nextButton" href="#"><img src="/img/buttons/btnNextCarousel.png" width="20" alt="Next" /><\/a>');carousels[n]=$("#"+u).jCarouselLite({btnPrev:$(".prevButton",$(this).parent()),btnNext:$(".nextButton",$(this).parent()),speed:300,scroll:1})})})},exit:function(){$(document).ready(function(){$(".carouselWrapper").each(function(n){$(this).find(".prevButton, .nextButton").remove();carousels[n]=null})})}});
var StickyElem=function(n,t,i,r,u){var f=this,e;f.fixedSpacing=t||0;f.isFixed=!1;f.elem=n;f.stickFunction=i;f.unstickFunction=r;f.scrollerElem=u;f.currentScrollTop=f.scrollerElem?f.scrollerElem.scrollTop:document.body.scrollTop||document.documentElement.scrollTop;f.updateTopOffset();f.scrollHandel=function(){f.updateScroll()};e=f.scrollerElem||window;e.addEventListener?e.addEventListener("scroll",this.scrollHandel,!1):e.attachEvent&&e.attachEvent("onscroll",this.scrollHandel);window.onload=function(){f.updateTopOffset()}};StickyElem.prototype.updateTopOffset=function(){this.topOffset=this.elem.offsetTop||$(this.elem).offset().top;this.topOffset=this.topOffset+this.fixedSpacing};StickyElem.prototype.updateScroll=function(){this.currentScrollTop=this.scrollerElem?this.scrollerElem.scrollTop:document.body.scrollTop||document.documentElement.scrollTop;this.currentScrollTop>=this.topOffset&&this.currentScrollTop!=0?this.isFixed||this.stick():this.isFixed&&this.revert()};StickyElem.prototype.stick=function(){this.stickFunction();this.isFixed=!0};StickyElem.prototype.revert=function(){this.unstickFunction();this.isFixed=!1};StickyElem.prototype.destroy=function(){this.revert();window.removeEventListener?window.removeEventListener("scroll",this.scrollHandel):window.detachEvent&&window.detachEvent("onscroll",this.scrollHandel)};
(function(){var n=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t.article=n({compiler:[7,">= 4.0.0"],main:function(n,t,i,r,u){var f,e=t!=null?t:{},o=i.helperMissing,s="function",h=n.escapeExpression;return'﻿<div class="storyContent">\r\n\t<figure class="media">\r\n\t\t<a href="'+h((f=(f=i.Url||(t!=null?t.Url:t))!=null?f:o,typeof f===s?f.call(e,{name:"Url",hash:{},data:u}):f))+'" title="'+h((f=(f=i.Title||(t!=null?t.Title:t))!=null?f:o,typeof f===s?f.call(e,{name:"Title",hash:{},data:u}):f))+'">\r\n\t\t\t<img alt="'+h((f=(f=i.Title||(t!=null?t.Title:t))!=null?f:o,typeof f===s?f.call(e,{name:"Title",hash:{},data:u}):f))+'" src="'+h((f=(f=i.Image||(t!=null?t.Image:t))!=null?f:o,typeof f===s?f.call(e,{name:"Image",hash:{},data:u}):f))+'" title="'+h((f=(f=i.Title||(t!=null?t.Title:t))!=null?f:o,typeof f===s?f.call(e,{name:"Title",hash:{},data:u}):f))+'" />\r\n\t\t<\/a>\r\n\t<\/figure>\r\n\t<h3>\r\n\t\t<a href="'+h((f=(f=i.Url||(t!=null?t.Url:t))!=null?f:o,typeof f===s?f.call(e,{name:"Url",hash:{},data:u}):f))+'" title="'+h((f=(f=i.Title||(t!=null?t.Title:t))!=null?f:o,typeof f===s?f.call(e,{name:"Title",hash:{},data:u}):f))+'">'+h((f=(f=i.Title||(t!=null?t.Title:t))!=null?f:o,typeof f===s?f.call(e,{name:"Title",hash:{},data:u}):f))+"<\/a>\r\n\t<\/h3>\r\n<\/div>"},useData:!0})})();
var ResponsiveNavigation=function(n,t,i){this.nav=n.getElementsByTagName("ul")[0]||n;this.subNavs=t;this.accountNav=getElemById("topNav");this.minorNav=getElemById("minorNav");this.ddNavs=getElementByClass("ddNav",n);this.siteSearch=getElemById("siteSearch");this.touchSupported="ontouchstart"in document.documentElement;this.rows=i?i:1;this.socialNav=getElemById("globalFollow");this.ddl;this.ddlUl};ResponsiveNavigation.prototype.responsive=function(){var n=this,t;n.touchSupported&&(n.nav.className="touch");n.searchLi||(n.searchLi=document.createElement("li"),n.searchLi.innerHTML='<span class="fauxLink">Search<span class="navMagGlass magGlass"><\/span><\/span>',n.searchLi.className="ddl",n.searchLi.id="searchDdl",n.nav.appendChild(n.searchLi));n.siteSearch.className="navSection";n.searchLi.appendChild(n.siteSearch);n.searchLi.style.display="block";!n.ddl&&n.utils.tooTall(n.nav)&&(n.ddl=document.createElement("li"),n.ddl.className="ddItem ddl primaryLink ddItem ddNav moreNavLink",t=document.createElement("a"),t.setAttribute("href","#"),t.innerHTML="More",n.ddlUl=document.createElement("ul"),n.ddlUl.className="navSection subNav",n.ddl.appendChild(t),n.ddl.appendChild(n.ddlUl),this.nav.insertBefore(n.ddl,n.searchLi),EventUtil.addHandler(n.ddl.getElementsByTagName("a")[0],"click",n.utils.toggleNavActiveClass));n.ddl&&(n.ddl.style.display="inline-block",n.responsiveResize());n.ddNavLinks=function(){for(var i=[],t=0;n.ddNavs.length>t;t++)i.push(n.ddNavs[t].getElementsByTagName("a")[0]);return i};this.touchSupported&&EventUtil.addHandler(n.ddNavLinks(),"click",n.utils.navEvents.navElems)};ResponsiveNavigation.prototype.responsiveResize=function(){for(var n=this,t=n.ddl?n.ddl.getElementsByTagName("li"):0;!n.utils.tooTall(n.nav)&&n.ddl&&t&&t.length;)n.ddl.style.display="none",n.utils.transposeLi(n.ddlUl,n.nav);while(n.utils.tooTall(n.nav))n.ddl?n.ddl.style.display="inline-block":n.responsive(),n.utils.transposeLi(n.nav,n.ddlUl)};ResponsiveNavigation.prototype.responsiveDestroy=function(){var n=this;if(n.ddl){while(n.ddl.getElementsByTagName("li").length)n.utils.transposeLi(n.ddlUl,n.nav);n.ddl.style.display="none"}this.touchSupported&&EventUtil.removeHandler(n.ddNavLinks(),"click",n.utils.navEvents.navElems)};ResponsiveNavigation.prototype.mobile=function(){var n=this;if(n.subNavs){n.navElems=document.getElementsByClassName("subNavLink");n.navElems=[].slice.call(n.navElems);function t(t,i,r){var u=document.createElement("li");u.id=r;u.innerHTML='<span class="fauxLink">'+i+"<\/span>";n.nav.appendChild(u);n.navElems.push(n.utils.nestLists(u,t,!1))}t(n.accountNav,"Account","mobAccount");n.drawElems=getElementByClass("mobNavButton");EventUtil.addHandler(getElemById("mobSearch"),"click",n.utils.toggleMobileSearchActiveClass);EventUtil.addHandler(n.drawElems,"click",n.utils.navEvents.mobDraw);EventUtil.addHandler(n.navElems,"click",n.utils.navEvents.mobNavElems)}};ResponsiveNavigation.prototype.mobileDestroy=function(){for(var n=this,r=getElementByClass("inner",getElemById("masthead"))[0],u=getElementByClass("headerInnerWrap",getElemById("masthead"))[0],f=getElemById("siteSearch"),i=getElementByClass("mobileShuffle"),t=0;t<i.length;t++)i[t].children[1].removeChild(i[t].children[1].children[1]);n.nav.removeChild(getElemById("mobAccount"));EventUtil.removeHandler(getElemById("mobSearch"),"click",n.utils.toggleMobileSearchActiveClass);EventUtil.removeHandler(n.drawElems,"click",n.utils.navEvents.mobDraw);EventUtil.removeHandler(n.navElems,"click",n.utils.navEvents.mobNavElems);document.body.removeAttribute("class")};ResponsiveNavigation.prototype.toggleDisplaySubNav=function(n){function r(){for(var i,n=0;n<t.ddNavs.length;n++)t.ddNavs[n]&&removeClass(t.ddNavs[n],"active");i=getElementByClass("ddl",this.parentNode);i!==undefined&&removeClass(i[0],"active");removeClass(getElemById("searchDdl"),"active")}var t=this,i=n.parentNode,u=hasClass(i,"active");r();n.hasAttribute("href")&&(n.setAttribute("data-href",n.getAttribute("href")),n.removeAttribute("href"));u&&n.setAttribute("href",n.getAttribute("data-href"));toggleClass(i,"active");EventUtil.addHandler(document.getElementById("main"),"click",r)};ResponsiveNavigation.prototype.ulToDropDown=function(n,t){if(typeof n!="object"){var i=n,n=document.createElement("div");n.innerHTML=i;t.parentNode.insertBefore(n,t)}n.className="slideHeader";t.className="slideBox";EventUtil.addHandler(n,"click",function(n){var t=n.target||n.srcElement;toggleClass(t.nextSibling,"active")})};ResponsiveNavigation.prototype.navArticles=function(){var n=this;EventUtil.addHandler(n.subNavs,"mouseover",n.utils.navEvents.navArticles)};ResponsiveNavigation.prototype.displayNavArticles=function(n){var r=this,t=n.parentNode.parentNode.parentNode,i=$(".navArticles",t).length;i||$(".subNavLink",t).after('<div class="navArticles"><section class="colLayout fourColLayout genericModule"><div class="moduleContent clearfix">')};ResponsiveNavigation.prototype.navArticlesDestroy=function(){var i=this,t,n;for(EventUtil.removeHandler(i.subNavs,"mouseover",i.utils.navEvents.navArticles),t=getElementByClass("navArticles",this.nav),n=t.length-1;n>=0;n--)t[n].parentNode.removeChild(t[n])};ResponsiveNavigation.prototype.getNavArticles=function(){};ResponsiveNavigation.prototype.utils={toggleNavActiveClass:function(n){for(var u=n.target||n.srcElement,i=$(u).parents("li")[0],r=i.parentNode.getElementsByTagName("li"),t=0;t<r.length;t++)r[t]!=i&&$(r[t]).removeClass("active");return toggleClass(i,"active"),n.preventDefault?n.preventDefault():n.returnValue=!1,!1},toggleMobileSearchActiveClass:function(n){return toggleClass(getElemById("mobSearch"),"active"),toggleClass(getElemById("siteSearch"),"active"),n.preventDefault?n.preventDefault():n.returnValue=!1,!1},getLastLi:function(n,t){return(t=typeof t=="undefined"?n.length-1:t,t>=0)?n[t]&&n[t].className.indexOf("ddl")!=-1?this.getLastLi(n,t-1):n[t]:n[0]},transposeLi:function(n,t){var i=$(" > li",n);n.parentNode.className.indexOf("ddl")!=-1?t.insertBefore(this.getLastLi(i),n.parentNode):t.appendChild(this.getLastLi(i))},nestLists:function(n,t,i){function h(){var n=document.createElement("a");return n.className="subNavLink",n.href="#",n.innerHTML="Show",n}var f,o,u,e,s,r;if(i){for(f=n.getElementsByTagName("li"),o=t.id.replace(/^\D+/g,""),u=0;u<f.length;u++)if(e=f[u].id,e&&(s=e.replace(/^\D+/g,""),s==o))return r=h(),t.appendChild(r),f[u].appendChild(t),r}else return r=h(),t&&(t.appendChild(r),n.appendChild(t)),r},navEvents:{mobDraw:function(n){return toggleClass(document.body,"navActive"),n.preventDefault?n.preventDefault():n.returnValue=!1,!1},mobNavElems:function(n){return toggleClass(this.parentNode.parentNode,"active"),n.preventDefault?n.preventDefault():n.returnValue=!1,!1},navElems:function(n){return resNav.toggleDisplaySubNav(this,n.type),!1},navArticles:function(n){resNav.displayNavArticles(this,n.type);var t=getElementByClass("ddl",this.parentNode);t!==undefined&&removeClass(t[0],"active")}},tooTall:function(n){var t=$(" > li",n),i=t[0],r=t[t.length-1],e=r.offsetTop-i.offsetTop,u,f;return self.rows>1&&(u=i.offsetHeight,f=i.offsetTop+u*(self.rows-1),r.offsetTop!=f)?!0:e?!0:!1}};$(document).ready(function(){function v(){var n=0,i=!0;document.addEventListener("scroll",function(){i=n<window.scrollY;var r=window.fullMastHeadHeight+a.offsetHeight;window.scrollY>r?t.style.top=-(window.scrollY-r)+"px":!i&&window.scrollY<r&&(t.style.top="0px");n=window.scrollY})}var o=getElemById("primaryNav"),s=!1,f,e;if(o!==null&&(s=!0),s)window.resNav=new ResponsiveNavigation(o,$(".subNav ul li a"));else return;var i=function(){parseInt($(window).width())>=768&&resNav.responsiveResize()},r=function(){var n=0,t=setInterval(function(){n>3&&clearInterval(t);n++;i()},200)},l="onorientationchange"in window,h=l?"orientationchange":"resize",c=getElemById("textSize");jRes.addFunc({breakpoint:["tablet","desktop"],enter:function(){resNav.responsive();$("html").hasClass("lte8")||resNav.navArticles();EventUtil.addHandler(window,h,i);c&&EventUtil.removeHandler(c,"click",i)},exit:function(){EventUtil.removeHandler(window,h,i);resNav.responsiveDestroy();$("html").hasClass("lte8")||resNav.navArticlesDestroy()}});jRes.addFunc({breakpoint:["mobile"],enter:function(){resNav.mobile()},exit:function(){resNav.mobileDestroy()}});var u=getElemById("cbrMastHead"),n=getElemById("wrap"),t=getElemById("advertTop"),a=getElemById("trendingNav");window.hbmgptCallbacks={slotLoaded:function(i){var r;if(i=="t101Ad")if($(window).width()>=768){r=setTimeout(o,500);function o(){t.className="stickyAdvert";window.advertTopHeight=t.offsetHeight;window.fullMastHeadHeight=u.offsetHeight;n.style.marginTop=window.advertTopHeight+"px";var i=new StickyElem(n,window.advertTopHeight,f,e);v();clearTimeout(r)}}else{r=setTimeout(s,500);function s(){window.advertTopHeight=t.offsetHeight;t.className="stickyAdvert";n.style.marginTop=window.advertTopHeight+"px";clearTimeout(r)}}}};f=function(){u.className="sticky";n.style.marginTop=window.advertTopHeight+window.fullMastHeadHeight+"px";r()};e=function(){u.className="";n.style.marginTop=window.advertTopHeight+"px";r()};jRes.addFunc({breakpoint:["tablet","desktop"],enter:function(){var t=new StickyElem(n,15,f,e);typeof googletag!="undefined"&&googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(n){n.slot.getSlotElementId()=="t101Ad"?(console.log("slot Rendered"),t.updateTopOffset(),setTimeout(function(){n.isEmpty==!1&&t.updateTopOffset()},3e3)):(n.slot.getSlotElementId()=="x601Ad"||n.slot.getSlotElementId()=="x602Ad"||n.slot.getSlotElementId()=="x603Ad")&&n.isEmpty==!1&&r()})})}})});
$(document).ready(function(){$(".socialShare").length&&(function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_GB/all.js#xfbml=1&appId=286202018075796",u.parentNode.insertBefore(r,u))}(document,"script","facebook-jssdk"),!function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="https://platform.twitter.com/widgets.js",u.parentNode.insertBefore(r,u))}(document,"script","twitter-wjs"),window.___gcfg={lang:"en-GB"},function(){var n=document.createElement("script"),t;n.type="text/javascript";n.async=!0;n.src="https://apis.google.com/js/plusone.js";t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}(),window.console||(window.console={}),typeof window.console.log!="function"&&(window.console.log=function(){}),typeof window.console.warn!="function"&&(window.console.warn=function(){}),function(){function ut(n,t,i){var r=n.split(t),u,f;return i?r.length<i?r:(u=r.splice(0,i-1),f=r.join(t),u.push(f),u):r}function ft(t,i){return t==lt?(IN.$extensions(i),null):(st.test(t)&&(i=i.replace(h,n)),i=="")?null:i}function o(n,t){var i,r,u;if(t=ft(n,t),t){if(n=n.replace(ot,function(){return arguments[1].toUpperCase()}),n==="lang"&&!w.test(t))try{if(i=t.replace("-","_").split("_"),i=[i[0].substr(0,2).toLowerCase(),i[1].substr(0,2).toUpperCase()].join("_"),w.test(i))t=i;else throw new Error;}catch(f){v||IN.ENV.js.suppressWarnings||!t||console.warn("'"+t+"' is not a supported language, defaulting to 'en_US'");t="en_US"}IN.ENV.js[n]=t;r=[encodeURIComponent(n),encodeURIComponent(t)].join("=");for(u in c)if(c.hasOwnProperty(u)&&c[u]===n){g.push(r);return}d.push(r)}}function p(n,t){return n+(/\?/.test(n)?"&":"?")+t.join("&")}var et={bootstrapInit:+new Date},s=document,h=/[\s]/g,ot=/_([a-z])/gi,t=/^[\s]+|[\s]+$/g,w=/^[a-z]{2}(_)[A-Z]{2}$/,st=/^api(Key|_key)$/gi,ht=",",n="",ct="@",lt="extensions",at="on",vt="onDOMReady",yt="onOnce",b="script",pt="https://www.linkedin.com/uas/js/userspace?v=0.0.2000-RC1.30038-1408",wt="https://platform.linkedin.com/js/secureAnonymousFramework?v=0.0.2000-RC1.30038-1408",bt="http://platform.linkedin.com/js/nonSecureAnonymousFramework?v=0.0.2000-RC1.30038-1408",kt=s.getElementsByTagName("head")[0],k=s.getElementsByTagName(b),d=[],g=[],c=["lang"],nt=!1,f,i,l,tt,it,a,v,u,e;if(window.IN&&IN.ENV&&IN.ENV.js){IN.ENV.js.suppressWarnings||console.warn("duplicate in.js loaded, any parameters will be ignored");return}for(window.IN=window.IN||{},IN.ENV={},IN.ENV.js={},IN.ENV.js.extensions={},statsQueue=IN.ENV.statsQueue=[],statsQueue.push(et),f=IN.ENV.evtQueue=[],IN.Event={on:function(){f.push({type:at,args:arguments})},onDOMReady:function(){f.push({type:vt,args:arguments})},onOnce:function(){f.push({type:yt,args:arguments})}},IN.$extensions=function(i){var u,f,e,o,s=IN.ENV.js.extensions,r,h;for(u=i.split(ht),r=0,h=u.length;r<h;r++)f=ut(u[r],ct,2),e=f[0].replace(t,n),o=f[1],s[e]||(s[e]={src:o?o.replace(t,n):n,loaded:!1})},i="",r=0,y=k.length;r<y;r++)if(u=k[r],/^https?:\/\/.*?linkedin.*?\/in\.js.*?$/.test(u.src)){/async=true/.test(u.src)&&(nt=!0);try{i=u.innerHTML.replace(t,n)}catch(gt){try{i=u.text.replace(t,n)}catch(ni){}}}i=i.replace(/\/\*((?:.|[\s])*?)\*\//m,"$1").replace(t,n).replace(/\r/g,n);v=/suppress(Warnings|_warnings):true/gi.test(i.replace(h,n));for(var r=0,rt=i.split("\n"),y=rt.length;r<y;r++)if(e=rt[r],e&&!(e.replace(h,n).length<=0)){try{l=e.match(/^[\s]*(.*?)[\s]*:[\s]*(.*)[\s]*$/);tt=l[1].replace(t,n);it=l[2].replace(t,n)}catch(dt){v||console.warn("script tag contents must be key/value pairs separated by a colon. Source: "+dt);continue}o(tt,it)}o("secure",/^https:\/\//.test(document.location.href)?1:0);IN.init=function(n){var i,t;n=n||{};for(t in n)n.hasOwnProperty(t)&&o(t,n[t]);a=s.createElement(b);i=IN.ENV.js.apiKey?p(pt,d):IN.ENV.js.secure?wt:bt;a.src=p(i,g);kt.appendChild(a);statsQueue.push({userspaceRequested:+new Date})};statsQueue.push({bootstrapLoaded:+new Date});nt||IN.init()}())});$(function(){var t=$("#socialButtons").clone(),i=t.find("ul"),n;$(".socialShare").bind("click",function(){var r=undefined;r=new n($(this),t,i)});n=function(n,t,i){var r=this;this.shareButton=n;this.socialUl=i;this.positioned=!1;this.popupTopOffset=0;this.popupLeftOffset=0;this.resizeHandel=function(){setTimeout(function(){r.updatPosition()},500)};var u=n.parent().parent(),f=u.find("h3").children("a")||u.find("h1"),e=window.location.protocol+"//"+window.location.host+f.attr("href"),o=f.html();i.attr("data-url",e);i.attr("data-share-text",o);i.is(":visible")||$("#main").append(i);this.updatPosition();$(window).unbind("resize").bind("resize",r.resizeHandel)};n.prototype.updatPosition=function(){var n=this;this.popupTopOffset=this.shareButton[0].offsetTop-5;this.popupLeftOffset=this.shareButton[0].offsetLeft+34;this.shareButton.parents(".promotionContent").each(function(){$(this).css("position")=="relative"&&(n.popupTopOffset+=parseInt($(this)[0].offsetTop),n.popupLeftOffset+=parseInt($(this)[0].offsetLeft))});this.positioned?this.socialUl.animate({position:"absolute",left:n.popupLeftOffset,top:n.popupTopOffset},500):(this.socialUl.css({position:"absolute",left:n.popupLeftOffset,top:n.popupTopOffset}),this.positioned=!0)}});
$(document).ready(function(){$("#theWorkTags a").length==0&&$("#topicHeaderJs").hide()});
function sizeArticles(n){var r=0,u=0,t=[],i;$(n).each(function(){if(i=$(this),topPostion=i.position().top,u!=topPostion){for(currentDiv=0;currentDiv<t.length;currentDiv++)t[currentDiv].height(r);t.length=0;u=topPostion;r=i.height();t.push(i)}else t.push(i),r=r<i.height()?i.height():r;for(currentDiv=0;currentDiv<t.length;currentDiv++)t[currentDiv].height(r)})}var $window=$(window);$(window).load(function(){function n(){sizeArticles(".newsListingWithImages:not(.altLayout) .storyContent");sizeArticles(".topFeatureModuleUK .topFeatureRightUK .storyContent");sizeArticles(".topFeatureModuleUK .articleRows .storyContent");sizeArticles(".lte9 .topFeatureIE .topFeatureRight .storyContent");sizeArticles(".lte9 .topFeatureIE .articleRows .storyContent");sizeArticles(".gridFull .collectionModuleNew .secondBlock .storyContent");sizeArticles(".theWorkTopModule .secondBlock .storyContent");sizeArticles("#gridTop .zone .headlinesOnlyUk .storyContent");sizeArticles(".gridFull .zone .headlinesOnlyUk .storyContent");sizeArticles(".group1 .zoneGrid2 .zone .headlinesOnlyUk .storyContent");sizeArticles(".group2 .zone .headlinesOnlyUk .storyContent")}function t(){$(".newsListingWithImages:not(.altLayout) .newsListingWrapper .storyContent").css("height","auto");$(".topFeatureModuleUK .topFeatureRightUK .storyContent").css("height","auto");$(".topFeatureModuleUK .articleRows .storyContent").css("height","auto");$(".gridFull .collectionModuleNew .secondBlock .storyContent").css("height","auto");$("#gridTop .zone .headlinesOnlyUk .storyContent").css("height","auto");$(".gridFull .zone .headlinesOnlyUk .storyContent").css("height","auto");$(".group1 .zoneGrid2 .zone .headlinesOnlyUk .storyContent").css("height","auto");$(".group2 .zone .headlinesOnlyUk .storyContent").css("height","auto");$("#theWorkHero .equalHeight").height("auto")}jRes.addFunc({breakpoint:["tablet","desktop"],enter:function(){n();$(window).resize(function(){n()})},exit:function(){$(window).off("resize");t()}});jRes.addFunc({breakpoint:["desktop"],enter:function(){},exit:function(){$(window).off("resize");t()}});typeof googletag!="undefined"&&googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(i){(i.slot.getSlotElementId()=="x601Ad"||i.slot.getSlotElementId()=="x602Ad"||i.slot.getSlotElementId()=="x603Ad")&&i.isEmpty==!1&&(t(),setTimeout(function(){n()},2e3))})})});
!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.shuffle=t():n.shuffle=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){"use strict";n.exports=i(1)["default"]},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function p(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function w(n){return Array.prototype.slice.call(n)}function b(n){return Math.max.apply(Math,n)}function o(n,t){return 2===arguments.length?o(n)(t):function(t){return n.indexOf(t)>-1}}var l;Object.defineProperty(t,"__esModule",{value:!0});l=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();i(2);var k=i(3),d=f(k),g=i(4),a=f(g),nt=i(5),h=f(nt),tt=i(6),it=f(tt),rt=i(7),ut=f(rt),ft=i(8),v=f(ft),et=i(10),u=f(et),ot=i(11),st=f(ot),ht=i(12),e=f(ht),ct=i(14),c=f(ct),y=i(15),s=i(16),lt=0,r=function(){function n(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(p(this,n),this.options=h["default"](n.options,i),this.useSizer=!1,this.lastSort={},this.group=this.lastFilter=n.ALL_ITEMS,this.isEnabled=!0,this.isDestroyed=!1,this.isInitialized=!1,this._transitions=[],this.isTransitioning=!1,this._queue=[],t=this._getElementOption(t),!t)throw new TypeError("Shuffle needs to be initialized with an element.");this.element=t;this.id="shuffle_"+lt++;this._init();this.isInitialized=!0}return l(n,[{key:"_init",value:function(){this.items=this._getItems();this.options.sizer=this._getElementOption(this.options.sizer);this.options.sizer&&(this.useSizer=!0);this.element.classList.add(n.Classes.BASE);this._initItems();this._onResize=this._getResizeFunction();window.addEventListener("resize",this._onResize);var t=window.getComputedStyle(this.element,null),i=n.getSize(this.element).width;this._validateStyles(t);this._setColumns(i);this.filter(this.options.group,this.options.initialSort);this.element.offsetWidth;this._setTransitions();this.element.style.transition="height "+this.options.speed+"ms "+this.options.easing}},{key:"_getResizeFunction",value:function(){var n=this._handleResize.bind(this);return this.options.throttle?this.options.throttle(n,this.options.throttleTime):n}},{key:"_getElementOption",value:function(n){return"string"==typeof n?this.element.querySelector(n):n&&n.nodeType&&1===n.nodeType?n:n&&n.jquery?n[0]:null}},{key:"_validateStyles",value:function(n){"static"===n.position&&(this.element.style.position="relative");"hidden"!==n.overflow&&(this.element.style.overflow="hidden")}},{key:"_filter",value:function(){var n=arguments.length<=0||void 0===arguments[0]?this.lastFilter:arguments[0],i=arguments.length<=1||void 0===arguments[1]?this.items:arguments[1],t=this._getFilteredSets(n,i);return this._toggleFilterClasses(t),this.lastFilter=n,"string"==typeof n&&(this.group=n),t}},{key:"_getFilteredSets",value:function(t,i){var f=this,r=[],u=[];return t===n.ALL_ITEMS?r=i:i.forEach(function(n){f._doesPassFilter(t,n.element)?r.push(n):u.push(n)}),{visible:r,hidden:u}}},{key:"_doesPassFilter",value:function(t,i){if("function"==typeof t)return t.call(i,i,this);var r=i.getAttribute("data-"+n.FILTER_ATTRIBUTE_KEY),u=this.options.delimeter?r.split(this.options.delimeter):JSON.parse(r);return Array.isArray(t)?t.some(o(u)):o(u,t)}},{key:"_toggleFilterClasses",value:function(n){var t=n.visible,i=n.hidden;t.forEach(function(n){n.show()});i.forEach(function(n){n.hide()})}},{key:"_initItems",value:function(){var n=arguments.length<=0||void 0===arguments[0]?this.items:arguments[0];n.forEach(function(n){n.init()})}},{key:"_disposeItems",value:function(){var n=arguments.length<=0||void 0===arguments[0]?this.items:arguments[0];n.forEach(function(n){n.dispose()})}},{key:"_updateItemCount",value:function(){this.visibleItems=this._getFilteredItems().length}},{key:"_setTransitions",value:function(){var i,r=arguments.length<=0||void 0===arguments[0]?this.items:arguments[0],n=this.options.speed,t=this.options.easing;i=this.options.useTransforms?"transform "+n+"ms "+t+", opacity "+n+"ms "+t:"top "+n+"ms "+t+", left "+n+"ms "+t+", opacity "+n+"ms "+t;r.forEach(function(n){n.element.style.transition=i})}},{key:"_getItems",value:function(){var n=this;return w(this.element.children).filter(function(t){return d["default"](t,n.options.itemSelector)}).map(function(n){return new u["default"](n)})}},{key:"_updateItemsOrder",value:function(){var n=this.element.children;this.items=c["default"](this.items,{by:function(t){return Array.prototype.indexOf.call(n,t)}})}},{key:"_getFilteredItems",value:function(){return this.items.filter(function(n){return n.isVisible})}},{key:"_getConcealedItems",value:function(){return this.items.filter(function(n){return!n.isVisible})}},{key:"_getColumnSize",value:function(t,i){var r;return r="function"==typeof this.options.columnWidth?this.options.columnWidth(t):this.useSizer?n.getSize(this.options.sizer).width:this.options.columnWidth?this.options.columnWidth:this.items.length>0?n.getSize(this.items[0].element,!0).width:t,0===r&&(r=t),r+i}},{key:"_getGutterSize",value:function(n){return"function"==typeof this.options.gutterWidth?this.options.gutterWidth(n):this.useSizer?e["default"](this.options.sizer,"marginLeft"):this.options.gutterWidth}},{key:"_setColumns",value:function(){var i=arguments.length<=0||void 0===arguments[0]?n.getSize(this.element).width:arguments[0],r=this._getGutterSize(i),u=this._getColumnSize(i,r),t=(i+r)/u;Math.abs(Math.round(t)-t)<this.options.columnThreshold&&(t=Math.round(t));this.cols=Math.max(Math.floor(t),1);this.containerWidth=i;this.colWidth=u}},{key:"_setContainerSize",value:function(){this.element.style.height=this._getContainerSize()+"px"}},{key:"_getContainerSize",value:function(){return b(this.positions)}},{key:"_getStaggerAmount",value:function(n){return Math.min(n*this.options.staggerAmount,this.options.staggerAmountMax)}},{key:"_dispatch",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!this.isDestroyed)return t.shuffle=this,!this.element.dispatchEvent(new CustomEvent(n,{bubbles:!0,cancelable:!1,detail:t}))}},{key:"_resetCols",value:function(){var n=this.cols;for(this.positions=[];n--;)this.positions.push(0)}},{key:"_layout",value:function(t){var i=this,r=0;t.forEach(function(t){function e(){t.element.style.transitionDelay="";t.applyCss(u["default"].Css.VISIBLE.after)}var s=t.point,c=t.scale,l=n.getSize(t.element,!0),o=i._getItemPosition(l),f;if(v["default"].equals(s,o)&&c===u["default"].Scale.VISIBLE)return void e();t.point=o;t.scale=u["default"].Scale.VISIBLE;f=h["default"](u["default"].Css.VISIBLE.before);f.transitionDelay=i._getStaggerAmount(r)+"ms";i._queue.push({item:t,styles:f,callback:e});r++})}},{key:"_getItemPosition",value:function(n){return s.getItemPosition({itemSize:n,positions:this.positions,gridSize:this.colWidth,total:this.cols,threshold:this.options.columnThreshold,buffer:this.options.buffer})}},{key:"_shrink",value:function(){var n=this,i=arguments.length<=0||void 0===arguments[0]?this._getConcealedItems():arguments[0],t=0;i.forEach(function(i){function r(){i.applyCss(u["default"].Css.HIDDEN.after)}if(i.scale===u["default"].Scale.HIDDEN)return void r();i.scale=u["default"].Scale.HIDDEN;var f=h["default"](u["default"].Css.HIDDEN.before);f.transitionDelay=n._getStaggerAmount(t)+"ms";n._queue.push({item:i,styles:f,callback:r});t++})}},{key:"_handleResize",value:function(){if(this.isEnabled&&!this.isDestroyed){var t=n.getSize(this.element).width;t!==this.containerWidth&&this.update()}}},{key:"_getStylesForTransition",value:function(n){var i=n.item,t=n.styles,r,u;return t.transitionDelay||(t.transitionDelay="0ms"),r=i.point.x,u=i.point.y,this.options.useTransforms?t.transform="translate("+r+"px, "+u+"px) scale("+i.scale+")":(t.left=r+"px",t.top=u+"px"),t}},{key:"_whenTransitionDone",value:function(n,t,i){var r=y.onTransitionEnd(n,function(n){t();i(null,n)});this._transitions.push(r)}},{key:"_getTransitionFunction",value:function(n){var t=this;return function(i){n.item.applyCss(t._getStylesForTransition(n));t._whenTransitionDone(n.item.element,n.callback,i)}}},{key:"_processQueue",value:function(){this.isTransitioning&&this._cancelMovement();var t=this.options.speed>0,n=this._queue.length>0;n&&t&&this.isInitialized?this._startTransitions(this._queue):n?(this._styleImmediately(this._queue),this._dispatchLayout()):this._dispatchLayout();this._queue.length=0}},{key:"_startTransitions",value:function(n){var i=this,t;this.isTransitioning=!0;t=n.map(function(n){return i._getTransitionFunction(n)});ut["default"](t,this._movementFinished.bind(this))}},{key:"_cancelMovement",value:function(){this._transitions.forEach(y.cancelTransitionEnd);this._transitions.length=0;this.isTransitioning=!1}},{key:"_styleImmediately",value:function(t){var r=this,i;t.length&&(i=t.map(function(n){return n.item.element}),n._skipTransitions(i,function(){t.forEach(function(n){n.item.applyCss(r._getStylesForTransition(n));n.callback()})}))}},{key:"_movementFinished",value:function(){this._transitions.length=0;this.isTransitioning=!1;this._dispatchLayout()}},{key:"_dispatchLayout",value:function(){this._dispatch(n.EventType.LAYOUT)}},{key:"filter",value:function(t,i){this.isEnabled&&((!t||t&&0===t.length)&&(t=n.ALL_ITEMS),this._filter(t),this._shrink(),this._updateItemCount(),this.sort(i))}},{key:"sort",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.lastSort:arguments[0],n;this.isEnabled&&(this._resetCols(),n=this._getFilteredItems(),n=c["default"](n,t),this._layout(n),this._processQueue(),this._setContainerSize(),this.lastSort=t)}},{key:"update",value:function(n){this.isEnabled&&(n||this._setColumns(),this.sort())}},{key:"layout",value:function(){this.update(!0)}},{key:"add",value:function(n){n=a["default"](n).map(function(n){return new u["default"](n)});this._initItems(n);this._setTransitions(n);this.items=this.items.concat(n);this._updateItemsOrder();this.filter(this.lastFilter)}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"enable",value:function(n){this.isEnabled=!0;n!==!1&&this.update()}},{key:"remove",value:function(t){var r=this,i,u;t.length&&(t=a["default"](t),i=t.map(function(n){return r.getItemByElement(n)}).filter(function(n){return!!n}),u=function f(){r.element.removeEventListener(n.EventType.LAYOUT,f);r._disposeItems(i);t.forEach(function(n){n.parentNode.removeChild(n)});r._dispatch(n.EventType.REMOVED,{collection:t});t=null;i=null},this._toggleFilterClasses({visible:[],hidden:i}),this._shrink(i),this.sort(),this.items=this.items.filter(function(n){return!o(i,n)}),this._updateItemCount(),this.element.addEventListener(n.EventType.LAYOUT,u))}},{key:"getItemByElement",value:function(n){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].element===n)return this.items[t];return null}},{key:"destroy",value:function(){this._cancelMovement();window.removeEventListener("resize",this._onResize);this.element.classList.remove("shuffle");this.element.removeAttribute("style");this._disposeItems();this.items=null;this.options.sizer=null;this.element=null;this._transitions=null;this.isDestroyed=!0}}],[{key:"getSize",value:function(n,t){var i=window.getComputedStyle(n,null),r=e["default"](n,"width",i),u=e["default"](n,"height",i);if(t){var f=e["default"](n,"marginLeft",i),o=e["default"](n,"marginRight",i),s=e["default"](n,"marginTop",i),h=e["default"](n,"marginBottom",i);r+=f+o;u+=s+h}return{width:r,height:u}}},{key:"_skipTransitions",value:function(n,t){var i="0ms",r=n.map(function(n){var t=n.style,r=t.transitionDuration,u=t.transitionDelay;return t.transitionDuration=i,t.transitionDelay=i,{duration:r,delay:u}});t();n[0].offsetWidth;n.forEach(function(n,t){n.style.transitionDuration=r[t].duration;n.style.transitionDelay=r[t].delay})}}]),n}();r.ShuffleItem=u["default"];r.ALL_ITEMS="all";r.FILTER_ATTRIBUTE_KEY="groups";r.EventType={LAYOUT:"shuffle:layout",REMOVED:"shuffle:removed"};r.Classes=st["default"];r.options={group:r.ALL_ITEMS,speed:250,easing:"ease",itemSelector:"*",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:.01,initialSort:null,throttle:it["default"],throttleTime:300,staggerAmount:15,staggerAmountMax:250,useTransforms:!0};r.__Point=v["default"];r.__sorter=c["default"];r.__getColumnSpan=s.getColumnSpan;r.__getAvailablePositions=s.getAvailablePositions;r.__getShortColumn=s.getShortColumn;t["default"]=r},function(){try{new window.CustomEvent("test")}catch(t){var n=function(n,t){var i;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent"),i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i};n.prototype=window.Event.prototype;window.CustomEvent=n}},function(n){"use strict";function r(n,t){if(i)return i.call(n,t);for(var u=n.parentNode.querySelectorAll(t),r=0;r<u.length;r++)if(u[r]==n)return!0;return!1}var t=Element.prototype,i=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;n.exports=r},function(n,t){(function(t){"use strict";function i(n){for(var i=[],t=0;t<n.length;t++)i.indexOf(n[t])===-1&&i.push(n[t]);return i}function r(n){var t=new Set;return n.filter(function(n){return!t.has(n)&&(t.add(n),!0)})}function u(n){var t=[];return new Set(n).forEach(function(n){t.push(n)}),t}function f(){var n=!1;return new Set([!0]).forEach(function(t){n=t}),n===!0}n.exports="Set"in t?"function"==typeof Set.prototype.forEach&&f()?u:r:i}).call(t,function(){return this}())},function(n){function t(){for(var t,r,u={},n=0;n<arguments.length;n++){t=arguments[n];for(r in t)i.call(t,r)&&(u[r]=t[r])}return u}n.exports=t;var i=Object.prototype.hasOwnProperty},function(n){function t(n,t){function f(){u=0;o=+new Date;e=n.apply(i,r);i=null;r=null}var i,r,e,u,o=0;return function(){i=this;r=arguments;var n=new Date-o;return u||(n>=t?f():u=setTimeout(f,t-n)),e}}n.exports=t},function(n){function t(){}n.exports=function(n,i,r){function o(n){return function(t,i){if(!e){if(t)return r(t,f),void(e=!0);f[n]=i;--u||r(null,f)}}}var u,e,f;if(r||("function"==typeof i?(r=i,i=null):r=t),u=n&&n.length,!u)return r(null,[]);e=!1;f=new Array(u);n.forEach(i?function(n,t){n.call(i,o(t))}:function(n,t){n(o(t))})}},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=i(9),r=f(e),u=function(n,t){this.x=r["default"](n);this.y=r["default"](t)};u.equals=function(n,t){return n.x===t.x&&n.y===t.y};t["default"]=u},function(n,t){"use strict";function i(n){return parseFloat(n)||0}Object.defineProperty(t,"__esModule",{value:!0});t["default"]=i},function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),s=i(8),h=f(s),c=i(11),r=f(c),l=0,u=function(){function n(t){e(this,n);this.id=l++;this.element=t;this.isVisible=!0}return o(n,[{key:"show",value:function(){this.isVisible=!0;this.element.classList.remove(r["default"].HIDDEN);this.element.classList.add(r["default"].VISIBLE)}},{key:"hide",value:function(){this.isVisible=!1;this.element.classList.remove(r["default"].VISIBLE);this.element.classList.add(r["default"].HIDDEN)}},{key:"init",value:function(){this.addClasses([r["default"].SHUFFLE_ITEM,r["default"].VISIBLE]);this.applyCss(n.Css.INITIAL);this.scale=n.Scale.VISIBLE;this.point=new h["default"]}},{key:"addClasses",value:function(n){var t=this;n.forEach(function(n){t.element.classList.add(n)})}},{key:"removeClasses",value:function(n){var t=this;n.forEach(function(n){t.element.classList.remove(n)})}},{key:"applyCss",value:function(n){for(var t in n)this.element.style[t]=n[t]}},{key:"dispose",value:function(){this.removeClasses([r["default"].HIDDEN,r["default"].VISIBLE,r["default"].SHUFFLE_ITEM]);this.element.removeAttribute("style");this.element=null}}]),n}();u.Css={INITIAL:{position:"absolute",top:0,left:0,visibility:"visible","will-change":"transform"},VISIBLE:{before:{opacity:1,visibility:"visible"},after:{}},HIDDEN:{before:{opacity:0},after:{visibility:"hidden"}}};u.Scale={VISIBLE:1,HIDDEN:.001};t["default"]=u},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t["default"]={BASE:"shuffle",SHUFFLE_ITEM:"shuffle-item",VISIBLE:"shuffle-item--visible",HIDDEN:"shuffle-item--hidden"}},function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){var i=arguments.length<=2||void 0===arguments[2]?window.getComputedStyle(n,null):arguments[2],u=r["default"](i[t]);return f["default"]||"width"!==t?f["default"]||"height"!==t||(u+=r["default"](i.paddingTop)+r["default"](i.paddingBottom)+r["default"](i.borderTopWidth)+r["default"](i.borderBottomWidth)):u+=r["default"](i.paddingLeft)+r["default"](i.paddingRight)+r["default"](i.borderLeftWidth)+r["default"](i.borderRightWidth),u}Object.defineProperty(t,"__esModule",{value:!0});t["default"]=e;var o=i(9),r=u(o),s=i(13),f=u(s)},function(n,t){"use strict";var r,i,u,f;Object.defineProperty(t,"__esModule",{value:!0});r=document.body||document.documentElement;i=document.createElement("div");i.style.cssText="width:10px;padding:2px;box-sizing:border-box;";r.appendChild(i);u=window.getComputedStyle(i,null).width;f="10px"===u;r.removeChild(i);t["default"]=f},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){var r,i,t=n.length;if(!t)return n;for(;--t;)i=Math.floor(Math.random()*(t+1)),r=n[i],n[i]=n[t],n[t]=r;return n}function f(n,t){var i=o["default"](s,t),f=[].slice.call(n),r=!1;return n.length?i.randomize?u(n):("function"==typeof i.by&&n.sort(function(n,t){if(r)return 0;var u=i.by(n[i.key]),f=i.by(t[i.key]);return void 0===u&&void 0===f?(r=!0,0):u<f||"sortFirst"===u||"sortLast"===f?-1:u>f||"sortLast"===u||"sortFirst"===f?1:0}),r?f:(i.reverse&&n.reverse(),n)):[]}Object.defineProperty(t,"__esModule",{value:!0});t["default"]=f;var e=i(5),o=r(e),s={reverse:!1,by:null,randomize:!1,key:"element"}},function(n,t){"use strict";function f(){return r+o++}function e(n,t){var e=f(),o=function(n){n.currentTarget===n.target&&(u(e),t(n))};return n.addEventListener(r,o),i[e]={element:n,listener:o},e}function u(n){return!!i[n]&&(i[n].element.removeEventListener(r,i[n].listener),i[n]=null,!0)}Object.defineProperty(t,"__esModule",{value:!0});t.onTransitionEnd=e;t.cancelTransitionEnd=u;var i={},r="transitionend",o=0},function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n){return Math.max.apply(Math,n)}function s(n){return Math.min.apply(Math,n)}function h(n){for(var o=n.itemSize,s=n.positions,h=n.gridSize,c=n.total,v=n.threshold,y=n.buffer,a=r(o.width,h,c,v),i=u(s,a,c),t=f(i,y),p=new l["default"](Math.round(h*t),Math.round(i[t])),w=i[t]+o.height,e=0;e<a;e++)s[t+e]=w;return p}function r(n,t,i,r){var u=n/t;return Math.abs(Math.round(u)-u)<r&&(u=Math.round(u)),Math.min(Math.ceil(u),i)}function u(n,t,i){if(1===t)return n;for(var u=[],r=0;r<=i-t;r++)u.push(o(n.slice(r,r+t)));return u}function f(n,t){for(var r=s(n),i=0,u=n.length;i<u;i++)if(n[i]>=r-t&&n[i]<=r+t)return i;return 0}Object.defineProperty(t,"__esModule",{value:!0});t.getItemPosition=h;t.getColumnSpan=r;t.getAvailablePositions=u;t.getShortColumn=f;var c=i(8),l=e(c)}])});
"use strict";function arrayIncludes(n,t){return n.indexOf(t)!==-1}function toArray(n){return Array.prototype.slice.call(n)}var Shuffle=window.shuffle,Az=function(n){n!=null&&(this.groups=toArray(document.querySelectorAll(".js-shuffle-filter-options button")),this.itemMessage=document.querySelector(".js-shuffle-message"),this.shuffle=new Shuffle(n,{easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",itemSelector:".js-shuffle-item",sizer:n.querySelector(".js-shuffle-sizer")}),this.filters={groups:[]},this.addSearchFilter(),this._bindEventListeners())};Az.prototype._bindEventListeners=function(){this._onGroupChange=this._handleGroupChange.bind(this);this.groups.forEach(function(n){n.addEventListener("click",this._onGroupChange)},this)};Az.prototype._getCurrentGroupFilters=function(){return this.groups.filter(function(n){return n.classList.contains("active")}).map(function(n){return n.getAttribute("data-value")})};Az.prototype._handleGroupChange=function(n){var t=n.currentTarget;t.classList.contains("active")?t.classList.remove("active"):(this.groups.forEach(function(n){n.classList.remove("active")}),t.classList.add("active"));t.getAttribute("data-value")=="All"?this.shuffle.filter(!1):(this.filters.groups=this._getCurrentGroupFilters(),this.filter())};Az.prototype.removeFilterActiveState=function(){this.groups.forEach(function(n){n.classList.remove("active")},this)};Az.prototype.updateNoItemsMessage=function(n){n?this.itemMessage.innerHTML.length==0&&(this.itemMessage.innerHTML="<p>No results for your search term - please refine your search<\/p>"):this.itemMessage.innerHTML=""};Az.prototype.filter=function(){this.hasActiveFilters()?this.shuffle.filter(this.itemPassesFilters.bind(this)):this.shuffle.filter(Shuffle.ALL_ITEMS);this.updateNoItemsMessage(this.shuffle.visibleItems==0)};Az.prototype.hasActiveFilters=function(){return Object.keys(this.filters).some(function(n){return this.filters[n].length>0},this)};Az.prototype.itemPassesFilters=function(n){var t=this.filters.groups,i=n.getAttribute("data-group");return t.length>0&&!arrayIncludes(t,i)?!1:!0};Az.prototype.addSearchFilter=function(){document.querySelector(".js-shuffle-search").addEventListener("keyup",this._handleSearchKeyup.bind(this))};Az.prototype._handleSearchKeyup=function(n){if(this.removeFilterActiveState(),n.target.value.length<2){this.shuffle.filter(!1);return}var t=n.target.value.toLowerCase();this.shuffle.filter(function(n){var i=n.querySelector(".js-shuffle-title"),r;if(i)return r=i.textContent.toLowerCase().trim(),r.indexOf(t)!==-1});this.updateNoItemsMessage(this.shuffle.visibleItems==0)};document.addEventListener("DOMContentLoaded",function(){window.AZ=new Az(document.querySelector(".js-shuffle"))});
function headerBackgroundByJs(){var n=0;$(".headerBgByJs").each(function(){var t="headerBgByJs"+n,r,u,i;$(this).addClass(t);$("."+t).find("img").length>0&&(r=$("."+t),u=r.width(),u<=727?(i=$("."+t+" .deviceImg img").attr("src"),$("."+t).css("background-image","url("+i+")")):(i=$("."+t+" .desktopImg img").attr("src"),$("."+t).css("background-image","url("+i+")")));n++})}$(document).ready(function(){headerBackgroundByJs()});
(function(n){var t="carousel",b="."+t,e="data-transition",l="data-prev",a="data-prev-title",v="data-next",y="data-next-title",k=t+"-transitioning",r=t+"-item",i=t+"-active",o=t+"-item-prev",s=t+"-item-next",u=t+"-in",f=t+"-out",h=t+"-nav",p,c=function(){for(var t="webkit Moz O Ms".split(" "),i=!1,n;t.length;)if(n=t.shift()+"Transition",n in document.documentElement.style!==undefined&&n in document.documentElement.style!=!1){i=!0;break}return i}(),w={_create:function(){n(this).trigger("beforecreate."+t)[t]("_init")[t]("_addNextPrev").trigger("create."+t)},_init:function(){var u=n(this).attr(e);u||(c=!1);n(this).addClass(t+" "+(u?t+"-"+u:"")+" ").children().addClass(r).first().addClass(i);n(this)[t]("_addNextPrevClasses");n(this).data(t+"data","init")},_addNextPrevClasses:function(){var t=n(this).find("."+r),e=t.filter("."+i),u=e.next("."+r),f=e.prev("."+r);u.length||(u=t.first().not("."+i));f.length||(f=t.last().not("."+i));t.removeClass(o+" "+s);f.addClass(o);u.addClass(s)},next:function(){n(this)[t]("goTo","+1")},prev:function(){n(this)[t]("goTo","-1")},goTo:function(o){var h=n(this),d=h.attr(e),p=" "+t+"-"+d+"-reverse";n(this).find("."+r).removeClass([f,u,p].join(" "));var l=n(this).find("."+i),w=l.index(),a=(w<0?0:w)+1,v=typeof o=="number"?o:a+parseFloat(o),b=v-1,g=n(this).find("."+r),nt="beforegoto."+t,s=g.eq(b),y=typeof o=="string"&&!parseFloat(o)||v>a?"":p,k;(h.trigger(nt,k={$from:l,$to:s,direction:v>a?"forward":"backward"}),k.isDefaultPrevented)||(s.length||(s=n(this).find("."+r)[y.length?"last":"first"]()),c?h[t]("_transitionStart",l,s,y):(s.addClass(i),h[t]("_transitionEnd",l,s,y)),h.trigger("goto."+t,[s,b]))},update:function(){return n(this).children().not("."+h).addClass(r).first().addClass(i),n(this).trigger("update."+t)},_transitionStart:function(i,r,e){var o=n(this);r.one(navigator.userAgent.indexOf("AppleWebKit")>-1?"webkitTransitionEnd":"transitionend otransitionend",function(){o[t]("_transitionEnd",i,r,e)});n(this).addClass(e);i.addClass(f);r.addClass(u)},_transitionEnd:function(r,e,o){n(this).removeClass(o);r.removeClass(f+" "+i);e.removeClass(u).addClass(i);n(this)[t]("_addNextPrevClasses")},_bindEventListeners:function(){var i=n(this).bind("click",function(r){var u=n(r.target).closest("a[href='#next'],a[href='#prev']");u.length&&(i[t](u.is("[href='#next']")?"next":"prev"),r.preventDefault())});return this},_addNextPrev:function(){var i,r=n(this),u=n(this).attr(l)||"<",f=n(this).attr(v)||">",e=n(this).attr(a)||"Previous",o=n(this).attr(y)||"Next";return i=n("<nav class='"+h+"'><a href='#prev' class='prev' aria-hidden='true' title='"+e+"'>"+u+"<\/a><a href='#next' class='next' aria-hidden='true' title='"+o+"'>"+f+"<\/a><\/nav>"),r.trigger("beforecreatenav."+t,{$nav:i}),r.append(i)[t]("_bindEventListeners")},destroy:function(){}};n.fn[t]=function(i,r,u,f){return this.each(function(){if(i&&typeof i=="string")return n.fn[t].prototype[i].call(this,r,u,f);if(n(this).data(t+"active"))return n(this);n(this).data(t+"active",!0);n.fn[t].prototype._create.call(this)})};p=n.extend(n.fn[t].prototype,w)})(jQuery);
;
(function(n){var t="carousel",i=t+"-item",u=t+"-active",r=function(n){return n.attr("data-loop")!=="false"};n(document).bind("beforecreate."+t,function(i){n(i.target)[t]("_loopInit")});n.extend(n.fn[t].prototype,{_loopInit:function(){var i=n(this),r=n.fn[t].prototype;i.on("beforegoto."+t,r._loopBefore);i.on("beforedrag."+t,r._loopBefore);i.on("drag."+t,r._loopBefore);i.on("beforecreatenav."+t,r._loopBeforeCreateNav)},_loopBefore:function(u,f){var e=n(u.target),o,h,s;if(!r(e)){if(o=f.$to.index(),h=f.$from.index(),s=e.find("."+i),h===0&&f.direction=="backward"||h==s.length-1&&f.direction=="forward"){f.isDefaultPrevented=!0;return}o===s.length-1&&e[t]("_disableNav","next");o===0&&e[t]("_disableNav","prev");o>0&&o<s.length-1&&(e[t]("_enableNav","next"),e[t]("_enableNav","prev"))}},_loopBeforeCreateNav:function(f,e){var o=n(f.target),s,h;r(o)||(s=o.find("."+i),h=s.filter("."+u),h[0]===s[0]&&o[t]("_disableNav","prev",e.$nav),h.last()[0]===s.last()[0]&&o[t]("_disableNav","next",e.$nav))},_disableNav:function(t,i){(i||n(this)).find("a."+t).addClass("disabled")},_enableNav:function(t,i){(i||n(this)).find("a."+t).removeClass("disabled")}})})(jQuery);
(function(n){var t="carousel",f="."+t+"[data-paginate]",i=t+"-pagination",r=t+"-active-page",u={_createPagination:function(){var e=n(this).find("."+t+"-nav"),h=n(this).find("."+t+"-item"),o=n("<ol class='"+i+"'><\/ol>"),u,f,s,r;e.find("."+i).remove();h.each(function(t){u=t+1;f=n(this).attr("data-thumb");r=n(this).attr("data-type");s=u;f&&(s="<img src='"+f+"' alt=''>");o.append("<li"+(r?" class='carousel-"+r+"'":"")+"><a href='#"+u+"' title='Go to slide "+u+"'>"+(r?r:s)+"<\/a>");r&&e.addClass("has-"+r)});f&&o.addClass(t+"-nav-thumbs");e.addClass(t+"-nav-paginated").find("a").first().after(o)},_bindPaginationEvents:function(){n(this).bind("click",function(r){var u=n(r.target),f;r.target.nodeName==="IMG"&&(u=u.parent());u=u.closest("a");f=u.attr("href");u.closest("."+i).length&&f&&(n(this)[t]("goTo",parseFloat(f.split("#")[1])),r.preventDefault())}).bind("goto."+t,function(t,u){var f=u?n(this).find("div.carousel-item").index(u):0;n(this).find("ol."+i+" li").removeClass(r).eq(f).addClass(r)}).trigger("goto."+t)}};n.extend(n.fn[t].prototype,u);n(document).bind("create."+t,function(i){n(i.target)[t]("_createPagination")[t]("_bindPaginationEvents")}).bind("update."+t,function(i){n(i.target)[t]("_createPagination")})})(jQuery);
(function(n){var t="carousel",e="."+t,i=t+"-active",r=t+"-item",u=function(n){return Math.abs(n)>4},f=function(n,i){var f=n.find("."+t+"-active"),s=f.prevAll().length+1,e=i<0,o=s+(e?1:-1),u=n.find("."+r).eq(o-1);return u.length||(u=n.find("."+r)[e?"first":"last"]()),[f,u,o-1]};n(document).bind(t+".dragmove",function(t,i){if(!i||u(i.deltaX)){var r=f(n(t.target),i.deltaX);r[0].css("left",i.deltaX+"px");r[1].css("left",i.deltaX<0?i.w+i.deltaX+"px":-i.w+i.deltaX+"px")}}).bind(t+".dragend",function(r,e){if(!e||u(e.deltaX)){var o=f(n(r.target),e.deltaX),s=Math.abs(e.deltaX)>45;n(r.target).one(navigator.userAgent.indexOf("AppleWebKit")?"webkitTransitionEnd":"transitionEnd",function(){o[0].add(o[1]).css("left","");n(r.target).trigger("goto."+t,o[s?1:0])});s?(o[0].removeClass(i).css("left",e.deltaX>0?e.w+"px":-e.w+"px"),o[1].addClass(i).css("left",0)):(o[0].css("left",0),o[1].css("left",e.deltaX>0?-e.w+"px":e.w+"px"))}})})(jQuery);
var carousel;jRes.addFunc({breakpoint:["desktop","tablet"],enter:function(){$(document).ready(function(){carousel=$("#gridTop .jobsModuleUk .moduleContent").carousel();carousel=$(".gridFull .jobsModuleBridge .moduleContent").carousel()})},exit:function(){carousel=null}});
!function(n,t,i,r){function u(t,i){this.settings=null;this.options=n.extend({},u.Defaults,i);this.$element=n(t);this._handlers={};this._plugins={};this._supress={};this._current=null;this._speed=null;this._coordinates=[];this._breakpoint=null;this._width=null;this._items=[];this._clones=[];this._mergers=[];this._widths=[];this._invalidated={};this._pipe=[];this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null};this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};n.each(["onResize","onThrottledResize"],n.proxy(function(t,i){this._handlers[i]=n.proxy(this[i],this)},this));n.each(u.Plugins,n.proxy(function(n,t){this._plugins[n.charAt(0).toLowerCase()+n.slice(1)]=new t(this)},this));n.each(u.Workers,n.proxy(function(t,i){this._pipe.push({filter:i.filter,run:n.proxy(i.run,this)})},this));this.setup();this.initialize()}u.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"};u.Width={Default:"default",Inner:"inner",Outer:"outer"};u.Type={Event:"event",State:"state"};u.Plugins={};u.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(n){n.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(n){var t=this.settings.margin||"",u=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?t:"","margin-right":i?"":t};u||this.$stage.children().css(r);n.css=r}},{filter:["width","items","settings"],run:function(n){var r=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,t=null,i=this._items.length,f=!this.settings.autoWidth,u=[];for(n.items={merge:!1,width:r};i--;)t=this._mergers[i],t=this.settings.mergeFit&&Math.min(t,this.settings.items)||t,n.items.merge=t>1||n.items.merge,u[i]=f?r*t:this._items[i].width();this._widths=u}},{filter:["items","settings"],run:function(){var t=[],i=this._items,r=this.settings,e=Math.max(2*r.items,4),s=2*Math.ceil(i.length/2),u=r.loop&&i.length?r.rewind?e:Math.max(e,s):0,o="",f="";for(u/=2;u>0;)t.push(this.normalize(t.length/2,!0)),o+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),f=i[t[t.length-1]][0].outerHTML+f,u-=1;this._clones=t;n(o).addClass("cloned").appendTo(this.$stage);n(f).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var u=this.settings.rtl?1:-1,f=this._clones.length+this._items.length,n=-1,i=0,r=0,t=[];++n<f;)i=t[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,t.push(i+r*u);this._coordinates=t}},{filter:["width","items","settings"],run:function(){var n=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*n,"padding-left":n||"","padding-right":n||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(n){var t=this._coordinates.length,i=!this.settings.autoWidth,r=this.$stage.children();if(i&&n.items.merge)for(;t--;)n.css.width=this._widths[this.relative(t)],r.eq(t).css(n.css);else i&&(n.css.width=n.items.width,r.css(n.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(n){n.current=n.current?this.$stage.children().index(n.current):0;n.current=Math.max(this.minimum(),Math.min(this.maximum(),n.current));this.reset(n.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,i,f=this.settings.rtl?1:-1,e=2*this.settings.stagePadding,r=this.coordinates(this.current())+e,o=r+this.width()*f,s=[],n=0,u=this._coordinates.length;n<u;n++)t=this._coordinates[n-1]||0,i=Math.abs(this._coordinates[n])+e*f,(this.op(t,"<=",r)&&this.op(t,">",o)||this.op(i,"<",r)&&this.op(i,">",o))&&s.push(n);this.$stage.children(".active").removeClass("active");this.$stage.children(":eq("+s.join("), :eq(")+")").addClass("active");this.$stage.children(".center").removeClass("center");this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}];u.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass);this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=n("<"+this.settings.stageElement+">",{"class":this.settings.stageClass}).wrap(n("<div/>",{"class":this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))};u.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return n(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent()));this.isVisible()?this.refresh():this.invalidate("width");this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)};u.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var n,t,i;n=this.$element.find("img");t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r;i=this.$element.children(t).width();n.length&&i<=0&&this.preloadAutoWidthImages(n)}this.initializeStage();this.initializeItems();this.registerEventHandlers();this.leave("initializing");this.trigger("initialized")};u.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")};u.prototype.setup=function(){var u=this.viewport(),r=this.options.responsive,i=-1,t=null;r?(n.each(r,function(n){n<=u&&n>i&&(i=Number(n))}),t=n.extend({},this.options,r[i]),"function"==typeof t.stagePadding&&(t.stagePadding=t.stagePadding()),delete t.responsive,t.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):t=n.extend({},this.options);this.trigger("change",{property:{name:"settings",value:t}});this._breakpoint=i;this.settings=t;this.invalidate("settings");this.trigger("changed",{property:{name:"settings",value:this.settings}})};u.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)};u.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=n("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data};u.prototype.update=function(){for(var t=0,i=this._pipe.length,r=n.proxy(function(n){return this[n]},this._invalidated),u={};t<i;)(this._invalidated.all||n.grep(this._pipe[t].filter,r).length>0)&&this._pipe[t].run(u),t++;this._invalidated={};this.is("valid")||this.enter("valid")};u.prototype.width=function(n){switch(n=n||u.Width.Default){case u.Width.Inner:case u.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}};u.prototype.refresh=function(){this.enter("refreshing");this.trigger("refresh");this.setup();this.optionsLogic();this.$element.addClass(this.options.refreshClass);this.update();this.$element.removeClass(this.options.refreshClass);this.leave("refreshing");this.trigger("refreshed")};u.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer);this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)};u.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))};u.prototype.registerEventHandlers=function(){n.support.transition&&this.$stage.on(n.support.transition.end+".owl.core",n.proxy(this.onTransitionEnd,this));!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize);this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",n.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1}));this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",n.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",n.proxy(this.onDragEnd,this)))};u.prototype.onDragStart=function(t){var r=null;3!==t.which&&(n.support.transform?(r=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),r={x:r[16===r.length?12:4],y:r[16===r.length?13:5]}):(r=this.$stage.position(),r={x:this.settings.rtl?r.left+this.$stage.width()-this.width()+this.settings.margin:r.left,y:r.top}),this.is("animating")&&(n.support.transform?this.animate(r.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=n(t.target),this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this.pointer(t),n(i).on("mouseup.owl.core touchend.owl.core",n.proxy(this.onDragEnd,this)),n(i).one("mousemove.owl.core touchmove.owl.core",n.proxy(function(t){var r=this.difference(this._drag.pointer,this.pointer(t));n(i).on("mousemove.owl.core touchmove.owl.core",n.proxy(this.onDragMove,this));Math.abs(r.x)<Math.abs(r.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))};u.prototype.onDragMove=function(n){var t=null,i=null,u=null,f=this.difference(this._drag.pointer,this.pointer(n)),r=this.difference(this._drag.stage.start,f);this.is("dragging")&&(n.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,r.x=((r.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?f.x/-5:0,r.x=Math.max(Math.min(r.x,t+u),i+u)),this._drag.stage.current=r,this.animate(r.x))};u.prototype.onDragEnd=function(t){var r=this.difference(this._drag.pointer,this.pointer(t)),f=this._drag.stage.current,u=r.x>0^this.settings.rtl?"left":"right";n(i).off(".owl.core");this.$element.removeClass(this.options.grabClass);(0!==r.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(f.x,0!==r.x?u:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=u,(Math.abs(r.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1}));this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))};u.prototype.closest=function(t,i){var u=-1,e=30,o=this.width(),f=this.coordinates();return this.settings.freeDrag||n.each(f,n.proxy(function(n,s){return"left"===i&&t>s-e&&t<s+e?u=n:"right"===i&&t>s-o-e&&t<s-o+e?u=n+1:this.op(t,"<",s)&&this.op(t,">",f[n+1]!==r?f[n+1]:s-o)&&(u="left"===i?n+1:n),-1===u},this)),this.settings.loop||(this.op(t,">",f[this.minimum()])?u=t=this.minimum():this.op(t,"<",f[this.maximum()])&&(u=t=this.maximum())),u};u.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd();i&&(this.enter("animating"),this.trigger("translate"));n.support.transform3d&&n.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,n.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})};u.prototype.is=function(n){return this._states.current[n]&&this._states.current[n]>0};u.prototype.current=function(n){if(n===r)return this._current;if(0===this._items.length)return r;if(n=this.normalize(n),this._current!==n){var t=this.trigger("change",{property:{name:"position",value:n}});t.data!==r&&(n=this.normalize(t.data));this._current=n;this.invalidate("position");this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current};u.prototype.invalidate=function(t){return"string"===n.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),n.map(this._invalidated,function(n,t){return t})};u.prototype.reset=function(n){(n=this.normalize(n))!==r&&(this._speed=0,this._current=n,this.suppress(["translate","translated"]),this.animate(this.coordinates(n)),this.release(["translate","translated"]))};u.prototype.normalize=function(n,t){var i=this._items.length,u=t?0:this._clones.length;return!this.isNumeric(n)||i<1?n=r:(n<0||n>=i+u)&&(n=((n-u/2)%i+i)%i+u/2),n};u.prototype.relative=function(n){return n-=this._clones.length/2,this.normalize(n,!0)};u.prototype.maximum=function(n){var t,u,f,i=this.settings,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){if(t=this._items.length)for(u=this._items[--t].width(),f=this.$element.width();t--&&!((u+=this._items[t].width()+this.settings.margin)>f););r=t+1}else r=i.center?this._items.length-1:this._items.length-i.items;return n&&(r-=this._clones.length/2),Math.max(r,0)};u.prototype.minimum=function(n){return n?0:this._clones.length/2};u.prototype.items=function(n){return n===r?this._items.slice():(n=this.normalize(n,!0),this._items[n])};u.prototype.mergers=function(n){return n===r?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])};u.prototype.clones=function(t){var i=this._clones.length/2,f=i+this._items.length,u=function(n){return n%2==0?f+n/2:i-(n+1)/2};return t===r?n.map(this._clones,function(n,t){return u(t)}):n.map(this._clones,function(n,i){return n===t?u(i):null})};u.prototype.speed=function(n){return n!==r&&(this._speed=n),this._speed};u.prototype.coordinates=function(t){var i,f=1,u=t-1;return t===r?n.map(this._coordinates,n.proxy(function(n,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(f=-1,u=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[u]||0))/2*f):i=this._coordinates[u]||0,i=Math.ceil(i))};u.prototype.duration=function(n,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-n),1),6)*Math.abs(i||this.settings.smartSpeed)};u.prototype.to=function(n,t){var u=this.current(),f=null,i=n-this.relative(u),s=(i>0)-(i<0),e=this._items.length,o=this.minimum(),r=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(i)>e/2&&(i+=-1*s*e),n=u+i,(f=((n-o)%e+e)%e+o)!==n&&f-i<=r&&f-i>0&&(u=f-i,n=f,this.reset(u))):this.settings.rewind?(r+=1,n=(n%r+r)%r):n=Math.max(o,Math.min(r,n));this.speed(this.duration(u,n,t));this.current(n);this.isVisible()&&this.update()};u.prototype.next=function(n){n=n||!1;this.to(this.relative(this.current())+1,n)};u.prototype.prev=function(n){n=n||!1;this.to(this.relative(this.current())-1,n)};u.prototype.onTransitionEnd=function(n){if(n!==r&&(n.stopPropagation(),(n.target||n.srcElement||n.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating");this.trigger("translated")};u.prototype.viewport=function(){var r;return this.options.responsiveBaseElement!==t?r=n(this.options.responsiveBaseElement).width():t.innerWidth?r=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?r=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),r};u.prototype.replace=function(t){this.$stage.empty();this._items=[];t&&(t=t instanceof jQuery?t:n(t));this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector));t.filter(function(){return 1===this.nodeType}).each(n.proxy(function(n,t){t=this.prepare(t);this.$stage.append(t);this._items.push(t);this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this));this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0);this.invalidate("items")};u.prototype.add=function(t,i){var u=this.relative(this._current);i=i===r?this._items.length:this.normalize(i,!0);t=t instanceof jQuery?t:n(t);this.trigger("add",{content:t,position:i});t=this.prepare(t);0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1));this._items[u]&&this.reset(this._items[u].index());this.invalidate("items");this.trigger("added",{content:t,position:i})};u.prototype.remove=function(n){(n=this.normalize(n,!0))!==r&&(this.trigger("remove",{content:this._items[n],position:n}),this._items[n].remove(),this._items.splice(n,1),this._mergers.splice(n,1),this.invalidate("items"),this.trigger("removed",{content:null,position:n}))};u.prototype.preloadAutoWidthImages=function(t){t.each(n.proxy(function(t,i){this.enter("pre-loading");i=n(i);n(new Image).one("load",n.proxy(function(n){i.attr("src",n.target.src);i.css("opacity",1);this.leave("pre-loading");!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))};u.prototype.destroy=function(){this.$element.off(".owl.core");this.$stage.off(".owl.core");n(i).off(".owl.core");!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var r in this._plugins)this._plugins[r].destroy();this.$stage.children(".cloned").remove();this.$stage.unwrap();this.$stage.children().contents().unwrap();this.$stage.children().unwrap();this.$stage.remove();this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")};u.prototype.op=function(n,t,i){var r=this.settings.rtl;switch(t){case"<":return r?n>i:n<i;case">":return r?n<i:n>i;case">=":return r?n<=i:n>=i;case"<=":return r?n>=i:n<=i}};u.prototype.on=function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r):n.attachEvent&&n.attachEvent("on"+t,i)};u.prototype.off=function(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent&&n.detachEvent("on"+t,i)};u.prototype.trigger=function(t,i,r){var o={item:{count:this._items.length,index:this.current()}},e=n.camelCase(n.grep(["on",t,r],function(n){return n}).join("-").toLowerCase()),f=n.Event([t,"owl",r||"carousel"].join(".").toLowerCase(),n.extend({relatedTarget:this},o,i));return this._supress[t]||(n.each(this._plugins,function(n,t){t.onTrigger&&t.onTrigger(f)}),this.register({type:u.Type.Event,name:t}),this.$element.trigger(f),this.settings&&"function"==typeof this.settings[e]&&this.settings[e].call(this,f)),f};u.prototype.enter=function(t){n.each([t].concat(this._states.tags[t]||[]),n.proxy(function(n,t){this._states.current[t]===r&&(this._states.current[t]=0);this._states.current[t]++},this))};u.prototype.leave=function(t){n.each([t].concat(this._states.tags[t]||[]),n.proxy(function(n,t){this._states.current[t]--},this))};u.prototype.register=function(t){if(t.type===u.Type.Event){if(n.event.special[t.name]||(n.event.special[t.name]={}),!n.event.special[t.name].owl){var i=n.event.special[t.name]._default;n.event.special[t.name]._default=function(n){return!i||!i.apply||n.namespace&&-1!==n.namespace.indexOf("owl")?n.namespace&&n.namespace.indexOf("owl")>-1:i.apply(this,arguments)};n.event.special[t.name].owl=!0}}else t.type===u.Type.State&&(this._states.tags[t.name]=this._states.tags[t.name]?this._states.tags[t.name].concat(t.tags):t.tags,this._states.tags[t.name]=n.grep(this._states.tags[t.name],n.proxy(function(i,r){return n.inArray(i,this._states.tags[t.name])===r},this)))};u.prototype.suppress=function(t){n.each(t,n.proxy(function(n,t){this._supress[t]=!0},this))};u.prototype.release=function(t){n.each(t,n.proxy(function(n,t){delete this._supress[t]},this))};u.prototype.pointer=function(n){var i={x:null,y:null};return n=n.originalEvent||n||t.event,n=n.touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n.pageX?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i};u.prototype.isNumeric=function(n){return!isNaN(parseFloat(n))};u.prototype.difference=function(n,t){return{x:n.x-t.x,y:n.y-t.y}};n.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=n(this),r=f.data("owl.carousel");r||(r=new u(this,"object"==typeof t&&t),f.data("owl.carousel",r),n.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,i){r.register({type:u.Type.Event,name:i});r.$element.on(i+".owl.carousel.core",n.proxy(function(n){n.namespace&&n.relatedTarget!==this&&(this.suppress([i]),r[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},r))}));"string"==typeof t&&"_"!==t.charAt(0)&&r[t].apply(r,i)})};n.fn.owlCarousel.Constructor=u}(window.Zepto||window.jQuery,window,document),function(n,t){var i=function(t){this._core=t;this._interval=null;this._visible=null;this._handlers={"initialized.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoRefresh&&this.watch()},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500};i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(n.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))};i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())};i.prototype.destroy=function(){var n,i;t.clearInterval(this._interval);for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)};n.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){var u=function(t){this._core=t;this._loaded=[];this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":n.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var i=this._core.settings,u=i.center&&Math.ceil(i.items/2)||i.items,e=i.center&&-1*u||0,f=(t.property&&t.property.value!==r?t.property.value:this._core.current())+e,o=this._core.clones().length,s=n.proxy(function(n,t){this.load(t)},this);for(i.lazyLoadEager>0&&(u+=i.lazyLoadEager,i.loop&&(f-=i.lazyLoadEager,u++));e++<u;)this.load(o/2+this._core.relative(f)),o&&n.each(this._core.clones(this._core.relative(f)),s),f++}},this)};this._core.options=n.extend({},u.Defaults,this._core.options);this._core.$element.on(this._handlers)};u.Defaults={lazyLoad:!1,lazyLoadEager:0};u.prototype.load=function(i){var r=this._core.$stage.children().eq(i),u=r&&r.find(".owl-lazy");!u||n.inArray(r.get(0),this._loaded)>-1||(u.each(n.proxy(function(i,r){var e,u=n(r),f=t.devicePixelRatio>1&&u.attr("data-src-retina")||u.attr("data-src")||u.attr("data-srcset");this._core.trigger("load",{element:u,url:f},"lazy");u.is("img")?u.one("load.owl.lazy",n.proxy(function(){u.css("opacity",1);this._core.trigger("loaded",{element:u,url:f},"lazy")},this)).attr("src",f):u.is("source")?u.one("load.owl.lazy",n.proxy(function(){this._core.trigger("loaded",{element:u,url:f},"lazy")},this)).attr("srcset",f):(e=new Image,e.onload=n.proxy(function(){u.css({"background-image":'url("'+f+'")',opacity:"1"});this._core.trigger("loaded",{element:u,url:f},"lazy")},this),e.src=f)},this)),this._loaded.push(r.get(0)))};u.prototype.destroy=function(){var n,t;for(n in this.handlers)this._core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Lazy=u}(window.Zepto||window.jQuery,window,document),function(n,t){var i=function(r){this._core=r;this._previousHeight=null;this._handlers={"initialized.owl.carousel refreshed.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoHeight&&"position"===n.property.name&&this.update()},this),"loaded.owl.lazy":n.proxy(function(n){n.namespace&&this._core.settings.autoHeight&&n.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this._core.$element.on(this._handlers);this._intervalId=null;var u=this;n(t).on("load",function(){u._core.settings.autoHeight&&u.update()});n(t).resize(function(){u._core.settings.autoHeight&&(null!=u._intervalId&&clearTimeout(u._intervalId),u._intervalId=setTimeout(function(){u.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"};i.prototype.update=function(){var i=this._core._current,u=i+this._core.settings.items,f=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(i,u),r=[],t=0;n.each(e,function(t,i){r.push(n(i).height())});t=Math.max.apply(null,r);t<=1&&f&&this._previousHeight&&(t=this._previousHeight);this._previousHeight=t;this._core.$stage.parent().height(t).addClass(this._core.settings.autoHeightClass)};i.prototype.destroy=function(){var n,t;for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this._core=t;this._videos={};this._playing=null;this._handlers={"initialized.owl.carousel":n.proxy(function(n){n.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.video&&this.isInFullScreen()&&n.preventDefault()},this),"refreshed.owl.carousel":n.proxy(function(n){n.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":n.proxy(function(n){n.namespace&&"position"===n.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var i=n(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,n(t.content)))}},this)};this._core.options=n.extend({},r.Defaults,this._core.options);this._core.$element.on(this._handlers);this._core.$element.on("click.owl.video",".owl-video-play-icon",n.proxy(function(n){this.play(n)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1};r.prototype.fetch=function(n,t){var u=function(){return n.attr("data-vimeo-id")?"vimeo":n.attr("data-vzaar-id")?"vzaar":"youtube"}(),i=n.attr("data-vimeo-id")||n.attr("data-youtube-id")||n.attr("data-vzaar-id"),f=n.attr("data-width")||this._core.settings.videoWidth,e=n.attr("data-height")||this._core.settings.videoHeight,r=n.attr("href");if(!r)throw new Error("Missing video URL.");if(i=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),i[3].indexOf("youtu")>-1)u="youtube";else if(i[3].indexOf("vimeo")>-1)u="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");u="vzaar"}i=i[6];this._videos[r]={type:u,id:i,width:f,height:e};t.attr("data-video",r);this.thumbnail(n,this._videos[r])};r.prototype.thumbnail=function(t,i){var e,o,r,c=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",f=t.find("img"),s="src",h="",l=this._core.settings,u=function(i){o='<div class="owl-video-play-icon"><\/div>';e=l.lazyLoad?n("<div/>",{"class":"owl-video-tn "+h,srcType:i}):n("<div/>",{"class":"owl-video-tn",style:"opacity:1;background-image:url("+i+")"});t.after(e);t.after(o)};if(t.wrap(n("<div/>",{"class":"owl-video-wrapper",style:c})),this._core.settings.lazyLoad&&(s="data-src",h="owl-lazy"),f.length)return u(f.attr(s)),f.remove(),!1;"youtube"===i.type?(r="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",u(r)):"vimeo"===i.type?n.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(n){r=n[0].thumbnail_large;u(r)}}):"vzaar"===i.type&&n.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(n){r=n.framegrab_url;u(r)}})};r.prototype.stop=function(){this._core.trigger("stop",null,"video");this._playing.find(".owl-video-frame").remove();this._playing.removeClass("owl-video-playing");this._playing=null;this._core.leave("playing");this._core.trigger("stopped",null,"video")};r.prototype.play=function(t){var r,f=n(t.target),u=f.closest("."+this._core.settings.itemClass),i=this._videos[u.attr("data-video")],e=i.width||"100%",o=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),u=this._core.items(this._core.relative(u.index())),this._core.reset(u.index()),r=n('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ><\/iframe>'),r.attr("height",o),r.attr("width",e),"youtube"===i.type?r.attr("src","//www.youtube.com/embed/"+i.id+"?autoplay=1&rel=0&v="+i.id):"vimeo"===i.type?r.attr("src","//player.vimeo.com/video/"+i.id+"?autoplay=1"):"vzaar"===i.type&&r.attr("src","//view.vzaar.com/"+i.id+"/player?autoplay=true"),n(r).wrap('<div class="owl-video-frame" />').insertAfter(u.find(".owl-video")),this._playing=u.addClass("owl-video-playing"))};r.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&n(t).parent().hasClass("owl-video-frame")};r.prototype.destroy=function(){var n,t;this._core.$element.off("click.owl.video");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){var u=function(t){this.core=t;this.core.options=n.extend({},u.Defaults,this.core.options);this.swapping=!0;this.previous=r;this.next=r;this.handlers={"change.owl.carousel":n.proxy(function(n){n.namespace&&"position"==n.property.name&&(this.previous=this.core.current(),this.next=n.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":n.proxy(function(n){n.namespace&&(this.swapping="translated"==n.type)},this),"translate.owl.carousel":n.proxy(function(n){n.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)};this.core.$element.on(this.handlers)};u.Defaults={animateOut:!1,animateIn:!1};u.prototype.swap=function(){if(1===this.core.settings.items&&n.support.animation&&n.support.transition){this.core.speed(0);var t,i=n.proxy(this.clear,this),f=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,u=this.core.settings.animateOut;this.core.current()!==this.previous&&(u&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),f.one(n.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(u)),r&&e.one(n.support.animation.end,i).addClass("animated owl-animated-in").addClass(r))}};u.prototype.clear=function(t){n(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut);this.core.onTransitionEnd()};u.prototype.destroy=function(){var n,t;for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Animate=u}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this._core=t;this._call=null;this._time=0;this._timeout=0;this._paused=!0;this._handlers={"changed.owl.carousel":n.proxy(function(n){n.namespace&&"settings"===n.property.name?this._core.settings.autoplay?this.play():this.stop():n.namespace&&"position"===n.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":n.proxy(function(n,t,i){n.namespace&&this.play(t,i)},this),"stop.owl.autoplay":n.proxy(function(n){n.namespace&&this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)};this._core.$element.on(this._handlers);this._core.options=n.extend({},r.Defaults,this._core.options)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1};r.prototype._next=function(r){this._call=t.setTimeout(n.proxy(this._next,this,r),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read());this._core.is("interacting")||i.hidden||this._core.next(r||this._core.settings.autoplaySpeed)};r.prototype.read=function(){return(new Date).getTime()-this._time};r.prototype.play=function(i,r){var u;this._core.is("rotating")||this._core.enter("rotating");i=i||this._core.settings.autoplayTimeout;u=Math.min(this._time%(this._timeout||i),i);this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call);this._time+=this.read()%i-u;this._timeout=i;this._call=t.setTimeout(n.proxy(this._next,this,r),i-u)};r.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))};r.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))};r.prototype.destroy=function(){var n,t;this.stop();for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(n){"use strict";var t=function(i){this._core=i;this._initialized=!1;this._pages=[];this._controls={};this._templates=[];this.$element=this._core.$element;this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to};this._handlers={"prepared.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+n(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"<\/div>")},this),"added.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.dotsData&&this._templates.splice(n.position,0,this._templates.pop())},this),"remove.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.dotsData&&this._templates.splice(n.position,1)},this),"changed.owl.carousel":n.proxy(function(n){n.namespace&&"position"==n.property.name&&this.draw()},this),"initialized.owl.carousel":n.proxy(function(n){n.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":n.proxy(function(n){n.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)};this._core.options=n.extend({},t.Defaults,this._core.options);this.$element.on(this._handlers)};t.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;<\/span>','<span aria-label="Next">&#x203a;<\/span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1};t.prototype.initialize=function(){var i,t=this._core.settings;this._controls.$relative=(t.navContainer?n(t.navContainer):n("<div>").addClass(t.navContainerClass).appendTo(this.$element)).addClass("disabled");this._controls.$previous=n("<"+t.navElement+">").addClass(t.navClass[0]).html(t.navText[0]).prependTo(this._controls.$relative).on("click",n.proxy(function(){this.prev(t.navSpeed)},this));this._controls.$next=n("<"+t.navElement+">").addClass(t.navClass[1]).html(t.navText[1]).appendTo(this._controls.$relative).on("click",n.proxy(function(){this.next(t.navSpeed)},this));t.dotsData||(this._templates=[n('<button role="button">').addClass(t.dotClass).append(n("<span>")).prop("outerHTML")]);this._controls.$absolute=(t.dotsContainer?n(t.dotsContainer):n("<div>").addClass(t.dotsClass).appendTo(this.$element)).addClass("disabled");this._controls.$absolute.on("click","button",n.proxy(function(i){var r=n(i.target).parent().is(this._controls.$absolute)?n(i.target).index():n(i.target).parent().index();i.preventDefault();this.to(r,t.dotsSpeed)},this));for(i in this._overrides)this._core[i]=n.proxy(this[i],this)};t.prototype.destroy=function(){var t,n,i,r,u=this._core.settings;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(n in this._controls)"$relative"===n&&u.navContainer?this._controls[n].html(""):this._controls[n].remove();for(r in this.overides)this._core[r]=this._overrides[r];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)};t.prototype.update=function(){var t,i,f,r=this._core.clones().length/2,o=r+this._core.items().length,u=this._core.maximum(!0),n=this._core.settings,e=n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],t=r,i=0,f=0;t<o;t++){if(i>=e||0===i){if(this._pages.push({start:Math.min(u,t-r),end:t-r+e-1}),Math.min(u,t-r)===u)break;i=0;++f}i+=this._core.mergers(this._core.relative(t))}};t.prototype.draw=function(){var i,t=this._core.settings,r=this._core.items().length<=t.items,u=this._core.relative(this._core.current()),f=t.loop||t.rewind;this._controls.$relative.toggleClass("disabled",!t.nav||r);t.nav&&(this._controls.$previous.toggleClass("disabled",!f&&u<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&u>=this._core.maximum(!0)));this._controls.$absolute.toggleClass("disabled",!t.dots||r);t.dots&&(i=this._pages.length-this._controls.$absolute.children().length,t.dotsData&&0!==i?this._controls.$absolute.html(this._templates.join("")):i>0?this._controls.$absolute.append(new Array(i+1).join(this._templates[0])):i<0&&this._controls.$absolute.children().slice(i).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(n.inArray(this.current(),this._pages)).addClass("active"))};t.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:n.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}};t.prototype.current=function(){var t=this._core.relative(this._core.current());return n.grep(this._pages,n.proxy(function(n){return n.start<=t&&n.end>=t},this)).pop()};t.prototype.getPosition=function(t){var i,r,u=this._core.settings;return"page"==u.slideBy?(i=n.inArray(this.current(),this._pages),r=this._pages.length,t?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this._core.relative(this._core.current()),r=this._core.items().length,t?i+=u.slideBy:i-=u.slideBy),i};t.prototype.next=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)};t.prototype.prev=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)};t.prototype.to=function(t,i,r){var u;!r&&this._pages.length?(u=this._pages.length,n.proxy(this._overrides.to,this._core)(this._pages[(t%u+u)%u].start,i)):n.proxy(this._overrides.to,this._core)(t,i)};n.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){"use strict";var u=function(i){this._core=i;this._hashes={};this.$element=this._core.$element;this._handlers={"initialized.owl.carousel":n.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&n(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var i=n(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}},this),"changed.owl.carousel":n.proxy(function(i){if(i.namespace&&"position"===i.property.name){var u=this._core.items(this._core.relative(this._core.current())),r=n.map(this._hashes,function(n,t){return n===u?t:null}).join();if(!r||t.location.hash.slice(1)===r)return;t.location.hash=r}},this)};this._core.options=n.extend({},u.Defaults,this._core.options);this.$element.on(this._handlers);n(t).on("hashchange.owl.navigation",n.proxy(function(){var i=t.location.hash.substring(1),u=this._core.$stage.children(),n=this._hashes[i]&&u.index(this._hashes[i]);n!==r&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};u.Defaults={URLhashListener:!1};u.prototype.destroy=function(){var i,r;n(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(r in Object.getOwnPropertyNames(this))"function"!=typeof this[r]&&(this[r]=null)};n.fn.owlCarousel.Constructor.Plugins.Hash=u}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){function u(t,i){var u=!1,f=t.charAt(0).toUpperCase()+t.slice(1);return n.each((t+" "+h.join(f+" ")+f).split(" "),function(n,t){if(s[t]!==r)return u=!i||t,!1}),u}function e(n){return u(n,!0)}var s=n("<support>").get(0).style,h="Webkit Moz O ms".split(" "),o={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},f={csstransforms:function(){return!!u("transform")},csstransforms3d:function(){return!!u("perspective")},csstransitions:function(){return!!u("transition")},cssanimations:function(){return!!u("animation")}};f.csstransitions()&&(n.support.transition=new String(e("transition")),n.support.transition.end=o.transition.end[n.support.transition]);f.cssanimations()&&(n.support.animation=new String(e("animation")),n.support.animation.end=o.animation.end[n.support.animation]);f.csstransforms()&&(n.support.transform=new String(e("transform")),n.support.transform3d=f.csstransforms3d())}(window.Zepto||window.jQuery,window,document);
function setSiteWallpaper(){var n=$(window.parent).width();n>1600?($(window.parent.document).find("#sl701Ad, #sr702Ad").css({width:(n-1262)/2+"px",display:"block"}),$(window.parent.document).find("#outerWrap, #cbrMastHead, #advertTop").css({"max-width":"1262px",margin:"0 auto"}),$(window.parent.document).find(".fullWidthGate--article").removeClass("fullWidthGate--stretch")):n>1200?($(window.parent.document).find("#sl701Ad, #sr702Ad").css({width:(n-1030)/2+"px",display:"block"}),$(window.parent.document).find("#outerWrap, #cbrMastHead, #advertTop").css({"max-width":"1030px",margin:"0 auto"}),$(window.parent.document).find("#cbrMastHead .inner #title").css({margin:"10px 25px 0 2%"}),$(window.parent.document).find(".fullWidthGate--article").removeClass("fullWidthGate--stretch")):($(window.parent.document).find("#outerWrap, #cbrMastHead, #advertTop").css({"max-width":"none",margin:"0"}),$(window.parent.document).find("#sl701Ad, #sr702Ad").css({display:"none"}),$(window.parent.document).find(".fullWidthGate--article").addClass("fullWidthGate--stretch"));$("#marketingBanner").css("display","none");$("body").addClass("wallpaperadsActve")}var resizeFullWidthGateContainer;$(document).ready(function(){$("#helpToggle").click(function(n){n.preventDefault();$(this).toggleClass("togglePanel__title--expanded");$("#helpPanel").toggle();var t=$("#helpPanel").height();$("#helpToggle").hasClass("togglePanel__title--expanded")?$(".gatedArticle__options").css({"margin-bottom":t+40}):$(".gatedArticle__options").css({"margin-bottom":"0"})});resizeFullWidthGateContainer()});$(window).resize(function(){resizeFullWidthGateContainer()});resizeFullWidthGateContainer=function(){if($(".gatedArticle__gate--stretch").length>0){var n=$(".gatedArticle__gate--stretch");$("#articleMain").css({"padding-bottom":n.height()})}};$(window).load(function(){setTimeout(function(){$("#outerWrap")[0].hasAttribute("style")&&$("body").addClass("advertLoaded")},3e3)});$(function(){($("#prNetlineFeed").length>0||$("#prNetlineFeedWebCast").length>0||$("#prNetlineFeedSpecialReports").length>0)&&refreshToken()});var DataApiURL=$(window.netlineconfig)[0].DataApi,DataApiSearchURL=$(window.netlineconfig)[0].DataApiSearch,NetlineBrandName=$(window.netlineconfig)[0].NetlineBrandName,refreshToken=function(){return $.ajax({url:DataApiURL,type:"GET",success:function(n){$("#prNetlineFeed").length>0&&netLineFeed(n);$("#prNetlineFeedWebCast").length>0&&netlineFeedWebCast(n);$("#prNetlineFeedSpecialReports").length>0&&netlineFeedSpecialReports(n)}}),!1},netLineFeed=function(n){var t={offerType:"ebook",brand:NetlineBrandName};return $.ajax({url:DataApiSearchURL,type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",headers:{Authorization:"Bearer "+n},success:function(n){var f=[],u,e,r,t,i,o,s;for(x=0;x<n.results.length;x++)r=new Date(n.results[x].startDate),t=r.getDate(),t<10&&(t="0"+t),i=r.getMonth()+1,i<10&&(i="0"+i),o=r.getFullYear(),s=i+"-"+t+"-"+o,e=$("<div class='storyContent'> ''<\/div>").html('<div class="thumbnail"><figure><a href='+n.results[x].pubURL+"><img src="+n.results[x].socialimgURL+' alt="" /><\/a><\/figure><\/div><div class="contentWrapper"> <h3><a href='+n.results[x].pubURL+">"+n.results[x].pubName+'<\/a><\/h3> <span class="byline"><b> Sponsored By <\/b> '+n.results[x].publisher+"<\/span> <p>"+n.results[x].offerType+" | "+s+" <\/p> <p>"+n.results[x].pubShortDescription+'<\/p> <div class="viewButton"><a href='+n.results[x].pubURL+'  class="button" target="_blank">Download Resource<\/a><\/div><\/div>'),f.push(e);u=$("<div class='moduleContent'> <\/div>");$("#prNetlineFeed").append(u);$(u).append(f)},error:function(n){console.log(n)}}),!1},netlineFeedWebCast=function(n){var t={offerType:"webinar",brand:NetlineBrandName};return $.ajax({url:DataApiSearchURL,type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",headers:{Authorization:"Bearer "+n},success:function(n){var f=[],u,e,r,t,i,o,s;for(x=0;x<n.results.length;x++)r=new Date(n.results[x].startDate),t=r.getDate(),t<10&&(t="0"+t),i=r.getMonth()+1,i<10&&(i="0"+i),o=r.getFullYear(),s=i+"-"+t+"-"+o,e=$("<div class='storyContent'> ''<\/div>").html('<div class="thumbnail"><figure><a href='+n.results[x].pubURL+"><img src="+n.results[x].socialimgURL+' alt="" /><\/a><\/figure><\/div><div class="contentWrapper"> <h3><a href='+n.results[x].pubURL+">"+n.results[x].pubName+'<\/a><\/h3> <span class="byline"><b> Sponsored By <\/b> '+n.results[x].publisher+"<\/span> <p>"+n.results[x].offerType+" | "+s+" <\/p> <p>"+n.results[x].pubShortDescription+'<\/p> <div class="viewButton"><a href='+n.results[x].pubURL+'  class="button">View The Webinar<\/a><\/div><\/div>'),f.push(e);u=$("<div class='moduleContent'> <\/div>");$("#prNetlineFeedWebCast").append(u);$(u).append(f)},error:function(n){console.log(n)}}),!1},netlineFeedSpecialReports=function(n){var t={offerType:"white paper",brand:NetlineBrandName};return $.ajax({url:DataApiSearchURL,type:"POST",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",headers:{Authorization:"Bearer "+n},success:function(n){var f=[],u,e,r,t,i,o,s;for(x=0;x<n.results.length;x++)r=new Date(n.results[x].startDate),t=r.getDate(),t<10&&(t="0"+t),i=r.getMonth()+1,i<10&&(i="0"+i),o=r.getFullYear(),s=i+"-"+t+"-"+o,e=$("<div class='storyContent'> ''<\/div>").html('<div class="thumbnail"><figure><a href='+n.results[x].pubURL+"><img src="+n.results[x].socialimgURL+' alt="" /><\/a><\/figure><\/div><div class="contentWrapper"> <h3><a href='+n.results[x].pubURL+">"+n.results[x].pubName+'<\/a><\/h3> <span class="byline"> <b> Sponsored By <\/b> '+n.results[x].publisher+"<\/span> <p>"+n.results[x].offerType+" | "+s+" <\/p> <p>"+n.results[x].pubShortDescription+'<\/p> <div class="viewButton"><a href='+n.results[x].pubURL+'  class="button" target="_blank">Download Resource<\/a><\/div><\/div>'),f.push(e);u=$("<div class='moduleContent'> <\/div>");$("#prNetlineFeedSpecialReports").append(u);$(u).append(f)},error:function(n){console.log(n)}}),!1};$(document).ready(function(){$("#viewPassword").click(function(){var n=document.getElementById("Password");n.type==="password"?(n.type="text",$("#viewPassword").addClass("form__block__togglePassword--visiblePassword")):(n.type="password",$("#viewPassword").removeClass("form__block__togglePassword--visiblePassword"))})});$(window).load(function(){function n(n){var t=n.item.count,i=n.item.index+1,u=n.page.size+n.item.index,r=i+"-"+u;$(n.target).prev(".item-count").length>0?$(n.target).prev(".item-count").html(r+" of "+t+" "):$(n.target).before("<div class='item-count' aria-hidden='true'> "+r+" of "+t+"<\/div>");n.item.index===0?$(n.target).addClass("hidePrev"):$(n.target).removeClass("hidePrev");$(n.target).find(".owl-item.active").length==1&&$(n.target).prev(".item-count").html(i+" of "+t+" ");n.type=="initialized"&&($(n.target).parents().hasClass("withHorizotalScroll--partnerContent")&&(sizeArticles($(n.target).find(".owl-item .storyContent h3")),sizeArticles($(n.target).find(".owl-item .storyContent .contentWrapper .summaryText"))),sizeArticles($(n.target).find(".owl-item .storyContent")),sizeArticles($(n.target).find(".owl-item .storyContent h3")),sizeArticles($(n.target).find(".owl-item .storyContent .h3")));sizeArticles($(".relatedArticleWithImage").find(".relatedArticleWithImage__content h3"))}setTimeout(function(){sizeArticles($(".advertLoaded .relatedArticleWithImage, .relatedArticleWithImage").find(".relatedArticleWithImage__content h3"))},3e3);$(".withHorizotalScroll .owl-carousel").owlCarousel({autoPlay:!1,navigation:!0,goToFirst:!1,lazyLoad:!0,items:4,rewind:!0,pagination:!1,onInitialized:n,onChanged:n,stagePadding:50,addClassActive:!0,itemElement:"LI",stageElement:"UL",responsive:{0:{items:1,stagePadding:20},768:{items:2,stagePadding:50},979:{items:3}},dots:!1,nav:!0});$(".withHorizotalScroll--backgroundImage .owl-carousel").owlCarousel({autoPlay:!1,navigation:!0,goToFirst:!1,lazyLoad:!0,items:3,stagePadding:0,rewind:!0,pagination:!1,onInitialized:n,onChanged:n,addClassActive:!0,itemElement:"LI",stageElement:"UL",responsive:{0:{items:1,stagePadding:0},768:{items:2,stagePadding:0},979:{items:3}},dots:!1,nav:!0});$(".withHorizotalScroll--partnerContent .owl-carousel").owlCarousel({autoPlay:!1,navigation:!0,goToFirst:!1,lazyLoad:!0,items:4,rewind:!0,stagePadding:50,pagination:!1,onInitialized:n,onChanged:n,addClassActive:!0,itemElement:"LI",stageElement:"UL",responsive:{0:{items:1,stagePadding:20},768:{items:2,stagePadding:50},979:{items:3}},dots:!1,nav:!0});$(".withHorizotalScroll--headlineImage .owl-carousel").owlCarousel({autoPlay:!1,navigation:!0,goToFirst:!1,lazyLoad:!0,items:4,rewind:!0,stagePadding:50,pagination:!1,onInitialized:n,onChanged:n,addClassActive:!0,itemElement:"LI",stageElement:"UL",responsive:{0:{items:1,stagePadding:20},768:{items:2,stagePadding:50},979:{items:3}},dots:!1,nav:!0});$(".withHorizotalScroll--headlinesOnly .owl-carousel").owlCarousel({autoPlay:!1,navigation:!0,goToFirst:!1,lazyLoad:!0,items:4,rewind:!0,stagePadding:50,pagination:!1,onInitialized:n,onChanged:n,addClassActive:!0,itemElement:"LI",stageElement:"UL",responsive:{0:{items:1,stagePadding:20},768:{items:2,stagePadding:50},979:{items:3}},dots:!1,nav:!0});$(".owl-nav button").attr("tabindex","-1");$(".owl-nav button").attr("aria-hidden","true")});$(function(){$(window).scroll(function(){var n=$(window).scrollTop(),t=$(window).height();$(".owl-carousel").each(function(){var t=$(this).offset().top,i=t+$(this).height();t<=n?$(this).addClass("animate__animated animate__pulse"):$(this).removeClass("animate__animated animate__pulse")})})});
sortableTableWithTab=function(){var n=$("#sortableTable_tabs .tabsList li > h4"),t;$(window).width()<768?n.first().removeClass("selected"):n.first().addClass("selected");t=[];$(".tabsContent").each(function(){t.push($(this))});n.click(function(){var i=$(this),f=n.index(i),r,u;$(window).width()<768?$(i).toggleClass("selected"):$(i).addClass("selected");n.not(i).removeClass("selected");$(".tabsContent").hide();r=t[f];u=$("#sortableTable_tabs .tabsList li > h4.selected");$(window).width()<768&&r.insertAfter(u);r.show()})};$(document).ready(function(){sortableTableWithTab()});
var SlideBox=function(){var t=this,i,n,u,r;for(t.slideHeaders=getElementByClass("slideHeaderAccordion"),t.slideBoxes=getElementByClass("slideBoxAccordion"),i=document.createElement("span"),i.className="toggle",i.innerHTML="Open",n=0;n<this.slideBoxes.length;n++)t.slideBoxes[n].setAttribute("data-height",t.slideBoxes[n].offsetHeight+"px"),t.slideBoxes[n].style.height=0;for(n=0;n<t.slideHeaders.length;n++)u=function(){for(var i=0;i<t.slideHeaders[n].childNodes.length;i++)if(t.slideHeaders[n].childNodes[i].className=="inner")return t.slideHeaders[n].childNodes[i];return t.slideHeaders[n]},r=u(),r.insertBefore(i.cloneNode(!0),r.firstChild);EventUtil.addHandler(this.slideHeaders,"click",function(){t.toggleBox(this)})};SlideBox.prototype.toggleBox=function(n){var t=n.nextElementSibling||$(n).next()[0],i=getElementByClass("toggle",n)[0],r=t.getAttribute("data-height"),u=parseInt(t.style.height);t.style.height=u?0:r;parseInt(t.style.height)==0?(i.innerHTML="Open",n.className=n.className.replace(" active","")):(i.innerHTML="Close",n.className=n.className+" active")};$(window).load(function(){var u=new SlideBox,n=window.location.hash,i,r,t;n==null||n=="undefined"||n==""||n.indexOf("/#")||(i=$(n+" .toggle"),i&&i.click());r=window.location.href;r.indexOf("/conditions")!=-1&&(t=r.split("/"),t[t.length-2]=="conditions"&&t[t.length-1].length==1&&$("#main .toggle").click());$('.slideBoxAccordion[data-height="0px"]').prev().addClass("no-content")});
/*! lazysizes - v5.3.2 */
!function(n){var t=function(n,t,i){"use strict";var e,r;if(function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};r=n.lazySizesConfig||n.lazysizesConfig||{};for(t in i)t in r||(r[t]=i[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:r,noSupport:!0};var s=t.documentElement,ot=n.HTMLPictureElement,h="addEventListener",u="getAttribute",o=n[h].bind(n),f=n.setTimeout,it=n.requestAnimationFrame||f,k=n.requestIdleCallback,rt=/^picture$/i,st=["load","error","lazyincluded","_lazyloaded"],p={},ht=Array.prototype.forEach,c=function(n,t){return p[t]||(p[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),p[t].test(n[u]("class")||"")&&p[t]},l=function(n,t){c(n,t)||n.setAttribute("class",(n[u]("class")||"").trim()+" "+t)},d=function(n,t){var i;(i=c(n,t))&&n.setAttribute("class",(n[u]("class")||"").replace(i," "))},g=function(n,t,i){var r=i?h:"removeEventListener";i&&g(n,t);st.forEach(function(i){n[r](i,t)})},a=function(n,i,r,u,f){var o=t.createEvent("Event");return r||(r={}),r.instance=e,o.initEvent(i,!u,!f),o.detail=r,n.dispatchEvent(o),o},nt=function(t,i){var f;!ot&&(f=n.picturefill||r.pf)?(i&&i.src&&!t[u]("srcset")&&t.setAttribute("srcset",i.src),f({reevaluate:!0,elements:[t]})):i&&i.src&&(t.src=i.src)},v=function(n,t){return(getComputedStyle(n,null)||{})[t]},ut=function(n,t,i){for(i=i||n.offsetWidth;i<r.minSize&&t&&!n._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},y=function(){var n,i,r=[],s=[],u=r,e=function(){var t=u;for(u=r.length?s:r,n=!0,i=!1;t.length;)t.shift()();n=!1},o=function(r,o){n&&!o?r.apply(this,arguments):(u.push(r),i||(i=!0,(t.hidden?f:it)(e)))};return o._lsFlush=e,o}(),w=function(n,t){return t?function(){y(n)}:function(){var t=this,i=arguments;y(function(){n.apply(t,i)})}},ct=function(n){var u,e=0,h=r.throttleDelay,t=r.ricTimeout,o=function(){u=!1;e=i.now();n()},s=k&&t>49?function(){k(o,{timeout:t});t!==r.ricTimeout&&(t=r.ricTimeout)}:w(function(){f(o)},!0);return function(n){var r;((n=n===!0)&&(t=33),u)||(u=!0,r=h-(i.now()-e),r<0&&(r=0),n||r<9?s():f(s,r))}},ft=function(n){var t,u,r=99,e=function(){t=null;n()},o=function(){var n=i.now()-u;n<r?f(o,r-n):(k||e)(e)};return function(){u=i.now();t||(t=f(o,r))}},et=function(){var pt,ut,kt,et,dt,gt,ni,ot,st,lt,at,wt,oi=/^img$/i,si=/^iframe$/i,hi="onscroll"in n&&!/(gle|ing)bot/.test(navigator.userAgent),ci=0,vt=0,b=0,k=-1,ti=function(n){b--;(!n||b<0||!n.target)&&(b=0)},ii=function(n){return wt==null&&(wt=v(t.body,"visibility")=="hidden"),wt||!(v(n.parentNode,"visibility")=="hidden"&&v(n,"visibility")=="hidden")},li=function(n,i){var u,r=n,f=ii(n);for(ot-=i,at+=i,st-=i,lt+=i;f&&(r=r.offsetParent)&&r!=t.body&&r!=s;)f=(v(r,"opacity")||1)>0,f&&v(r,"overflow")!="visible"&&(u=r.getBoundingClientRect(),f=lt>u.left&&st<u.right&&at>u.top-1&&ot<u.bottom+1);return f},ri=function(){var w,n,o,c,a,f,v,l,d,h,y,p,i=e.elements;if((et=r.loadMode)&&b<8&&(w=i.length)){for(n=0,k++;n<w;n++)if(i[n]&&!i[n]._lazyRace){if(!hi||e.prematureUnveil&&e.prematureUnveil(i[n])){yt(i[n]);continue}if((l=i[n][u]("data-expand"))&&(f=l*1)||(f=vt),h||(h=!r.expand||r.expand<1?s.clientHeight>500&&s.clientWidth>500?500:370:r.expand,e._defEx=h,y=h*r.expFactor,p=r.hFac,wt=null,vt<y&&b<1&&k>2&&et>2&&!t.hidden?(vt=y,k=0):vt=et>1&&k>1&&b<6?h:ci),d!==f&&(gt=innerWidth+f*p,ni=innerHeight+f,v=f*-1,d=f),o=i[n].getBoundingClientRect(),(at=o.bottom)>=v&&(ot=o.top)<=ni&&(lt=o.right)>=v*p&&(st=o.left)<=gt&&(at||lt||st||ot)&&(r.loadHidden||ii(i[n]))&&(ut&&b<3&&!l&&(et<3||k<4)||li(i[n],f))){if(yt(i[n]),a=!0,b>9)break}else!a&&ut&&!c&&b<4&&k<4&&et>2&&(pt[0]||r.preloadAfterLoad)&&(pt[0]||!l&&(at||lt||st||ot||i[n][u](r.sizesAttr)!="auto"))&&(c=pt[0]||i[n])}c&&!a&&yt(c)}},p=ct(ri),ui=function(n){var t=n.target;if(t._lazyCache){delete t._lazyCache;return}ti(n);l(t,r.loadedClass);d(t,r.loadingClass);g(t,fi);a(t,"lazyloaded")},ai=w(ui),fi=function(n){ai({target:n.target})},vi=function(n,t){var i=n.getAttribute("data-load-mode")||r.iframeLoadMode;i==0?n.contentWindow.location.replace(t):i==1&&(n.src=t)},yi=function(n){var t,i=n[u](r.srcsetAttr);(t=r.customMedia[n[u]("data-media")||n[u]("media")])&&n.setAttribute("media",t);i&&n.setAttribute("srcset",i)},pi=w(function(n,t,i,e,o){var s,h,v,c,p,w;(p=a(n,"lazybeforeunveil",t)).defaultPrevented||(e&&(i?l(n,r.autosizesClass):n.setAttribute("sizes",e)),h=n[u](r.srcsetAttr),s=n[u](r.srcAttr),o&&(v=n.parentNode,c=v&&rt.test(v.nodeName||"")),w=t.firesLoad||"src"in n&&(h||s||c),p={target:n},l(n,r.loadingClass),w&&(clearTimeout(kt),kt=f(ti,2500),g(n,fi,!0)),c&&ht.call(v.getElementsByTagName("source"),yi),h?n.setAttribute("srcset",h):s&&!c&&(si.test(n.nodeName)?vi(n,s):n.src=s),o&&(h||c)&&nt(n,{src:s}));n._lazyRace&&delete n._lazyRace;d(n,r.lazyClass);y(function(){var t=n.complete&&n.naturalWidth>1;(!w||t)&&(t&&l(n,r.fastLoadedClass),ui(p),n._lazyCache=!0,f(function(){"_lazyCache"in n&&delete n._lazyCache},9));n.loading=="lazy"&&b--},!0)}),yt=function(n){if(!n._lazyRace){var f,t=oi.test(n.nodeName),e=t&&(n[u](r.sizesAttr)||n[u]("sizes")),i=e=="auto";(i||!ut)&&t&&(n[u]("src")||n.srcset)&&!n.complete&&!c(n,r.errorClass)&&c(n,r.lazyClass)||(f=a(n,"lazyunveilread").detail,i&&tt.updateElem(n,!0,n.offsetWidth),n._lazyRace=!0,b++,pi(n,f,i,e,t))}},wi=ft(function(){r.loadMode=3;p()}),ei=function(){r.loadMode==3&&(r.loadMode=2);wi()},bt=function(){if(!ut){if(i.now()-dt<999){f(bt,999);return}ut=!0;r.loadMode=3;p();o("scroll",ei,!0)}};return{_:function(){dt=i.now();e.elements=t.getElementsByClassName(r.lazyClass);pt=t.getElementsByClassName(r.lazyClass+" "+r.preloadClass);o("scroll",p,!0);o("resize",p,!0);o("pageshow",function(n){if(n.persisted){var i=t.querySelectorAll("."+r.loadingClass);i.length&&i.forEach&&it(function(){i.forEach(function(n){n.complete&&yt(n)})})}});n.MutationObserver?new MutationObserver(p).observe(s,{childList:!0,subtree:!0,attributes:!0}):(s[h]("DOMNodeInserted",p,!0),s[h]("DOMAttrModified",p,!0),setInterval(p,999));o("hashchange",p,!0);["focus","mouseover","click","load","transitionend","animationend"].forEach(function(n){t[h](n,p,!0)});/d$|^c/.test(t.readyState)?bt():(o("load",bt),t[h]("DOMContentLoaded",p),f(bt,2e4));e.elements.length?(ri(),y._lsFlush()):p()},checkElems:p,unveil:yt,_aLSL:ei}}(),tt=function(){var n,f=w(function(n,t,i,r){var f,u,e;if(n._lazysizesWidth=r,r+="px",n.setAttribute("sizes",r),rt.test(t.nodeName||""))for(f=t.getElementsByTagName("source"),u=0,e=f.length;u<e;u++)f[u].setAttribute("sizes",r);i.detail.dataAttr||nt(n,i.detail)}),i=function(n,t,i){var r,u=n.parentNode;u&&(i=ut(n,u,i),r=a(n,"lazybeforesizes",{width:i,dataAttr:!!t}),r.defaultPrevented||(i=r.detail.width,i&&i!==n._lazysizesWidth&&f(n,u,r,i)))},e=function(){var t,r=n.length;if(r)for(t=0;t<r;t++)i(n[t])},u=ft(e);return{_:function(){n=t.getElementsByClassName(r.autosizesClass);o("resize",u)},checkElems:u,updateElem:i}}(),b=function(){!b.i&&t.getElementsByClassName&&(b.i=!0,tt._(),et._())};return f(function(){r.init&&b()}),e={cfg:r,autoSizer:tt,loader:et,init:b,uP:nt,aC:l,rC:d,hC:c,fire:a,gW:ut,rAF:y}}(n,n.document,Date);n.lazySizes=t;"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});
