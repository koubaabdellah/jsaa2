(window.salesJsonp=window.salesJsonp||[]).push([[101],{uJNQ:function(e,t,a){"use strict";a.r(t);var r,n,s,i=a("TRZx"),o=a.n(i),c=a("Bhuq"),l=a.n(c),u=a("SqZg"),d=a.n(u),p=a("Z7t5"),m=a.n(p),h=a("hfKm"),f=a.n(h),v=a("2Eek"),y=a.n(v),g=a("XoMD"),b=a.n(g),N=a("Jo+v"),C=a.n(N),S=a("4mXO"),E=a.n(S),w=a("pLtp"),x=a.n(w),k=a("pbKT"),L=a.n(k),T=a("eVuF"),D=a.n(T),R=a("9Jkg"),A=a.n(R),F=a("/HRN"),O=a.n(F),B=a("WaGi"),M=a.n(B),U=a("K47E"),_=a.n(U),I=a("N9n2"),q=a.n(I),P=a("ZDA2"),j=a.n(P),W=a("/+P4"),z=a.n(W),V=a("xHqa"),K=a.n(V),G=a("q1tI");!function(e){e.RESUME="resume_service",e.SUSPEND="suspend_service",e.CANCEL="cancel_service",e.DEFAULT="default"}(r||(r={})),function(e){e.DEFAULT="Default",e.REVIEW="Review",e.SUCCESS="Success"}(n||(n={})),function(e){e.SUSPEND="Suspend",e.RESUME="Resume"}(s||(s={}));var H=a("krMs"),J=a("X5Wz"),Z=a.n(J),X=a("588m"),Y=a.n(X),Q=a("2uZB"),$=a("di5+"),ee=a("tW8+"),te=a("vAB6"),ae=a("l4Fd"),re=a("LjLF"),ne=a("gvb+"),se=a("0/lx"),ie=a("B1Rh"),oe=a("SeuN"),ce=a.n(oe),le=G.createElement;function ue(){ue=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof m.a?m.a:{},n=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,a){return f()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,a){return e[t]=a}}function u(e,t,a,r){var n=t&&t.prototype instanceof v?t:v,s=d()(n.prototype),i=new T(r||[]);return s._invoke=function(e,t,a){var r="suspendedStart";return function(n,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw s;return A()}for(a.method=n,a.arg=s;;){var i=a.delegate;if(i){var o=x(i,a);if(o){if(o===h)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=p(e,t,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}(e,a,i),s}function p(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(F){return{type:"throw",arg:F}}}e.wrap=u;var h={};function v(){}function y(){}function g(){}var b={};c(b,n,(function(){return this}));var N=l.a,C=N&&N(N(R([])));C&&C!==t&&a.call(C,n)&&(b=C);var S=g.prototype=v.prototype=d()(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(n,s){function i(){return new t((function(r,i){!function r(n,s,i,o){var c=p(e[n],e,s);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,o)}),(function(e){r("throw",e,i,o)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,o)}))}o(c.arg)}(n,s,r,i)}))}return r=r?r.then(i,i):i()}}function x(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=p(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function R(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:A}}function A(){return{value:void 0,done:!0}}return y.prototype=g,c(S,"constructor",g),c(g,"constructor",y),y.displayName=c(g,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return o.a?o()(e,g):(e.__proto__=g,c(e,i,"GeneratorFunction")),e.prototype=d()(S),e},e.awrap=function(e){return{__await:e}},E(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,a,r,n,s){void 0===s&&(s=D.a);var i=new w(u(t,a,r,n),s);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(S),c(S,i,"Generator"),c(S,n,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return i.type="throw",i.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var o=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(o&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),L(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;L(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:R(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),h}},e}function de(e,t){var a=x()(e);if(E.a){var r=E()(e);t&&(r=r.filter((function(t){return C()(e,t).enumerable}))),a.push.apply(a,r)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){K()(e,t,a[t])})):b.a?y()(e,b()(a)):de(Object(a)).forEach((function(t){f()(e,t,C()(a,t))}))}return e}function me(e){var t=function(){if("undefined"===typeof Reflect||!L.a)return!1;if(L.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(L()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=z()(e);if(t){var n=z()(this).constructor;a=L()(r,arguments,n)}else a=r.apply(this,arguments);return j()(this,a)}}var he=function(e){q()(a,e);var t=me(a);function a(e){var i;return O()(this,a),i=t.call(this,e),K()(_()(i),"waiverFormRef",void 0),K()(_()(i),"listIems",void 0),K()(_()(i),"activeCtn",void 0),K()(_()(i),"activeLines",void 0),K()(_()(i),"count",void 0),K()(_()(i),"toggleAccordion",(function(e){e.currentTarget.parentElement.classList.contains(te.active)?e.currentTarget.parentElement.classList.remove(te.active):e.currentTarget.parentElement.classList.add(te.active)})),K()(_()(i),"getResumeSuspendServices",(function(e){var t=i.props,a=t.data,r=t.options,o=i.state,c=e.map((function(e,t){return le("div",{className:"flex flex-wrap flex-column ".concat(te.accordion)},le("div",{className:te.accordionHeading,onClick:i.toggleAccordion},le(Q.a,{data:{isDecodingRequired:!1,text:e.name+"<div class='type-sm'>Acct #"+e.productKey+"</div>"},options:{className:"font-medium color-ui-black type-base  pad-t-xxs",size:ee.a.NONE,tag:ee.b.div}}),le("span",{className:te.arrow})),le("div",{id:"service_".concat(t),className:te.accordionContent},le(Q.a,{data:{isDecodingRequired:!1,text:e.description},options:{className:"font-regular color-ui-black type-base ",size:ee.a.NONE,tag:ee.b.div}}),le("div",{className:"form-row mar-t-xs"},le("label",{htmlFor:e.product,className:"checkbox inline-flex flex-items-top ".concat(te.customCheckbox)},le("input",{type:"checkbox","data-service":t,onChange:i.onCheckboxStateChange,id:e.product}),le("div",{className:"checkbox-skin"}),le("span",{className:"font-regular type-sm","aria-hidden":"true"},o.serviceActionType+" "+e.name))),le(Q.a,{data:{isDecodingRequired:!1,text:e.selectionNotes},options:{className:"bg-ui-background-gray ".concat(te.notes),size:ee.a.NONE,tag:ee.b.div}})))})),l=e.map((function(e,t){if(""!=e.action)return le("div",{className:"flex"},le(Q.a,{data:{isDecodingRequired:!1,text:e.name+"<div class='type-sm'>Acct #"+e.productKey+"</div>"},options:{className:"font-regular color-ui-black type-base no-pad grid-col-6",size:ee.a.NONE,tag:ee.b.div}}),le(Q.a,{data:{isDecodingRequired:!1,text:e.charges},options:{className:"font-regular color-ui-black type-sm text-right no-pad grid-col-6",size:ee.a.NONE,tag:ee.b.div}}))}));return le(G.Fragment,null,o.serviceScreen==n.DEFAULT&&le(G.Fragment,null,le("div",{className:te.accordionWrapper},c),le(Q.a,{data:{isDecodingRequired:!1,text:a.disclaimerCopy},options:{className:"font-medium type-xs pad-t-xs",size:ee.a.NONE,tag:ee.b.div}})),(o.serviceScreen==n.REVIEW||o.serviceScreen==n.SUCCESS)&&le(G.Fragment,null,l.length>0&&le(G.Fragment,null,le(Q.a,{data:{isDecodingRequired:!1,text:o.serviceActionType===s.RESUME?o.serviceScreen==n.REVIEW?a.reviewSreenData.activatingServiceMsg:a.successSreenData.activatingServiceMsg:o.serviceScreen==n.REVIEW?a.reviewSreenData.suspendingServiceMsg:a.successSreenData.suspendingServiceMsg},options:{className:"font-medium color-ui-black type-base mar-b-xxxs",size:ee.a.NONE,tag:ee.b.div}}),le("div",{className:"border border-bottom border-left border-right"},l))),o.serviceScreen==n.REVIEW&&le(G.Fragment,null,le(Q.a,{data:{isDecodingRequired:!1,text:a.reviewSreenData.notes},options:{className:"font-medium color-ui-black type-sm bg-ui-background-gray pad-xxs",size:ee.a.NONE,tag:ee.b.div}}),le(Q.a,{data:{isDecodingRequired:!1,text:a.reviewSreenData.copy},options:{className:"font-regular color-ui-black type-sm",size:ee.a.NONE,tag:ee.b.div}})),!o.hideCtas&&i.getFormCtas(),o.serviceScreen==n.DEFAULT&&le(ie.a,{data:{cta:a.submitCtaLabel,ctaUrl:a.submitCtaUrl,copy:a.copy,legalPath:a.legalPath},options:{className:"",ctaAnchorClass:Object(ne.getDerivedValueAtWidth)({Infinity:"btn-secondary btn-arrow test",1024:"btn-secondary btn-arrow",767:"btn-secondary btn-arrow btn-full-width"},r.breakpoint),ctaClass:Object(ne.getDerivedValueAtWidth)({Infinity:"mar-r-sm flex test",1024:"mar-r-sm flex"},r.breakpoint),copyClass:"font-regular type-sm pad-t-lg",copyTag:ee.b.div,id:"".concat(r.id)}}),o.serviceScreen==n.SUCCESS&&le(G.Fragment,null,le(Q.a,{data:{isDecodingRequired:!1,text:a.successSreenData.copy},options:{className:"font-bold color-ui-black type-md text-center mar-xxxs",size:ee.a.NONE,tag:ee.b.div}}),le("div",{className:"flex flex-wrap justify-center pad-t-sm ".concat(te.moreDetails)},le("div",{className:te.card},le("div",{className:te.iconWrapper},le("img",{className:te.icon,src:a.successSreenData.cardIcon1})),le("div",{className:te.cardCopy},a.successSreenData.cardCopy1," "),le(H.a,{data:{content:a.successSreenData.ctaLabel1,href:a.successSreenData.ctaUrl1},options:{anchorClass:"btn-small btn-primary-2 btn-full-width",className:te.cardCta},title:a.successSreenData.ctaLabel1})),le("div",{className:te.card},le("div",{className:te.iconWrapper},le("img",{className:te.icon,src:a.successSreenData.cardIcon2})),le("div",{className:te.cardCopy},a.successSreenData.cardCopy2," "),le(H.a,{data:{content:a.successSreenData.ctaLabel2,href:a.successSreenData.ctaUrl2},options:{anchorClass:"btn-small btn-primary-2 btn-full-width",className:te.cardCta},title:a.successSreenData.ctaLabel2})))))})),K()(_()(i),"getCancelServices",(function(e){i.state;i.count=0;var t=e.map((function(e,t){var a;return e.linesToCancel=[],i.activeLines=[],i.activeCtn=!1,e.ctn&&(a=e.ctn)&&0!=a.length&&(i.listIems=a.map((function(t,a){return"A"==t.status&&(i.activeCtn=!0,i.activeLines.push(t.ctn),le("li",null,le(ce.a,{data:{text:t.ctn,value:!1},events:{onCheckboxChange:function(a){if(1==a.payload){e.changed=!0,e.linesToCancel.push(t.ctn);var r=document.querySelectorAll(".childCheck"),n=document.querySelectorAll(".childCheck:checked");r.length==n.length&&(document.getElementsByClassName("rootCheck")[0].checked=!0),void 0!=(i=document.getElementsByClassName("rootCheck")[0].parentElement.parentElement.nextElementSibling)&&(i.classList.remove(te.hide),i.classList.add(te.show)),document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.show),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.hide)}else{var s=e.linesToCancel.indexOf(t.ctn);-1!==s&&e.linesToCancel.splice(s,1);var i;r=document.querySelectorAll(".childCheck"),n=document.querySelectorAll(".childCheck:checked");if(r.length!=n.length&&(document.getElementsByClassName("rootCheck")[0].checked=!1),0==n.length)e.changed=!1,void 0!=(i=document.getElementsByClassName("rootCheck")[0].parentElement.parentElement.nextElementSibling)&&(i.classList.remove(te.show),i.classList.add(te.hide)),0==document.querySelectorAll(".otherCheck:checked").length&&(document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.hide),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.show))}}},options:{classNames:{customCheckboxInput:"childCheck"},accessibility:"Select "+t.ctn}})))}))),le(G.Fragment,null,a&&0!=a.length&&!0===i.activeCtn&&le(G.Fragment,null,le("li",null,le(ce.a,{data:{text:e.name,value:!1},events:{onCheckboxChange:function(a){var r=document.querySelectorAll(".childCheck");if(1==a.payload){e.changed=!0,e.linesToCancel=[],i.activeLines.forEach((function(t){e.linesToCancel.push(t)}));for(var n=0;n<r.length;n++)r[n].checked=!0;document.getElementById("cancel_"+t).classList.remove(te.hide),document.getElementById("cancel_"+t).classList.add(te.show),document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.show),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.hide)}else{for(n=0;n<r.length;n++)r[n].checked=!1;0==document.querySelectorAll(".childCheck:checked").length&&(e.linesToCancel=[],e.changed=!1),document.getElementById("cancel_"+t).classList.remove(te.show),document.getElementById("cancel_"+t).classList.add(te.hide),0==document.querySelectorAll(".otherCheck:checked").length&&(document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.hide),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.show))}}},options:{classNames:{customCheckboxInput:"rootCheck"},accessibility:"Select "+e.name},testId:"rootCheck"}),le("ul",null,i.listIems))),1==e.display&&!a&&le(G.Fragment,null,le("li",null,le(ce.a,{data:{text:e.name,value:!1},events:{onCheckboxChange:function(a){if(1==a.payload)e.changed=!0,document.getElementById("cancel_"+t).classList.remove(te.hide),document.getElementById("cancel_"+t).classList.add(te.show),document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.show),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.hide);else{e.changed=!1,document.getElementById("cancel_"+t).classList.remove(te.show),document.getElementById("cancel_"+t).classList.add(te.hide);var r=document.querySelectorAll(".childCheck:checked"),n=document.querySelectorAll(".otherCheck:checked");0==r.length&&0==n.length&&(document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.hide),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.show))}}},options:{classNames:{customCheckboxInput:"otherCheck"},accessibility:"Select "+e.name}}))),le("div",{id:"cancel_".concat(t),className:te.hide},le(G.Fragment,null,"  ",le("li",null," ",le(Q.a,{data:{isDecodingRequired:!1,text:e.description},options:{className:"font-regular color-ui-black type-sm bg-ui-background-gray pad-t-xs pad-b-xs pad-r-xs pad-l-xs mar-t-xs mar-b-lg",size:ee.a.NONE,tag:ee.b.div}})))))}));return le(G.Fragment,null,le("div",{className:"flex flex-wrap flex-column"},le("ul",{className:te.checkboxList}," ",t)),i.getFormCtas())})),K()(_()(i),"getDefaultServices",(function(e){var t=i.props.data;return e.map((function(e,a){return le("div",{key:a},le("div",{className:"flex"},le("div",{className:"mar-r-xs"},le("img",{src:t.defaultIcon,alt:"service icon"})),le(Q.a,{data:{isDecodingRequired:!1,text:e},options:{className:"font-medium color-ui-black type-base",size:ee.a.NONE}})))}))})),K()(_()(i),"buildState",(function(e){var t={label:"",url:"",event:"",anchorClass:"",className:"",disabled:!1},a=e.data.formType==r.RESUME?s.RESUME:s.SUSPEND;return{bannerCopy:"",bannerCta:"",bannerCtaUrl:"",bannerMsgType:"",description:e.data.description,formType:"",showSpinner:!1,hideForm:!1,noService:!1,profileCallFail:!1,profileData:{firstName:"",lastName:"",emailAddress:"",phoneNumber:"",slid:""},services:[],submitFailure:!1,showBanner:!1,cta1:t,disableCta1:!1,disableCta2:!1,serviceScreen:"Default",cta2:t,hideCtas:!1,serviceActionType:a,disabledStatus:!1}})),i.state=pe({},i.buildState(e)),i.waiverFormRef=G.createRef(),i.submitDataToApi=i.submitDataToApi.bind(_()(i)),i.onCheckboxStateChange=i.onCheckboxStateChange.bind(_()(i)),i}return M()(a,[{key:"componentDidMount",value:function(){this.getLoginStatus(this.props.data)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.options,s=this.state;return le("div",{className:n.container,id:n.id,ref:this.waiverFormRef},s.showSpinner&&le(Y.a,{data:{usrDefMsg:""},options:{showOverlay:!0,isFixed:!0}}),s.showBanner&&this.getErrorBanner(s.bannerMsgType,s.bannerCopy,s.bannerCta,s.bannerCtaUrl),!s.hideForm&&le(G.Fragment,null,le("div",{className:n.rowClass},le("div",{className:n.className+" "+Object(ne.getDerivedValueAtWidth)(n.paddingClass,n.breakpoint)},le(G.Fragment,null,le(Q.a,{data:{isDecodingRequired:!1,text:s.description},options:{className:n.labelClass,size:ee.a.NONE,tag:ee.b.p}}),le("div",{className:te.servicesWrapper},this.getServices(s.formType)),s.formType!==r.RESUME&&s.formType!==r.SUSPEND&&le(G.Fragment,null,le("div",null,le(Q.a,{data:{isDecodingRequired:!1,text:a.copy},options:{className:"font-medium type-xs",size:ee.a.NONE,tag:ee.b.span}})),le($.default,{data:pe({},a),options:{breakpoint:n.breakpoint,className:"font-medium type-xs color-ui-black"}}),le("div",{className:"flex justify-center mar-b-sm"},le("p",{className:te.errorMsg+" "+te.hide},"Please select atleast one service to proceed")),le("div",{className:Object(ne.getDerivedValueAtWidth)(n.ctaPosClass,n.breakpoint)},s.formType==r.CANCEL?le(G.Fragment,null,le("div",null,le(H.a,{data:{content:a.submitCtaLabel,href:"javascript:void(0)"},events:{onClick:function(){var t=0;s.services.map((function(e,a){1==e.changed&&t++})),0==t?(document.getElementsByClassName(te.errorMsg)[0].classList.remove(te.hide),document.getElementsByClassName(te.errorMsg)[0].classList.add(te.show)):e.submitDataToApi()}},options:{anchorClass:"btn btn-primary-2",className:"pad-t-sm mar-r-sm cancelCta"},testId:n.id+"_Submit",title:"Submit"}))):le(H.a,{data:{content:a.submitCtaLabel,href:"javascript:void(0)"},events:{onClick:function(){e.submitDataToApi()}},options:{anchorClass:"btn btn-primary-2",className:"pad-t-sm mar-r-sm"},testId:n.id+"_Submit",title:"Submit"}))))))))}},{key:"onCheckboxStateChange",value:function(e){var t=e.currentTarget.getAttribute("data-service");e.currentTarget.checked?(this.state.services[t].action=this.state.serviceActionType,document.getElementById("service_"+t).classList.add(te.showNotes)):(this.state.services[t].action="",document.getElementById("service_"+t).classList.remove(te.showNotes));var a=!0;this.state.services.map((function(e,t){""!=e.action&&(a=!1)})),this.setState({disableCta1:a})}},{key:"getFormCtas",value:function(){var e=this,t=this.props.data,a=this.props.options,s=this.state;return le(G.Fragment,null,le(H.a,{data:{content:s.cta2.label,href:s.cta2.url},events:{onClick:function(){s.cta2.event}},options:{anchorClass:s.cta2.anchorClass,className:"pad-t-sm mar-r-sm",disabled:s.disableCta2},testId:a.id+"_"+s.cta2.label.replace(/\s+/g,""),title:s.cta2.label}),le(H.a,{data:{content:s.cta1.label,href:s.cta1.url},events:{onClick:function(){if(s.formType==r.RESUME||s.formType==r.SUSPEND){if(s.serviceScreen==n.DEFAULT){var a={label:t.reviewSreenData.ctaLabel1,url:"javascript:void(0)",anchorClass:"btn btn-primary-2"},i={label:t.reviewSreenData.ctaLabel2,url:t.reviewSreenData.ctaUrl2,anchorClass:"link-text3 solo"};e.setState({description:t.reviewSreenData.description,cta1:a,cta2:i,serviceScreen:n.REVIEW})}else s.serviceScreen==n.REVIEW&&e.submitDataToApi();e.waiverFormRef.current.scrollIntoView()}}},options:{anchorClass:s.cta1.anchorClass,className:"pad-t-sm mar-r-sm",disabled:s.disableCta1},testId:a.id+"_"+s.cta1.label.replace(/\s+/g,""),title:s.cta2.label}))}},{key:"getServices",value:function(e){switch(e){case r.DEFAULT:return this.getDefaultServices(this.state.services);case r.RESUME:case r.SUSPEND:return this.getResumeSuspendServices(this.state.services);case r.CANCEL:return this.getCancelServices(this.state.services);default:return null}}},{key:"getErrorBanner",value:function(e,t,a,r){var n=this.props,s=n.options,i=n.data,o=e===se.MessageType.ERROR?"mar-t-sm mar-b-sm mar-r-xs mar-l-xs":"mar-t-sm mar-r-xs mar-l-xs";return le(Z.a,{data:{type:e},options:{closeButton:!1,className:{messageParentClass:o}}},le(G.Fragment,null,le(Q.a,{data:{isDecodingRequired:!1,text:t},options:{className:s.labelClass,size:ee.a.NONE,tag:ee.b.p}}),a&&r&&le(H.a,{data:{content:a,href:r},options:{analytics:Object(ne.getDerivedValueAtWidth)(i.analytics,s.breakpoint),anchorClass:"font-medium"},testId:s.id+"_ErrorBannerCta"})))}},{key:"submitDataToApi",value:function(){var e=this;this.setState({showSpinner:!0});var t=this.props.data,a=this.state,n={};n.requestType=t.requestType;var s=t.eventCode||"UF_Waiver_Request_Submit",i=new re.a,o={errorType:"Success_Admit",linkDestinationUrl:t.submitApi,linkName:t.submitCtaLabel,linkPosition:"body"};i.fireEmailAction(o,"formSubmit",s);var c=t.submitApi,l=new ae.Networker,u={};if(u.headers=new Headers,u.headers.set("content-type","application/json"),u.headers.set("X-Requested-By","ATT"),a.formType==r.RESUME||a.formType==r.SUSPEND){var d=[];a.services.map((function(e,t){e.action==a.serviceActionType&&d.push({product:e.product,productOptions:""!==e.productOption?e.productOption.split("_"):[],productKey:e.productKey,action:e.action})})),n.requestType=t.requestType,n.accounts=d}else if(a.formType==r.CANCEL){var p=[];a.services.map((function(e,t){1==e.changed&&p.push({product:e.product,productOptions:e.productOption,productKey:e.productKey,action:"cancel",ctn:0!=e.linesToCancel.length?e.linesToCancel:void 0})})),n.requestType=t.requestType,n.accounts=p}l.post(c,A()(n),u).then((function(n){return ue().async((function(c){for(;;)switch(c.prev=c.next){case 0:if(200!==n.status){c.next=9;break}return o.statusCode="0",o.statusMessage="SUCCESS",o.successFlag="1",i.fireEmailAction(o,"formResponse",s),a.formType==r.RESUME||a.formType==r.SUSPEND?e.setState({hideCtas:!0,description:t.successSreenData.description,serviceScreen:"Success",showSpinner:!1}):(a.formType,r.CANCEL,window.location.href=t.submitCtaUrl),c.abrupt("return",n.json());case 9:return o.errorType="Failure_System",o.statusCode=n.status,o.statusMessage=t.submitFailureMsg,o.successFlag="0",i.fireEmailAction(o,"formResponse",s),e.waiverFormRef&&e.waiverFormRef.current.scrollIntoView(),e.setState({showSpinner:!1,showBanner:!0,bannerCopy:t.submitFailureMsg,bannerMsgType:se.MessageType.ERROR}),c.abrupt("return",!1);case 16:case"end":return c.stop()}}),null,null,null,D.a)}))}},{key:"getLoginStatus",value:function(e){var t=this;this.setState({showSpinner:!0});var a=e.loginApi,r=new ae.Networker,n={};n.headers=new Headers,n.headers.set("Access-Control-Allow-Origin","*"),r.get(a,n).then((function(e){return ue().async((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.status){t.next=4;break}return t.abrupt("return",e.json());case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),null,null,null,D.a)})).then((function(a){a&&"DONE"===a.content.destinationPage?t.getProfileServiceData(e):window.location.href=e.loginUrl})).catch((function(a){t.setState({hideForm:!0,showBanner:!0,bannerMsgType:se.MessageType.ERROR,bannerCopy:e.errorBannerCopy,bannerCta:e.errorBannerCta,bannerCtaUrl:e.errorBannerCtaUrl,showSpinner:!1})}))}},{key:"getProfileServiceData",value:function(e){var t=this,a=e.api,n=(this.state,new ae.Networker),s={};s.headers=new Headers,s.headers.set("Access-Control-Allow-Origin","*"),n.get(a,s).then((function(e){return ue().async((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.status){t.next=4;break}return t.abrupt("return",e.json());case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),null,null,null,D.a)})).then((function(a){if(!a)return t.setState({hideForm:!0,showBanner:!0,bannerMsgType:se.MessageType.ERROR,bannerCopy:e.errorBannerCopy,bannerCta:e.errorBannerCta,bannerCtaUrl:e.errorBannerCtaUrl,showSpinner:!1}),!1;var n=pe(pe({},t.state.profileData),a.user),s=[];if(a.services&&a.services.length>0){if(e.formType==r.RESUME||e.formType==r.SUSPEND){var i={label:e.ctaLabel1,url:"javascript:void(0)",anchorClass:"btn btn-primary-2"},o={label:e.ctaLabel2,url:e.ctaUrl2,anchorClass:"link-text3 solo"};a.services.map((function(t,a){var r="",n=""!=t.productOption?t.product+"_"+t.productOption:t.product,i="",o="",c="",l="";e.friendlyNames[n]&&e.friendlyNames[n].display&&e.friendlyNames[n].friendlyName&&("UVERSE"===t.product?(n=t.product,r=e.friendlyNames[n].friendlyName,o=e.friendlyNames[n].description,c=e.friendlyNames[n].charges,l=e.friendlyNames[n].selectionNotes,t.uverseProductOptions&&t.uverseProductOptions.map((function(a,n){var s=t.product+"_"+a;i+=(0!=n?"_":"")+a,o+=e.friendlyNames[s].description,c+=e.friendlyNames[s].charges,r+=(0!=n?" + ":" ")+e.friendlyNames[s].friendlyName,l+=e.friendlyNames[s].selectionNotes}))):(r=e.friendlyNames[n].friendlyName,o=e.friendlyNames[n].description,c=e.friendlyNames[n].charges,i=t.productOption,l=e.friendlyNames[n].selectionNotes,n=t.productOption?t.product+"_"+t.productOption:t.product),s.push({action:"",name:r,product:t.product,productKey:t.productKey,productOption:i,description:o,service:t.service,charges:c,selectionNotes:l}))})),t.setState({disableCta1:!0,cta1:i,cta2:o,formType:e.formType,services:s,showSpinner:!1})}else e.formType===r.CANCEL?(a.services.map((function(t,a){var r="",n=t.productOption?t.product+"_"+t.productOption:t.product,i=[];e.friendlyNames[n]&&e.friendlyNames[n].display&&e.friendlyNames[n].friendlyName&&(r=e.friendlyNames[n].friendlyName,null!=t.productOption?i.push(t.productOption):i=[""],s.push({changed:!1,name:r,product:t.product,productKey:t.productKey,productOption:i,description:e.friendlyNames[n].description,service:t.service,charges:e.friendlyNames[n].charges,selectionNotes:e.friendlyNames[n].selectionNotes,ctn:t.ctn,display:e.friendlyNames[n].display}))})),t.setState({formType:r.CANCEL,services:s,showSpinner:!1})):(a.services.map((function(t,a){var r=t.productOption?t.product+"_"+t.productOption:t.product;e.friendlyNames[r]&&e.friendlyNames[r].display&&e.friendlyNames[r].friendlyName&&s.push(e.friendlyNames[r].friendlyName)})),t.setState({formType:r.DEFAULT}));var c=!(s.length>0),l=t.state.description;l=l.replace("[user]",n.firstName).replace("[last]",n.lastName).replace("[email]",n.emailAddress).replace("[phone]",n.phoneNumber).replace("[slid]",n.slid.replace("@slid.dum","")),c&&t.setState({hideForm:!0,showBanner:!0,bannerMsgType:se.MessageType.INFO,bannerCopy:e.noServiceMsg}),t.setState({description:l,profileData:n,services:s,showSpinner:!1})}else t.setState({hideForm:!0,showBanner:!0,bannerMsgType:se.MessageType.INFO,bannerCopy:e.noServiceMsg,showSpinner:!1})})).catch((function(a){t.setState({hideForm:!0,showBanner:!0,bannerMsgType:se.MessageType.ERROR,bannerCopy:e.errorBannerCopy,bannerCta:e.errorBannerCta,bannerCtaUrl:e.errorBannerCtaUrl,showSpinner:!1})}))}}]),a}(G.PureComponent);t.default=he}}]);