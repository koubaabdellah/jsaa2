var module_47933862916=function(){var masterOptions,__hs_messages={};i18n_getmessage=function(){return hs_i18n_getMessage(__hs_messages,hsVars.language,arguments)},i18n_getlanguage=function(){return hsVars.language};var daySearch="",tagCollect=[],activeTags=[],currDate="day1",currDiff=0,timeDiffSl=0;function matchCardTagsWithActiveTags(){$(".card:visible").each((function(){var thisCardTags=$(this).attr("data-tags").split(",").map((function(x){return x.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")}));arraysAreEqual(activeTags,thisCardTags)||0===activeTags.length?$(this).show():$(this).hide()})),$(".js-cat-descrip").each((function(){let thisCatId=$(this).attr("id");arraysAreEqual(activeTags,thisCatId)?$(this).slideDown():$(this).slideUp()})),0===$(".card:visible").length?$("#noResults").show():$("#noResults").css("display","none")}$(window).resize((function(){$(window).width()<768?($(".form-check").addClass("form-check-inline"),$("#timeZoneFilter").appendTo("#filtersBody"),$("#allFiltersInside").appendTo("#filtersBody"),$("#timeFiltersInside").appendTo("#filtersBody")):($(".form-check").removeClass("form-check-inline"),$("#timeZoneFilter").prependTo("#topFilter"),$("#timeFiltersInside").appendTo("#allFilters"),$("#allFiltersInside").appendTo("#allFilters"),$("#filterModalCenter").modal("hide"))})),$(document).ready((function(){$(".stages-check + label:before").css("border-color","#a05"),$("<style>.agenda-new-module .btn-primary:nth-child(odd) {background:"+$("#colorDays").css("color")+"; border:none;}</style>").appendTo("head"),$("<style>.agenda-new-module .btn-primary:nth-child(even) {background: "+$("#colorDays").css("color")+"; border:none;}</style>").appendTo("head"),$("<style>.agenda-new-module .btn-primary.active {background: "+$("#colorDaysActive").css("color")+"!important; border:none;}</style>").appendTo("head");var time=new Date,timeZone=moment.tz.guess(),timeZoneOffset=time.getTimezoneOffset(),timeZoneAbbr=moment.tz.zone(timeZone).abbr(timeZoneOffset),res=(timeZoneOffset/-60).toString().replace(".5",".3");$(".timezonetoggle").attr("data-localtimediff",res),timeDiffSl=timeZoneOffset/-60,$(".timezonetoggle").attr("data-localtimeid",timeZoneAbbr),$("#localCITY")[0].innerText=timeZone.split("/")[1],$(window).width()<768&&($(".form-check").addClass("form-check-inline"),$("#timeZoneFilter").appendTo("#filtersBody"),$("#allFiltersInside").appendTo("#filtersBody"),$("#timeFiltersInside").appendTo("#filtersBody")),$(window).width()>=768&&($("#timeZoneFilter").prependTo("#topFilter"),$("#timeFiltersInside").appendTo("#allFilters"),$("#allFiltersInside").appendTo("#allFilters")),sessionDetails=[],$(".card").each((function(index){sessionDetails.push({key:$(this).attr("data-id"),title:$(this).attr("data-title"),description:$(this).attr("data-short-description")+" "+$(this).attr("data-long-description"),stage:$(this).attr("data-stage"),day:$(this).attr("data-day"),tags:$(this).attr("data-tags").split(","),room:$(this).attr("data-room"),speakers:$(this).attr("data-speakers")});var splitArr=$(this).attr("data-tags").split(",");$(this).attr("data-tags")&&tagCollect.push(splitArr);var t=$(this),eventDuration="";eventDuration=timeConvertNum($(this).attr("data-endtime"))-timeConvertNum($(this).attr("data-time"))<0?timeConvertNum("2400")-timeConvertNum($(this).attr("data-time"))+timeConvertNum($(this).attr("data-endtime")):timeConvertNum($(this).attr("data-endtime"))-timeConvertNum($(this).attr("data-time")),t.find(".seshduration")[0].innerText=time_convertD(eventDuration),t.find(".seshduration")[1].innerText=time_convertD(eventDuration)})),function(){var tagCollectFuller=function(arr){let newArr=[];for(let i=0;i<arr.length;i++)-1==newArr.indexOf(arr[i])&&newArr.push(arr[i]);return newArr}(function(tag){let newArr=tag;if(newArr.indexOf("Workshop")>0){var index=newArr.indexOf("Workshop");newArr.splice(index,1),newArr.unshift("Workshop")}return newArr}([].concat.apply([],tagCollect)));function pushToActiveTags(tag){let tagMatchesStoredTag=0;for(let i=0;i<activeTags.length;i++)activeTags[i]===tag&&tagMatchesStoredTag++;0===tagMatchesStoredTag&&activeTags.push(tag)}$(".invisible-tag-container").hasClass("taglevels-on")?function(tag){function matchTagLevelWithTag(loopIndex,levelTags){return function(tag){let newArr="";var tempNum=900;return tag.forEach((item=>{let tagStripped=item.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"");newArr+='<div class="col-12 stage-select "><div class="custom-control custom-checkbox"><input type="checkbox" class="custom-control-input tag-button" data-tag="'+tagStripped+'" id="'+tempNum+'"><label class="custom-control-label" for="'+tempNum+'">'+item.name+"</label></div></div>",tempNum+=1})),newArr}(levelTags.filter((function(entry){return console.log(entry.level),entry.level==loopIndex})))}const tagData=document.querySelectorAll(".invisible-tag-item"),finalArr=(document.querySelectorAll(".taglevel"),[]),tempArr=[];tagData.forEach((item=>{finalArr.push({level:item.dataset.number,name:item.dataset.tagname})})),finalArr.forEach((item=>{tempArr.push(item.level)}));const maxLevelNumber=tempArr.reduce((function(a,b){return Math.max(a,b)}));for(let i=0;i<maxLevelNumber;i++){let index=i+1;$(".taglevel-"+index+"-container").html(matchTagLevelWithTag(index,finalArr))}$(".badge").each((function(){finalArr.forEach((item=>{item.name===$(this).data("name")&&$(this).addClass("level-"+item.level)}))}))}():$("#js-tagarea").html(function(tag){let newArr="";var tempNum=900;for(let i=0;i<tag.length;i++)newArr+='<div class="col-12 stage-select "><div class="custom-control custom-checkbox"><input type="checkbox" class="custom-control-input tag-button" data-tag="'+tag[i].toLowerCase().replace(/[^a-zA-Z0-9]/g,"")+'" id="'+tempNum+'"><label class="custom-control-label" for="'+tempNum+'">'+tag[i]+"</label></div></div>",tempNum+=1;return newArr}(tagCollectFuller)),$(".tag-button").click((function(){let tagId=$(this).text().toLowerCase().replace(/[^a-zA-Z0-9]/g,"");$(this).hasClass("tag-checked")?($(this).removeClass("tag-checked"),function(tag){for(let i=0;i<activeTags.length;i++)activeTags[i]===tag&&activeTags.splice(i,1)}($(this).attr("data-tag")),$(".tag-id-"+tagId).removeClass("tag-highlighted")):($(this).addClass("tag-checked"),pushToActiveTags($(this).attr("data-tag")),$(".tag-id-"+tagId).addClass("tag-highlighted")),doSearch(),matchCardTagsWithActiveTags()}));var forceActiveTags=urlParameterArray;for(let i=0;i<forceActiveTags.length;i++){activeTags.push(forceActiveTags[i]);let tagId=forceActiveTags[i].toLowerCase().replace(/[^a-zA-Z0-9]/g,"");$('.tag-button[data-tag="'+forceActiveTags[i]+'"]').addClass("tag-checked"),pushToActiveTags(forceActiveTags[i]),$(".tag-id-"+tagId).addClass("tag-highlighted")}}(),masterOptions={threshold:.15,location:0,distance:1e3,tokenize:!0,maxPatternLength:32,minMatchCharLength:1,keys:["title","description","tags","speakers","stage","room"]},new Fuse(sessionDetails,masterOptions),$("#day1").click(),$(".timezonetoggle").click(),$("#status").fadeOut(),$("#preloader").delay(350).fadeOut("slow"),$("body").delay(350).css({overflow:"visible"})})),$("#search").on("keyup",(function(){var t=$(this);delay((function(){""==t.val()?daySearch?doSearch(daySearch):$(".card").css("display","block"):doSearch()}),500),matchCardTagsWithActiveTags()}));var arraysAreEqual=function(arr1,arr2){for(let i=0;i<arr1.length;i++)if(arr2.includes(arr1[i]))return!0};function time_convert(num){var minutes=num%60;return 0==minutes&&(minutes="00"),Math.floor(num/60)+":"+minutes}function time_convertD(num){return(60*Math.floor(num/60)+num%60).toString()+"min"}function timeConvertNum(n){var s1a=n.slice(0,2),s1b=n.slice(2,4);return parseInt(60*s1a)+parseInt(s1b)}function clearSearch(){$("#search").val("").trigger("change"),$(".stages-active").each((function(){$(this).prop("checked",!1)})),$("#daySelect").find(".active").removeClass("active"),daySearch="",$(".card").show(),$("#noResults").css("display","none"),matchCardTagsWithActiveTags(),matchCardTagsWithActiveTags()}function pad(num){for(size=parseInt(5),num=num.toString();num.length<size;)num="0"+num;return num}function doSearch(day){day=day||0,daySearch&&(day=daySearch);var stageOptions={keys:["stage"],includeScore:!0,threshold:0,location:0,distance:0},result=[];if(day){var dayResult=new Fuse(sessionDetails,{keys:["day"],threshold:0}).search(day);result=dayResult,daySearch=day}var $boxes=$(".stages-active");if($boxes.length>0){var stageTemp=[];$boxes.each((function(){if(day){fuseStage=new Fuse(result,stageOptions),console.log("Searching for... "+$(this).attr("id"));var temp=fuseStage.search($(this).attr("id")),tempNoStage=fuseStage.search("0");temp2=[],temp.forEach((function(record){0==record.score&&temp2.push(record.item)})),tempNoStage.forEach((function(record){0==record.score&&temp2.push(record.item)})),console.log(temp2),stageTemp=stageTemp.concat(temp2)}else{fuseStage=new Fuse(sessionDetails,stageOptions);temp=fuseStage.search($(this).attr("id"));temp2=[],temp.forEach((function(record){0==record.score&&temp2.push(record.item)})),stageTemp=stageTemp.concat(temp2)}})),result=stageTemp}if($("#search").val().length>0){result.length<1&&(result=sessionDetails);var fuseSearch=new Fuse(result,masterOptions);result=fuseSearch.search($("#search").val())}!function(result){$(".card").css("display","none"),0==result.length?$("#noResults").show():($("#noResults").css("display","none"),result.forEach((function(element){$("#"+element.key).show()}))),matchCardTagsWithActiveTags()}(result),matchCardTagsWithActiveTags()}$(".card").hover((function(){$(this).find(".card-border").addClass("card-selected")}),(function(){$(this).find(".card-border").removeClass("card-selected")})),$("#topicstitle").click((function(){$("#topicsdd").hasClass("hidden")?($("#topicsdd").removeClass("hidden"),$(this).find(".show-more").addClass("rotated")):($("#topicsdd").addClass("hidden"),$(this).find(".show-more").removeClass("rotated"))})),$("#trackstitle").click((function(){$("#tracksdd").hasClass("hidden")?($("#tracksdd").removeClass("hidden"),$(this).find(".show-more").addClass("rotated")):($("#tracksdd").addClass("hidden"),$(this).find(".show-more").removeClass("rotated"))})),$("#slider").slider({min:420,max:1380,step:30,range:!0,values:[420,1380],slide:function(event,ui){$("input.value[data-index=0]").val(time_convert(ui.values[0])),$("input.value[data-index=1]").val(time_convert(ui.values[1]));var startTimez=parseInt(ui.values[0]),endTimez=parseInt(ui.values[1]);$(".card").each((function(){$(this).data("day")==currDate&&(timeConvertNum($(this).attr("data-time").toString())>=startTimez&&timeConvertNum($(this).attr("data-time").toString())<=endTimez?$(this).removeClass("timezoneHidden"):$(this).addClass("timezoneHidden"))}))}}),$("input.value").change((function(){var $this=$(this);$("#slider").slider("values",$this.attr("data-index"),$this.val())})),$(".card").click((function(){var t=$(this);t.hasClass("no-expand")||(t.hasClass("active-card")?(t.find(".description-long-intro").show(),t.find(".show-more").removeClass("rotated"),t.find(".description-long").hide(),t.removeClass("active-card"),t.removeClass("selected")):($(".card .description-long").hide(),$(".description-long-intro").show(),$(".card .show-more").removeClass("rotated"),$(".card").removeClass("selected"),$(".card").removeClass("active-card"),matchCardTagsWithActiveTags(),t.find(".description-long-intro").hide(),t.find(".show-more").addClass("rotated"),t.find(".description-long").show(),t.addClass("selected"),t.addClass("active-card")))})).children(".speaker-link-a").click((function(e){return!1})),$("#filterClear").click((function(){clearSearch(),matchCardTagsWithActiveTags()})),$(".tracksclear").click((function(){$(".stages-check").each((function(){$(this).removeClass("stages-active"),$(this).removeAttr("checked")})),$(".stages-active").length>0||daySearch?(doSearch(),matchCardTagsWithActiveTags()):(clearSearch(),matchCardTagsWithActiveTags())})),$(".topicsclear").click((function(){$(".tag-button").each((function(){let tagId=$(this).text().toLowerCase().replace(/[^a-zA-Z0-9]/g,"");$(this).removeClass("tag-checked"),$(this).removeAttr("checked"),function(tag){for(let i=0;i<activeTags.length;i++)activeTags[i]===tag&&activeTags.splice(i,1)}($(this).attr("data-tag")),$(".tag-id-"+tagId).removeClass("tag-highlighted")})),doSearch(),matchCardTagsWithActiveTags()})),$(".stages-check").click((function(){$(this).hasClass("stages-active")?$(this).removeClass("stages-active"):$(this).addClass("stages-active"),$(".stages-active").length>0||daySearch?(doSearch(),matchCardTagsWithActiveTags()):(clearSearch(),matchCardTagsWithActiveTags())})),$(".timezonetoggle").click((function(){var diff="0";if($(this)[0].checked){$(this).data("conftimeid"),diff=$(this).data("conftimediff");currDiff=$(this).data("conftimediff"),$(".card").each((function(){var n,s1a,s1b,num;$(this).attr("data-time",(n=$(this).data("time").toString(),s1a=n.slice(0,2),s1b=n.slice(2,4),(num=parseInt(s1a)-parseInt(timeDiffSl))>23?num-=24:num<0&&(num=24+num),(1==num.toString().length?"0"+num.toString():num.toString())+s1b)),console.log($(this).attr("data-time").toString())}))}else{$(this).data("localtimeid"),diff=$(this).data("localtimediff")-1;currDiff=$(this).data("localtimediff"),$(".card").each((function(){var n,s1a,s1b,num;$(this).attr("data-time",(n=$(this).data("time").toString(),s1a=n.slice(0,2),s1b=n.slice(2,4),(num=parseInt(s1a)+parseInt(timeDiffSl))>23?num-=24:num<0&&(num=24+num),(1==num.toString().length?"0"+num.toString():num.toString())+s1b)),console.log($(this).attr("data-time").toString())}))}let dates=["MON","TUE","WED","THU","FRI","SAT","SUN"];$(".timedates").each((function(){var findate="",newdate=$(this).data("origin").toUpperCase(),datesplit=newdate.split(" ");$(this).data("start")+diff<0?($(this).closest(".card")[0].dataset.day==currDate&&($(this).closest(".card")[0].style.display="none"),parseInt($(this).closest(".card")[0].dataset.day.replace(/^\D+/g,""))-1==parseInt(currDate.replace(/^\D+/g,""))&&($(this).closest(".card")[0].style.display="block"),findate=0==dates.indexOf(datesplit[0])?dates[dates.length-1]+" "+(parseInt(datesplit[1])-1)+" "+datesplit[2]:dates[dates.indexOf(datesplit[0])-1]+" "+(parseInt(datesplit[1])-1)+" "+datesplit[2]):$(this).data("end")+diff>23||$(this).data("start")+diff>23?findate=dates.indexOf(datesplit[0])==dates[dates.length-1]?dates[0]+" "+(parseInt(datesplit[1])+1)+" "+datesplit[2]:dates[dates.indexOf(datesplit[0])+1]+" "+(parseInt(datesplit[1])+1)+" "+datesplit[2]:($(this).closest(".card")[0].dataset.day==currDate&&($(this).closest(".card")[0].style.display="block"),parseInt($(this).closest(".card")[0].dataset.day.replace(/^\D+/g,""))-1==parseInt(currDate.replace(/^\D+/g,""))&&($(this).closest(".card")[0].style.display="none"),findate=newdate),$(this)[0].innerText=findate})),$(".timezone").each((function(){var val="",a=$(this).data("rel").toString(),s1a=a.slice(0,2),s1b=a.slice(2,4),s=s1a.replace(/^0+/,""),e=parseFloat(s+"."+s1b),afterDot=(val=e+diff<10?e+diff<0?24+(e+diff):"0"+(e+diff).toString():e+diff>23?"0"+(e+diff-24):(e+diff).toString()).substr(val.indexOf("."));if((k=Math.round(afterDot).toFixed(2))>0){var k=parseInt(Math.round(val).toFixed(2));isNaN(k)&&(k="00");var final=(k+".00").replace(".",":");$(this)[0].innerText=pad(final)}else{isNaN(val)&&(val="00");final=function(num){var value=Number(num),res=num.split(".");(1==res.length||res[1].length<3)&&(value=value.toFixed(2));return value}(parseFloat(val).toFixed(2).toString()).toString().replace(".",":");$(this)[0].innerText=pad(final)}}))})),$("#daySelect input[type=radio]").on("change",(function(){$(this).parent().hasClass("active")?($(this).parent().removeClass("active"),doSearch(),matchCardTagsWithActiveTags()):(console.log("Manual day select: "+this.id),currDate=this.id,daySearch=this.id,doSearch(this.id),matchCardTagsWithActiveTags()),$(".timedates").each((function(){$(this).data("start")+currDiff<0?($(this).closest(".card")[0].dataset.day==currDate&&($(this).closest(".card")[0].style.display="none"),parseInt($(this).closest(".card")[0].dataset.day.replace(/^\D+/g,""))-1==parseInt(currDate.replace(/^\D+/g,""))&&($(this).closest(".card")[0].style.display="block")):$(this).data("end")+currDiff>23||$(this).data("start")+currDiff>23||($(this).closest(".card")[0].dataset.day==currDate&&($(this).closest(".card")[0].style.display="block"),parseInt($(this).closest(".card")[0].dataset.day.replace(/^\D+/g,""))-1==parseInt(currDate.replace(/^\D+/g,""))&&($(this).closest(".card")[0].style.display="none"))}))}));var timer,delay=(timer=0,function(callback,ms){clearTimeout(timer),timer=setTimeout(callback,ms)});function getAllUrlParams(url){var queryString=url?url.split("?")[1]:window.location.search.slice(1),obj={};if(queryString)for(var arr=(queryString=queryString.split("#")[0]).split("&"),i=0;i<arr.length;i++){var a=arr[i].split("="),paramName=a[0],paramValue=void 0===a[1]||a[1];if(paramName=paramName.toLowerCase(),"string"==typeof paramValue&&(paramValue=paramValue.toLowerCase()),paramName.match(/\[(\d+)?\]$/)){var key=paramName.replace(/\[(\d+)?\]/,"");if(obj[key]||(obj[key]=[]),paramName.match(/\[\d+\]$/)){var index=/\[(\d+)\]/.exec(paramName)[1];obj[key][index]=paramValue}else obj[key].push(paramValue)}else obj[paramName]?obj[paramName]&&"string"==typeof obj[paramName]?(obj[paramName]=[obj[paramName]],obj[paramName].push(paramValue)):obj[paramName].push(paramValue):obj[paramName]=paramValue}return obj}var urlParameterArray=[];getAllUrlParams().tag1&&urlParameterArray.push(getAllUrlParams().tag1),getAllUrlParams().tag2&&urlParameterArray.push(getAllUrlParams().tag2),getAllUrlParams().tag3&&urlParameterArray.push(getAllUrlParams().tag3),getAllUrlParams().tag4&&urlParameterArray.push(getAllUrlParams().tag4),getAllUrlParams().tag5&&urlParameterArray.push(getAllUrlParams().tag5),getAllUrlParams().tag6&&urlParameterArray.push(getAllUrlParams().tag6),getAllUrlParams().tag7&&urlParameterArray.push(getAllUrlParams().tag7),getAllUrlParams().tag8&&urlParameterArray.push(getAllUrlParams().tag8),$(document).ready((function(){if(getAllUrlParams().searchtitle&&getAllUrlParams().searchday){var urlTitle="Card"+getAllUrlParams().searchtitle,urlDay="day"+getAllUrlParams().searchday;console.log("URL day select: "+urlDay),doSearch(daySearch=urlDay),$("#daySelect").find(".active").removeClass("active"),$("#"+urlDay).parent().addClass("active"),$("#"+urlTitle).addClass("selected active-card"),$("#"+urlTitle).find(".description-long-intro").hide(),$("#"+urlTitle).find(".show-more").addClass("rotated"),$("#"+urlTitle).find(".description-long").show(),$([document.documentElement,document.body]).animate({scrollTop:$("#"+urlTitle).offset().top-85},0)}}))}();