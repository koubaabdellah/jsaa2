(window.salesJsonp=window.salesJsonp||[]).push([[44],{BdRY:function(e,t,r){"use strict";var o,a=r("2Eek"),n=r.n(a),i=r("XoMD"),s=r.n(i),l=r("Jo+v"),u=r.n(l),p=r("4mXO"),c=r.n(p),d=r("TRZx"),m=r.n(d),g=r("Bhuq"),f=r.n(g),h=r("SqZg"),E=r.n(h),C=r("hfKm"),b=r.n(C),v=r("Z7t5"),S=r.n(v),R=r("pbKT"),y=r.n(R),L=r("pLtp"),U=r.n(L),F=r("eVuF"),x=r.n(F),O=r("/HRN"),N=r.n(O),w=r("WaGi"),I=r.n(w),M=r("K47E"),D=r.n(M),P=r("N9n2"),T=r.n(P),k=r("ZDA2"),A=r.n(k),_=r("/+P4"),V=r.n(_),G=r("xHqa"),H=r.n(G),B=r("q1tI"),Y=r("gWcs"),z=r("rRRF");!function(e){e.DOC_SUBMISSIONERROR="docSubmissionError",e.DOC_SYSTEMERROR="docSystemError",e.FORM_SUBMISSIONERROR="formSubmissionError",e.FORM_SYSTEMERROR="formSystemError"}(o||(o={}));var j=r("PXpE"),q=r.n(j),J=r("J4NB"),Z=r("CP1N"),X=r("Rbeg"),W=r("Gr+o"),K=r("r3d+"),Q=r.n(K),$=r("QYaI"),ee=r("iA3e"),te=r.n(ee),re=r("cuPA"),oe=r.n(re),ae=r("mI+u"),ne=r.n(ae),ie=r("3XNQ"),se=r("tW8+"),le=r("p2nY"),ue=r("izN2"),pe=r("kzww"),ce=r("ZL9Z"),de=r("TsF5"),me=B.createElement;function ge(e,t){var r=U()(e);if(c.a){var o=c()(e);t&&(o=o.filter((function(t){return u()(e,t).enumerable}))),r.push.apply(r,o)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){H()(e,t,r[t])})):s.a?n()(e,s()(r)):ge(Object(r)).forEach((function(t){b()(e,t,u()(r,t))}))}return e}function he(e){var t=function(){if("undefined"===typeof Reflect||!y.a)return!1;if(y.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=V()(e);if(t){var a=V()(this).constructor;r=y()(o,arguments,a)}else r=o.apply(this,arguments);return A()(this,r)}}var Ee=function(e){T()(r,e);var t=he(r);function r(e){var o;return N()(this,r),o=t.call(this,e),H()(D()(o),"reporting",void 0),H()(D()(o),"uploadLaterButtonGroup",void 0),H()(D()(o),"showMultipleFileUpload",!1),H()(D()(o),"getTooltip",(function(e){return e&&me("span",null,me(te.a,{boxWidth:o.props.options.breakpoint>767?300:140,content:e,show:!1,className:"btnTooltip",zIndex:!0,style:{display:"inline-block",top:-2,marginRight:"10px"},position:"top"},me($.Icon.questionInCircle,{description:e,color:"cobalt",style:{marginBottom:"1px",paddingLeft:"4px",width:"20px"}})))})),H()(D()(o),"handleSubmit",(function(){o.props.data.isComboSegment&&o.showMultipleFileUpload?o.props.events.handleSubmit(o.state.uploadedFiles,o.state.comboUploadedFiles):o.props.data.isComboSegment&&o.props.data.showComboFileUpload?o.props.events.handleSubmit(o.state.comboUploadedFiles,null):o.props.events.handleSubmit(o.state.uploadedFiles,null)})),H()(D()(o),"handleFileUpload",(function(e,t){var r=fe({},o.state.errors);!e||e.length;if(t){switch(t){case ue.a.EMPTY_FILE:r.fileUpload=o.props.data.emptyFileErrorMsg;break;case ue.a.MAX_FILE_SIZE:r.fileUpload=o.props.data.uploadSizeErrorMsg;break;case ue.a.INVALID_FILE_TYPE:r.fileUpload=o.props.data.uploadTypeErrorMsg;break;case ue.a.MAX_NUM_OF_ITEMS:r.fileUpload=o.props.data.itemLimitErrorMsg;break;case ue.a.MIN_CHARS_OF_FILENAME:r.fileUpload=o.props.data.minFileNameCharsErrorMsg;break;default:r.fileUpload=o.props.data.genericErrorMsg}o.setState({errors:r,uploadedFiles:e,buttonDisabled:o.props.data.isComboSegment&&o.showMultipleFileUpload?!e.length||!o.state.comboUploadedFiles.length:!e.length})}else r.fileUpload="",o.setState({errors:r,uploadedFiles:e,buttonDisabled:o.props.data.isComboSegment&&o.showMultipleFileUpload?!e.length||!o.state.comboUploadedFiles.length:!e.length})})),H()(D()(o),"handleComboFileUpload",(function(e,t){var r=fe({},o.state.errors);!e||e.length;if(t){switch(t){case ue.a.EMPTY_FILE:r.fileUpload=o.props.data.emptyFileErrorMsg;break;case ue.a.MAX_FILE_SIZE:r.fileUpload=o.props.data.uploadSizeErrorMsg;break;case ue.a.INVALID_FILE_TYPE:r.fileUpload=o.props.data.uploadTypeErrorMsg;break;case ue.a.MAX_NUM_OF_ITEMS:r.fileUpload=o.props.data.itemLimitErrorMsg;break;case ue.a.MIN_CHARS_OF_FILENAME:r.fileUpload=o.props.data.minFileNameCharsErrorMsg;break;default:r.fileUpload=o.props.data.genericErrorMsg}o.setState({comboErrors:r,comboUploadedFiles:e,buttonDisabled:o.props.data.isComboSegment&&o.showMultipleFileUpload&&!o.state.uploadedFiles.length||!e.length})}else r.fileUpload="",o.setState({comboErrors:r,comboUploadedFiles:e,buttonDisabled:o.props.data.isComboSegment&&o.showMultipleFileUpload&&!o.state.uploadedFiles.length||!e.length})})),o.reporting=new pe.c,o.uploadLaterButtonGroup=[{name:e.data.uploadNowLabel,value:e.data.uploadNowLabel},{name:e.data.uploadLaterLabel,value:e.data.uploadLaterLabel}],o.showMultipleFileUpload=e.data.showFileUpload&&e.data.showComboFileUpload,o.state={errors:{},validForm:!0,uploadedFiles:[],buttonDisabled:!0,uploadLater:!1,comboErrors:{},comboUploadedFiles:[]},o}return I()(r,[{key:"render",value:function(){var e=this,t=this.props.options,r=this.props.data,o=r.documentList||[],a=(t.showUploadLaterToggle,"grid-col-7 grid-col-8-md grid-col-12-sm"),n=(t.showUploadLaterToggle,o.map((function(t,o){var a=JSON.parse(t);if(!a.segment||a.segment===r.docUploadSegment){var n=a.tooltip&&e.getTooltip(a.tooltip);return me("li",{key:a.description.substr(0,5).replace(/\s/gi,"")+"_"+o,className:"mar-b-xxs"},a.description,n)}}))),i={data:{analytics:fe(fe({},r.analytics),{},{linkPosition:de.a.SIG_ENROLL_FORM}),buttonText:r.buttonText,buttonHint:r.buttonHint||void 0,docRemoveLabel:r.docRemoveLabel,emptyFileErrorMsg:r.emptyFileErrorMsg,genericErrorMsg:r.genericErrorMsg,itemLimitErrorMsg:r.itemLimitErrorMsg,minFileNameCharsErrorMsg:r.minFileNameCharsErrorMsg,previousUploadedFiles:this.state.uploadedFiles,uploadSizeErrorMsg:r.uploadSizeErrorMsg,uploadTypeErrorMsg:r.uploadTypeErrorMsg},events:{handleUpload:this.handleFileUpload},options:{classes:a,multiple:t.itemsLimit&&t.itemsLimit>1,fileTypeValidation:!0,validFileTypes:r.validFileTypes,fileSizeLimit:t.fileSizeLimit,itemsLimit:t.itemsLimit,minFileNameCharsLimit:t.minFileNameCharsLimit}},s={data:{analytics:fe(fe({},r.analytics),{},{linkPosition:de.a.SIG_ENROLL_FORM}),buttonText:r.comboButtonText,buttonHint:r.buttonHint||void 0,docRemoveLabel:r.docRemoveLabel,emptyFileErrorMsg:r.emptyFileErrorMsg,genericErrorMsg:r.genericErrorMsg,itemLimitErrorMsg:r.itemLimitErrorMsg,minFileNameCharsErrorMsg:r.minFileNameCharsErrorMsg,previousUploadedFiles:this.state.comboUploadedFiles,uploadSizeErrorMsg:r.uploadSizeErrorMsg,uploadTypeErrorMsg:r.uploadTypeErrorMsg},events:{handleUpload:this.handleComboFileUpload},options:{classes:a,multiple:t.itemsLimit&&t.itemsLimit>1,fileTypeValidation:!0,validFileTypes:r.validFileTypes,fileSizeLimit:t.fileSizeLimit,itemsLimit:t.itemsLimit,minFileNameCharsLimit:t.minFileNameCharsLimit}};return me("div",{id:"".concat(t.testId,"_Form"),className:"".concat(this.props.options.className," grid-col-11-md")},t.showUploadLaterToggle||t.showAlert||!r.returningCustomerHeading?null:me(B.Fragment,null,me(W.a,{data:{isDecodingRequired:!1,text:r.returningCustomerHeading},options:{className:"type-xxl mar-b-none font-medium text-center",size:se.a.NONE,tag:se.b.h2}}),r.returningCustomerCopy?me(W.a,{data:{isDecodingRequired:!1,text:r.returningCustomerCopy},options:{className:"mar-l-xs mar-t-xs text-center type-base",size:se.a.NONE,tag:se.b.p}}):null),(t.showUploadLaterToggle||t.showAlert)&&r.copy?me(oe.a,{type:r.alertType,className:"".concat(ce.docUploadAlert," pad-l-none pad-r-none")},r.copy):null,me("div",{className:"type-base offset1 grid-col-11 grid-col-12-sm pad-none"},o.length?me("ul",{className:"bullet mar-l-xl mar-r-xl mar-b-sm pad-b-xs rwd"},n):null,r.documentNote?me(W.a,{data:{isDecodingRequired:!1,text:r.documentNote},options:{className:"grid-col-11 grid-col-12-md grid-col-12-sm pad-l-lg pad-t-none pad-b-none pad-r-xs mar-l-none rwd mar-b-none type-base ".concat(ce.documentNote),size:se.a.NONE,tag:se.b.div}}):null),t.showUploadLaterToggle?me("div",{className:"grid-col-12 flex flex-wrap justify-center mar-t-md pad-l-xxs pad-r-xxs pad-b-none"},me("div",{className:"".concat(ce.buttonGroup," grid-col-6 grid-col-8-md grid-col-12-sm pad-t-none pad-r-none pad-b-none pad-l-none")},me(ne.a,{data:this.uploadLaterButtonGroup,events:{onSelect:function(t){e.setState({uploadLater:t===r.uploadLaterLabel}),e.reporting.fireLinkClickEvent(r.analytics,t)}}}))):null,this.state.uploadLater?me("div",{className:"flex flex-wrap justify-center pad-l-xxs pad-r-xxs rwd"},me("div",{className:"grid-col-6 grid-col-8-md grid-col-12-sm mar-t-none pad-t-none pad-r-none pad-b-md pad-l-none"},me(W.a,{data:{isDecodingRequired:!1,text:r.isExistingCustomer?r.uploadLaterExistingCustomerCopy:r.uploadLaterCopy},options:{className:"mar-t-sm",size:se.a.NONE,tag:se.b.div}}),r.sigFanBenefitsLink&&me(le.a,{data:{content:r.sigFanBenefitsLink,href:"#".concat(this.props.options.id,"Fan_benefits")},options:{analytics:r.analytics,className:"justify-center flex pad-t-sm rwd",withSpan:!1}}),r.suppressHardLoginCTA&&r.uploadLaterExistingCustomerPrimaryCtaUrl.match("hardLogin")?null:me("div",{className:"".concat(r.isExistingCustomer?"":"mar-b-lg")},me(le.a,{data:{content:r.isExistingCustomer?r.uploadLaterExistingCustomerPrimaryCtaLabel:r.uploadLaterCtaLabel,href:r.isExistingCustomer?r.uploadLaterExistingCustomerPrimaryCtaUrl:r.uploadLaterCtaUrl,target:r.isExistingCustomer?r.uploadLaterExistingCustomerPrimaryCtaTarget:r.uploadLaterCtaTarget},options:{anchorClass:"grid-col-12 btn-primary-2 block mar-r-none mar-t-sm pad-t-xs pad-b-xs",analytics:r.analytics.Infinity}})),r.suppressHardLoginCTA&&r.uploadLaterExistingCustomerSecondaryCtaUrl.match("hardLogin")?null:r.isExistingCustomer&&r.uploadLaterExistingCustomerSecondaryCtaLabel&&me("div",{className:"mar-b-lg"},me(le.a,{data:{content:r.uploadLaterExistingCustomerSecondaryCtaLabel,href:r.uploadLaterExistingCustomerSecondaryCtaUrl,target:r.uploadLaterExistingCustomerSecondaryCtaTarget},options:{analytics:r.analytics.Infinity,anchorClass:"grid-col-12 btn-primary-2 block mar-r-none mar-t-sm pad-t-xs pad-b-xs"}}))),me(X.a,{analytics:r.analytics,benefits:r.benefits,breakpoint:t.breakpoint,id:"".concat(t.id,"Fan_benefits")})):null,t.showUploadLaterToggle&&this.state.uploadLater?null:me("div",{className:"mar-t-md pad-l-xxs pad-r-xxs flex flex-wrap justify-center"},me("div",{className:"grid-col-6 grid-col-8-md grid-col-12-sm pad-none"},(!r.isComboSegment||r.isComboSegment&&r.showFileUpload)&&me("div",null,me(ie.a,i),this.state.errors.fileUpload?me(W.a,{data:{isDecodingRequired:!1,text:this.state.errors.fileUpload},options:{className:"type-sm font-regular color-functional-dk-red mar-b-none",role:"alert",size:se.a.NONE}}):null),r.isComboSegment&&r.showComboFileUpload&&me("div",{className:r.showFileUpload?"pad-t-md rwd":""},me(ie.a,s),this.state.comboErrors.fileUpload?me(W.a,{data:{isDecodingRequired:!1,text:this.state.comboErrors.fileUpload},options:{className:"type-sm font-regular color-functional-dk-red mar-b-none",role:"alert",size:se.a.NONE}}):null),me("div",{className:"mar-b-sm mar-t-sm"},me("div",null,me(Q.a,{onClick:this.handleSubmit,kind:"primaryBlue",size:"large",name:"docUpload",disabled:this.state.buttonDisabled,fullWidth:!0},r.uploadButtonTxt))))))}}]),r}(B.PureComponent),Ce=r("2uZB"),be=r("IBPM"),ve=r("MZ1J"),Se=r("tJ3+"),Re=r("nQF8"),ye=r("4Caw"),Le=r("aUAG"),Ue=r("yTf4"),Fe=r.n(Ue);r.d(t,"a",(function(){return Me}));var xe=B.createElement;function Oe(e,t){var r=U()(e);if(c.a){var o=c()(e);t&&(o=o.filter((function(t){return u()(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){H()(e,t,r[t])})):s.a?n()(e,s()(r)):Oe(Object(r)).forEach((function(t){b()(e,t,u()(r,t))}))}return e}function we(){we=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof S.a?S.a:{},a=o.iterator||"@@iterator",n=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function s(e,t,r){return b()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(M){s=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var a=t&&t.prototype instanceof c?t:c,n=E()(a.prototype),i=new N(o||[]);return n._invoke=function(e,t,r){var o="suspendedStart";return function(a,n){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw n;return I()}for(r.method=a,r.arg=n;;){var i=r.delegate;if(i){var s=U(i,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var l=u(e,t,r);if("normal"===l.type){if(o=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),n}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(M){return{type:"throw",arg:M}}}e.wrap=l;var p={};function c(){}function d(){}function g(){}var h={};s(h,a,(function(){return this}));var C=f.a,v=C&&C(C(w([])));v&&v!==t&&r.call(v,a)&&(h=v);var R=g.prototype=c.prototype=E()(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){var o;this._invoke=function(a,n){function i(){return new t((function(o,i){!function o(a,n,i,s){var l=u(e[a],e,n);if("throw"!==l.type){var p=l.arg,c=p.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){o("next",e,i,s)}),(function(e){o("throw",e,i,s)})):t.resolve(c).then((function(e){p.value=e,i(p)}),(function(e){return o("throw",e,i,s)}))}s(l.arg)}(a,n,o,i)}))}return o=o?o.then(i,i):i()}}function U(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,U(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=g,s(R,"constructor",g),s(g,"constructor",d),d.displayName=s(g,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return m.a?m()(e,g):(e.__proto__=g,s(e,i,"GeneratorFunction")),e.prototype=E()(R),e},e.awrap=function(e){return{__await:e}},y(L.prototype),s(L.prototype,n,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,o,a,n){void 0===n&&(n=x.a);var i=new L(l(t,r,o,a),n);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(R),s(R,i,"Generator"),s(R,a,(function(){return this})),s(R,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},e.values=w,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(r,o){return i.type="throw",i.arg=e,t.next=r,o&&(t.method="next",t.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],i=n.completion;if("root"===n.tryLoc)return o("end");if(n.tryLoc<=this.prev){var s=r.call(n,"catchLoc"),l=r.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return o(n.catchLoc,!0);if(this.prev<n.finallyLoc)return o(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return o(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return o(n.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=e,i.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var a=o.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:w(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function Ie(e){var t=function(){if("undefined"===typeof Reflect||!y.a)return!1;if(y.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=V()(e);if(t){var a=V()(this).constructor;r=y()(o,arguments,a)}else r=o.apply(this,arguments);return A()(this,r)}}var Me=function(e){T()(r,e);var t=Ie(r);function r(e){var a;return N()(this,r),a=t.call(this,e),H()(D()(a),"isReturningCustomer",void 0),H()(D()(a),"isExistingCustomer",void 0),H()(D()(a),"encryptedFanId",void 0),H()(D()(a),"progName",void 0),H()(D()(a),"sigEnrollApi",void 0),H()(D()(a),"sigEnrollExistingUserApi",void 0),H()(D()(a),"sigEnrollReporting",void 0),H()(D()(a),"suppressHardLoginCTA",!1),H()(D()(a),"verificationId",void 0),H()(D()(a),"comboVerificationId",void 0),H()(D()(a),"fanNumber",void 0),H()(D()(a),"isComboSegment",!1),H()(D()(a),"docUploadSegment",""),H()(D()(a),"showFileUpload",void 0),H()(D()(a),"showComboFileUpload",void 0),H()(D()(a),"browseCtaLabel",void 0),H()(D()(a),"comboBrowseCtaLabel",void 0),H()(D()(a),"comboUploadSegmentDisplayOrder",void 0),H()(D()(a),"isCRP",void 0),H()(D()(a),"urlParams",["fanId","fanType","fanName","ban","market","subMarket","orderId"]),H()(D()(a),"sigFormRef",void 0),H()(D()(a),"filterHardLoginCTAGroup",(function(e,t){return t=t.filter((function(t){return!JSON.parse(t).ctaURL.match(e)}))})),H()(D()(a),"inValidSubmission",(function(e,t){return console.log("Custom invalid",t),!1})),H()(D()(a),"onChange",(function(e){if("militaryStatus"===e.id){var t=a.sigFormRef&&a.sigFormRef.current&&a.sigFormRef.current.querySelector("#dateOfDischarge");"veteran,retiree"===e.value&&t?t.parentElement.classList.remove("hide"):t&&t.parentElement.classList.add("hide")}a.props.events&&a.props.events.onChange&&a.props.events.onChange(e)})),H()(D()(a),"validSubmission",(function(e,t){a.addSpinner();var r=a.getFormData(t),n=a.props.data.analyticsFormAttributes;return a.sigEnrollReporting.fireVerifyFormSubmitEvent(r,n,a.isExistingCustomer),a.sigEnrollApi.verifyForm(r,a.comboUploadSegmentDisplayOrder).then((function(e){if(a.verificationId=e.verificationId,e.hasMoreResponse&&e.otherResponses&&e.otherResponses.length){a.comboVerificationId=e.otherResponses[0].verificationId;var t=Object(ve.b)(e,e.otherResponses[0]);t===J.c.DATAERROR?(a.setCurrentStatus(J.c.FORM,!1,a.getDataError(e),null,o.FORM_SUBMISSIONERROR),a.sigEnrollReporting.fireVerifyFormResponseEvent(t,e,r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_ERROR)):(t===J.c.DOCUPLOAD&&(a.getUploadLabels(),a.updateComboDocUploadData(e,e.otherResponses[0])),a.encryptedFanId=e.encryptFanNumber,a.updateVerificationResponse(t,e,r,n),a.setVerificationDataInSession(r.itemAttributes.email,e,t))}else e.status===J.c.DATAERROR?(a.setCurrentStatus(J.c.FORM,!1,a.getDataError(e),null,o.FORM_SUBMISSIONERROR),a.sigEnrollReporting.fireVerifyFormResponseEvent(e.status,e,r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_ERROR)):(a.encryptedFanId=e.encryptFanNumber,a.updateVerificationResponse(e.status,e,r,n),a.setVerificationDataInSession(r.itemAttributes.email,e,e.status))})).catch((function(e){console.log("Error",e),a.removeSpinner(),a.sigEnrollReporting.fireVerifyFormResponseEvent(J.c.SYSTEMERROR,{error:e},r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_ERROR),a.setCurrentStatus(J.c.SYSTEMERROR,!1,null,null,o.FORM_SYSTEMERROR)})).finally(a.getFanBenefits),{errorMsg:"  ",isValid:!1}})),H()(D()(a),"getFanBenefits",(function(){var e;return we().async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.state.currentStatus!==J.c.SUCCESS&&a.state.currentStatus!==J.c.PENDING&&a.state.currentStatus!==J.c.DOCUPLOAD){t.next=13;break}return a.addSpinner(),e=null,t.prev=3,t.next=6,we().awrap(a.sigEnrollApi.getBenefitsContent(Object(Re.i)()?a.encryptedFanId:null));case 6:(e=t.sent)&&e.content?(e&&e.content&&e.content.banner&&e.content.banner.heading&&(a.progName=e.content.banner.heading,a.progName=e.content.banner.subHeading?a.progName+" "+e.content.banner.subHeading:a.progName),a.setState({benefits:e.content,showSpinner:!1})):a.removeSpinner(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a.removeSpinner();case 13:a.scrollToTop();case 14:case"end":return t.stop()}}),null,null,[[3,10]],x.a)})),H()(D()(a),"setVerificationDataInSession",(function(e,t,r){sessionStorage.removeItem("sig-prog-verify-email"),sessionStorage.removeItem("sig-prog-verificationId"),sessionStorage.removeItem("sig-prog-isComboSegment"),sessionStorage.removeItem("sig-prog-cms-segment"),sessionStorage.removeItem("sig-prog-combo-verificationId"),sessionStorage.removeItem("sig-prog-verify-url"),sessionStorage.removeItem("sig-prog-enroll-fan"),r!==J.c.SYSTEMERROR&&(t.hasMoreResponse&&t.otherResponses&&t.otherResponses.length?a.isExistingCustomer&&t.autoApproved&&t.otherResponses[0].autoApproved?sessionStorage.setItem("sig-prog-verify-email",e):(a.isExistingCustomer||a.isReturningCustomer)&&(t.autoApproved||sessionStorage.setItem("sig-prog-verificationId",t.verificationId),t.otherResponses[0].autoApproved||sessionStorage.setItem("sig-prog-combo-verificationId",t.otherResponses[0].verificationId)):a.isExistingCustomer&&t.autoApproved?sessionStorage.setItem("sig-prog-verify-email",e):(a.isExistingCustomer||a.isReturningCustomer)&&sessionStorage.setItem("sig-prog-verificationId",t.verificationId),Object(Re.i)()&&sessionStorage.setItem("sig-prog-enroll-fan",t.encryptFanNumber),sessionStorage.setItem("sig-prog-verify-url",window.location.href),sessionStorage.setItem("sig-prog-cms-segment",a.props.data.segment),sessionStorage.setItem("sig-prog-isComboSegment","".concat(a.isComboSegment)))})),H()(D()(a),"getCopy",(function(e,t,r,o){switch(t){case J.c.SUCCESS:var n=e.successCopy;return a.isReturningCustomer?n=e.returningCustomerSuccessCopy:a.isExistingCustomer&&(n=e.existingCustomerSuccessCopy),n;case J.c.PENDING:var i=e.pendingCopy;return a.isReturningCustomer?i=e.returningCustomerPendingCopy:a.isExistingCustomer&&(i=e.existingCustomerPendingCopy),i;case J.c.SYSTEMERROR:return a.getErrorMessage(r,o);default:return""}})),H()(D()(a),"getNote",(function(e){switch(a.state.currentStatus){case J.c.SUCCESS:return a.isExistingCustomer?e.existingCustomerSuccessNote:"";case J.c.PENDING:return a.isExistingCustomer?e.existingCustomerPendingNote:e.pendingNote;default:return""}})),H()(D()(a),"getCtaGroupHeader",(function(e){switch(a.state.currentStatus){case J.c.SUCCESS:return a.isReturningCustomer?e.returningCustomerSuccessCtaGroupHeader:"";case J.c.PENDING:return a.isReturningCustomer?e.returningCustomerPendingCtaGroupHeader:"";default:return""}})),H()(D()(a),"getErrorMessage",(function(e,t){return e&&e.indexOf("mandatoryFieldMissing")>-1&&e.indexOf("dischargeDate")>-1&&a.props.data.errorCodeMessages.missingDischargeDate?a.props.data.errorCodeMessages.missingDischargeDate:e&&a.props.data.errorCodeMessages&&a.props.data.errorCodeMessages[e]?a.props.data.errorCodeMessages[e]:a.props.data.errorCodeMessages[t]})),H()(D()(a),"getHeading",(function(e){switch(a.state.currentStatus){case J.c.SUCCESS:var t=e.successHeading;return a.isReturningCustomer?t=e.returningCustomerSuccessHeading:a.isExistingCustomer&&(t=e.existingCustomerSuccessHeading),t;case J.c.PENDING:var r=e.pendingHeading;return a.isReturningCustomer?r=e.returningCustomerPendingHeading:a.isExistingCustomer&&(r=e.existingCustomerPendingHeading),r;case J.c.SYSTEMERROR:return e.errorHeading;default:return""}})),H()(D()(a),"getCtaGroup",(function(e){switch(a.state.currentStatus){case J.c.SUCCESS:var t=e.successCtaGroup;return a.isReturningCustomer?t=a.suppressHardLoginCTA?a.filterHardLoginCTAGroup("hardLogin",e.returningCustomerSuccessCtaGroup):e.returningCustomerSuccessCtaGroup:a.isExistingCustomer&&(t=a.suppressHardLoginCTA?a.filterHardLoginCTAGroup("hardLogin",e.existingCustomerSuccessCtaGroup):e.existingCustomerSuccessCtaGroup),t;case J.c.PENDING:var r=e.pendingCtaGroup;return a.isReturningCustomer?r=a.suppressHardLoginCTA?a.filterHardLoginCTAGroup("hardLogin",e.returningCustomerPendingCtaGroup):e.returningCustomerPendingCtaGroup:a.isExistingCustomer&&(r=a.suppressHardLoginCTA?a.filterHardLoginCTAGroup("hardLogin",e.existingCustomerPendingCtaGroup):e.existingCustomerPendingCtaGroup),r;case J.c.SYSTEMERROR:return e.errorCtaGroup;default:return""}})),H()(D()(a),"addSpinner",(function(){a.setState({showSpinner:!0})})),H()(D()(a),"removeSpinner",(function(){a.setState({showSpinner:!1})})),H()(D()(a),"getVerificationStatus",(function(e,t){a.sigEnrollApi.getVerificationStatus(e,t,!1,a.comboUploadSegmentDisplayOrder).then((function(t){if(a.verificationId=t.verificationId,t.hasMoreResponse&&t.otherResponses&&t.otherResponses.length){a.comboVerificationId=t.otherResponses[0].verificationId;var r=Object(ve.b)(t,t.otherResponses[0],a.isReturningCustomer);r===J.c.DOCUPLOAD&&(a.getUploadLabels(),a.updateComboDocUploadData(t,t.otherResponses[0])),a.updateVerificationStatusResponse(r,t,e)}else a.updateVerificationStatusResponse(t.status,t,e)})).catch((function(e){console.log("error",e),a.setCurrentStatus(J.c.SYSTEMERROR,!1,null,null,o.FORM_SYSTEMERROR),setTimeout((function(){a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_ERROR)}),1500)})).finally(a.getFanBenefits)})),H()(D()(a),"getDataError",(function(e){return e.dataError&&e.dataError.length?e.dataError[0]:e.hasMoreResponse&&e.otherResponses&&e.otherResponses.length&&e.otherResponses[0].dataError&&e.otherResponses[0].dataError.length?e.otherResponses[0].dataError[0]:void 0})),H()(D()(a),"getSystemError",(function(e){return e.systemError&&e.systemError.length?e.systemError[0]:e.hasMoreResponse&&e.otherResponses&&e.otherResponses.length&&e.otherResponses[0].systemError&&e.otherResponses[0].systemError.length?e.otherResponses[0].systemError[0]:void 0})),H()(D()(a),"scrollToTop",(function(){document.querySelectorAll("#"+a.props.options.id)[0].scrollIntoView({behavior:"smooth"})})),H()(D()(a),"setCurrentStatus",(function(e,t,r,o,n,i){r&&(r=a.getErrorMessage(r,n)),o=a.getCopy(a.props.data.formResponses,e,o,n),a.setState((function(a){return Ne(Ne(Ne({},null===i?{benefits:null}:{benefits:a.benefits}),{},{currentStatus:e},r?{submitErrorMessage:r}:{submitErrorMessage:""}),{},{showSpinner:t},o?{verificationResponseMessage:o}:{verificationResponseMessage:""})}))})),H()(D()(a),"updateVerificationResponse",(function(e,t,r,n){switch(e){case J.c.SUCCESS:a.setCurrentStatus(J.c.SUCCESS,!1,null),a.sigEnrollReporting.fireVerifyFormResponseEvent(e,t,r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_SUCCESS);break;case J.c.SYSTEMERROR:a.setCurrentStatus(J.c.SYSTEMERROR,!1,null,a.getSystemError(t),o.FORM_SYSTEMERROR),a.sigEnrollReporting.fireVerifyFormResponseEvent(e,t,r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_ERROR);break;case J.c.DOCUPLOAD:a.setCurrentStatus(J.c.DOCUPLOAD,!1,null),a.sigEnrollReporting.fireVerifyFormResponseEvent(e,t,r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.DOC_UPLOAD);break;case J.c.PENDING:a.setCurrentStatus(J.c.PENDING,!1),a.sigEnrollReporting.fireVerifyFormResponseEvent(e,t,r,n,a.isExistingCustomer,a.isComboSegment),a.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.VERIFY_SUCCESS);break;default:a.removeSpinner()}})),H()(D()(a),"getVerificationId",(function(){return a.isComboSegment&&!a.showFileUpload&&a.showComboFileUpload?a.comboVerificationId:a.verificationId})),H()(D()(a),"getUploadLabels",(function(){a.props.data.documentUpload&&a.props.data.documentUpload.comboUploadBrowseCtaLabels&&a.props.data.documentUpload.comboUploadBrowseCtaLabels.length&&a.props.data.documentUpload.comboUploadBrowseCtaLabels.forEach((function(e,t){var r=JSON.parse(e);0===t?a.browseCtaLabel=r.ctaLabel:1===t&&(a.comboBrowseCtaLabel=r.ctaLabel)}))})),H()(D()(a),"getDisplayOrder",(function(){var e=[];return a.props.data.documentUpload&&a.props.data.documentUpload.comboUploadBrowseCtaLabels&&a.props.data.documentUpload.comboUploadBrowseCtaLabels.length&&a.props.data.documentUpload.comboUploadBrowseCtaLabels.forEach((function(t){var r=JSON.parse(t);e.push(r.segment)})),e})),H()(D()(a),"updateVerificationStatusResponse",(function(e,t,r){var n="";if(e===J.c.DATAERROR)a.setCurrentStatus(J.c.SYSTEMERROR,!1,null,a.getDataError(t),o.FORM_SYSTEMERROR),n=pe.a.VERIFY_ERROR;else if(e===J.c.SYSTEMERROR)a.setCurrentStatus(J.c.SYSTEMERROR,!1,null,a.getSystemError(t),o.FORM_SYSTEMERROR),n=pe.a.VERIFY_ERROR;else if(e){a.isReturningCustomer=!0,a.encryptedFanId=t.encryptFanNumber;var i={encryptFanNumber:a.encryptedFanId,status:e,verificationId:t.verificationId};a.setVerificationDataInSession("",i,e),a.setCurrentStatus(e,!1),n=e===J.c.DOCUPLOAD?pe.a.DOC_UPLOAD:pe.a.VERIFY_SUCCESS}else n=pe.a.VERIFY_ERROR,a.removeSpinner();setTimeout((function(){a.sigEnrollReporting.fireVirtualPageLoadEvent(n)}),1500)})),a.fileUpload=a.fileUpload.bind(D()(a)),a.isReturningCustomer=!1,a.isExistingCustomer=!1,a.encryptedFanId="",a.progName="",a.sigEnrollApi=new Se.a,a.sigEnrollExistingUserApi=new ye.a,a.sigEnrollReporting=new pe.c,a.verificationId="",a.comboVerificationId="",a.fanNumber="",a.isComboSegment=a.props.data.isComboSegment,a.browseCtaLabel="",a.comboBrowseCtaLabel="",a.comboUploadSegmentDisplayOrder=a.getDisplayOrder(),a.isCRP=!1,a.sigFormRef=B.createRef(),a.state={benefits:null,currentStatus:J.c.FORM,showSpinner:!a.props.data.showMarketingContent,submitErrorMessage:"",verificationResponseMessage:""},a}return I()(r,[{key:"componentDidMount",value:function(){var e,t,r,o,a,n=this;return we().async((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.handleDateOfDischarge(),this.handleSegmentCombo(),this.isCRP=Boolean(Object(Re.g)("crp",!0)),!this.isCRP){i.next=13;break}if(sessionStorage.setItem("sig-prog-isCRP","".concat(this.isCRP)),!(e=sessionStorage.getItem("sig-prog-ban"))){i.next=11;break}return i.next=9,we().awrap(this.sigEnrollExistingUserApi.getCustomerInfo(e).catch((function(e){return console.log("Error fetching customer info",e)})));case 9:(t=i.sent)&&U()(t).map((function(e){n.props.data.formData.map((function(r){r.propName!==e&&r.id!==e||(r.defaultValue=t[e],r.disabled=n.props.data.disableFieldsOnPrePopulate)}))}));case 11:i.next=14;break;case 13:sessionStorage.removeItem("sig-prog-isCRP");case 14:if(r=Object(Re.g)("verificationId",!0),o=Object(Re.g)("comboVerificationId",!0),r?this.getVerificationStatus(r,o):this.removeSpinner(),!Object(Re.i)()){i.next=22;break}return i.next=20,we().awrap(this.sigEnrollExistingUserApi.getProfileInfo().catch((function(e){return console.log("Error fetching profile info",e)})));case 20:a=i.sent,this.suppressHardLoginCTA=a&&a.content&&(!a.content.acctInfocus||!a.content.acctInfocusType||a.content.acctInfocusType&&"wireless"!==a.content.acctInfocusType.toLowerCase());case 22:case"end":return i.stop()}}),null,this,null,x.a)}},{key:"handleSegmentCombo",value:function(){var e=this.sigFormRef&&this.sigFormRef.current&&this.sigFormRef.current.querySelector("div[data-testid=selectSegment]");if(!this.props.data.isComboPage&&e){var t=e.parentElement,r=t?t.parentElement:null;r&&(r.style.display="none")}}},{key:"handleExistingCustomerCheckbox",value:function(){var e=this.sigFormRef&&this.sigFormRef.current&&this.sigFormRef.current.querySelector("div[data-test-id=existingCustomer]");if(e){var t=e.parentElement;t&&(t.style.display="none")}}},{key:"handleDateOfDischarge",value:function(){var e=this.sigFormRef&&this.sigFormRef.current&&this.sigFormRef.current.querySelector("#dateOfDischarge");e&&e.parentElement.classList.add("hide")}},{key:"render",value:function(){var e=this.state,t=this.props.data,r=this.props.options,o=this.isCRP?t.crpSubHeading:t.subHeading,a=t.documentUpload&&t.documentUpload.uploadLaterCopy,n=t.documentUpload&&t.documentUpload.uploadLaterExistingCustomerCopy,i=this.progName||t.formResponses.defaultProgramName||"";return a=i?a.replace(/\[\[program name\]\]/gi,i):a,n=i?n.replace(/\[\[program name\]\]/gi,i):n,xe(B.Fragment,null,this.props.data.showMarketingContent&&t.marketingContent&&xe(be.a,t.marketingContent.props),xe("div",{className:"".concat(Le.sigEnrollFormWrapper," max-width-container flex flex-wrap justify-center mar-t-lg mar-b-xs rwd"),id:r.id,ref:this.sigFormRef},t.heading&&e.currentStatus===J.c.FORM&&xe("div",{className:"grid-col-12"},xe(Ce.a,{data:{isDecodingRequired:!1,text:t.heading},options:{className:"type-xl font-medium text-center color-ui-black mar-b-xxxs",size:se.a.NONE,tag:se.b.div}})),o&&e.currentStatus===J.c.FORM&&xe("div",{className:"grid-col-12"},xe(Ce.a,{data:{isDecodingRequired:!1,text:o},options:{className:"type-md font-regular text-center color-ui-black mar-b-xs",size:se.a.NONE,tag:se.b.div}})),e.currentStatus!==J.c.DOCUPLOAD&&this.state.submitErrorMessage&&xe("div",{className:"container grid-col-12"},xe("div",{className:"full-width-container"},xe("div",{className:"row"},xe("div",{className:"offset1"}),xe("div",{className:"grid-col-10"},xe(Fe.a,null),xe(oe.a,{type:J.a.ERROR},this.state.submitErrorMessage),xe(Fe.a,null))))),e.currentStatus===J.c.FORM&&t.formData.length>0&&xe(Y.a,{data:{customInvalidSubmitCallback:this.inValidSubmission,customValidSubmitCallback:this.validSubmission,formData:t.formData,onChange:this.onChange,invalidMsg:" ",typeAheadSearchApiUrl:this.props.data.typeAheadSearchApiUrl},events:{},options:{breakpoint:this.props.options.breakpoint,supressFormSubmit:!0},testId:this.props.data.showMarketingContent?"HUB_".concat(this.props.options.id):""}),e.showSpinner&&xe("div",{className:Le.spinnerOverlay},xe(q.a,{style:{position:"relative",top:"45%"},onDark:!0},e.currentStatus===J.c.DOCUPLOAD?t.docSpinnerText:t.formSpinnerText)),e.currentStatus===J.c.DOCUPLOAD?xe(Ee,{data:{alertType:e.submitErrorMessage?J.a.ERROR:J.a.INFO,analytics:t.analytics,buttonText:this.isComboSegment?this.browseCtaLabel:t.documentUpload.browseCtaLabel,buttonHint:t.documentUpload.browseCtaTooltip||t.documentUpload.browseCtaHintText,comboButtonText:this.comboBrowseCtaLabel,copy:e.submitErrorMessage?e.submitErrorMessage:t.documentUpload.copy,benefits:e.benefits,docRemoveLabel:t.documentUpload.docRemoveLabel,documentList:t.documentUpload.documentList,documentNote:t.documentUpload.documentNote,emptyFileErrorMsg:t.documentUpload.emptyFileError,genericErrorMsg:t.documentUpload.genericError,itemLimitErrorMsg:t.documentUpload.numOfFilesError,minFileNameCharsErrorMsg:t.documentUpload.minFileNameCharsError,returningCustomerCopy:t.documentUpload.returningCustomerCopy,returningCustomerHeading:t.documentUpload.returningCustomerHeading,isExistingCustomer:this.isExistingCustomer,uploadButtonTxt:t.documentUpload.submitCtaLabel,uploadLaterCopy:a,uploadLaterCtaLabel:t.documentUpload.uploadLaterCtaLabel,uploadLaterCtaTarget:t.documentUpload.uploadLaterCtaTarget,uploadLaterCtaUrl:t.documentUpload.uploadLaterCtaUrl,uploadLaterLabel:t.documentUpload.uploadLaterLabel,uploadNowLabel:t.documentUpload.uploadNowLabel,uploadSizeErrorMsg:t.documentUpload.singleFileSizeError,uploadTypeErrorMsg:t.documentUpload.fileTypeError,validFileTypes:t.documentUpload.fileTypesAllowed,uploadLaterExistingCustomerCopy:n,uploadLaterExistingCustomerPrimaryCtaLabel:t.documentUpload.uploadLaterExistingCustomerPrimaryCtaLabel,uploadLaterExistingCustomerSecondaryCtaLabel:t.documentUpload.uploadLaterExistingCustomerSecondaryCtaLabel,uploadLaterExistingCustomerPrimaryCtaUrl:t.documentUpload.uploadLaterExistingCustomerPrimaryCtaUrl,uploadLaterExistingCustomerSecondaryCtaUrl:t.documentUpload.uploadLaterExistingCustomerSecondaryCtaUrl,uploadLaterExistingCustomerPrimaryCtaTarget:t.documentUpload.uploadLaterExistingCustomerPrimaryCtaTarget,uploadLaterExistingCustomerSecondaryCtaTarget:t.documentUpload.uploadLaterExistingCustomerSecondaryCtaTarget,suppressHardLoginCTA:this.suppressHardLoginCTA,isComboSegment:this.isComboSegment,docUploadSegment:this.docUploadSegment,showFileUpload:this.showFileUpload,showComboFileUpload:this.showComboFileUpload,sigFanBenefitsLink:e.benefits&&e.benefits.offers?t.formResponses.sigFanBenefitsLink:""},events:{handleSubmit:this.fileUpload},options:{breakpoint:r.breakpoint,className:"grid-col-6-lg grid-col-8 grid-col-12-sm",showUploadLaterToggle:!this.isReturningCustomer,showAlert:!!e.submitErrorMessage,itemsLimit:t.documentUpload.numOfFilesAllowed,fileSizeLimit:t.documentUpload.singleFileSizeAllowed,minFileNameCharsLimit:t.documentUpload.minFileNameCharsLimit,testId:"docUpload",id:this.props.options.id}}):null,(e.currentStatus===J.c.SUCCESS||e.currentStatus===J.c.SYSTEMERROR||e.currentStatus===J.c.PENDING)&&xe(B.Fragment,null,xe(Z.a,{data:{copy:this.state.verificationResponseMessage,ctaGroup:this.getCtaGroup(t.formResponses),ctaGroupHeader:this.getCtaGroupHeader(t.formResponses),fanNumber:this.fanNumber,heading:this.getHeading(t.formResponses),note:this.getNote(t.formResponses),progName:this.progName||t.formResponses.defaultProgramName,sigFanBenefitsLink:e.benefits&&e.benefits.offers?t.formResponses.sigFanBenefitsLink:"",status:e.currentStatus===J.c.SUCCESS||e.currentStatus===J.c.PENDING?J.a.SUCCESS:J.a.ERROR,verificationId:this.isExistingCustomer?this.verificationId:""},options:{analytics:t.analytics.Infinity,breakpoint:this.props.options.breakpoint,className:"grid-col-6 grid-col-6-md grid-col-10-sm mar-t-lg mar-b-md rwd",ctaVersion2:this.isReturningCustomer&&this.state.currentStatus!==J.c.SYSTEMERROR,ctaVersion2ClassName:"grid-col-12 pad-t-none rwd",id:this.props.options.id}}),xe("div",{className:"".concat(this.isReturningCustomer&&this.getCtaGroup(t.formResponses).length>1&&this.state.currentStatus!==J.c.SYSTEMERROR?"grid-col-12":"grid-col-8"," grid-col-12-md grid-col-12-sm")},xe(X.a,{analytics:t.analytics.Infinity,benefits:e.benefits,breakpoint:r.breakpoint,id:"".concat(this.props.options.id,"Fan_benefits")})))))}},{key:"getFormData",value:function(e){return{itemAttributes:this.getItemAttributes(e),segment:this.props.data.segment,source:this.props.data.source}}},{key:"getItemAttributes",value:function(e){var t=this,r={};return e.forEach((function(e){e.type!==z.a.TYPEAHEAD_SEARCH?"existingCustomer"!==e.id||!e.value&&!Object(Re.i)()?e.value&&(r[e.propName]=e.value):t.isExistingCustomer=!0:r=Ne(Ne({},r),e.value)})),r}},{key:"fileUpload",value:function(e,t){var r=this,a=new FormData,n=Object(Re.c)(!0);for(var i in n){this.urlParams.indexOf(i)>-1&&a.append("otherElements["+i+"]",n[i])}a.append("source",this.props.data.source),a.append("verificationId",this.getVerificationId()),e.map((function(e){a.append("file",e)})),this.isComboSegment&&t&&t.length&&(t.map((function(e){a.append("otherSegmentRequest[0].file",e)})),a.append("otherSegmentRequest[0].verificationId",this.comboVerificationId));var s=this.props.data.documentUpload.submitCtaLabel,l={docUploadCount:t&&t.length?t.length+e.length:e.length,linkName:s};this.sigEnrollReporting.fireDocUploadSubmitEvent(l),this.sigEnrollApi.docUpload(a).then((function(e){if(r.verificationId=e.verificationId,e.hasMoreResponse&&e.otherResponses&&e.otherResponses.length){r.comboVerificationId=e.otherResponses[0].verificationId;var t=Object(ve.b)(e,e.otherResponses[0]);r.updateDocUploadResponse(t,e,l)}else r.updateDocUploadResponse(e.status,e,l)})).catch((function(e){console.error("doc upload api error. ",e),r.setCurrentStatus(J.c.SYSTEMERROR,!1,null,null,o.DOC_SYSTEMERROR,null),r.sigEnrollReporting.fireDocUploadResponseEvent(J.c.SYSTEMERROR,{error:e},l,r.props.data.segment,r.isComboSegment),r.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.DOC_UPLOAD_ERROR)})).finally(this.scrollToTop),this.addSpinner()}},{key:"updateComboDocUploadData",value:function(e,t){e.status===J.c.DOCUPLOAD&&t.status===J.c.DOCUPLOAD?(this.docUploadSegment=this.props.data.segment,this.showFileUpload=!0,this.showComboFileUpload=!0):e.status===J.c.DOCUPLOAD?(this.docUploadSegment=e.segment,this.showFileUpload=!0,this.showComboFileUpload=!1):t.status===J.c.DOCUPLOAD&&(this.docUploadSegment=t.segment,this.showFileUpload=!1,this.showComboFileUpload=!0)}},{key:"updateDocUploadResponse",value:function(e,t,r){e===J.c.SUCCESS?(this.setCurrentStatus(J.c.SUCCESS,!1),this.sigEnrollReporting.fireDocUploadResponseEvent(e,t,r,this.props.data.segment,this.isComboSegment),this.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.DOC_UPLOAD_SUCCESS)):e===J.c.PENDING?(this.setCurrentStatus(J.c.PENDING,!1),this.sigEnrollReporting.fireDocUploadResponseEvent(e,t,r,this.props.data.segment,this.isComboSegment),this.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.DOC_UPLOAD_SUCCESS)):e===J.c.SYSTEMERROR?(this.setCurrentStatus(J.c.SYSTEMERROR,!1,null,this.getSystemError(t),o.DOC_SYSTEMERROR,null),this.sigEnrollReporting.fireDocUploadResponseEvent(e,t,r,this.props.data.segment,this.isComboSegment),this.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.DOC_UPLOAD_ERROR)):(this.setCurrentStatus(J.c.DOCUPLOAD,!1,this.getDataError(t),null,o.DOC_SUBMISSIONERROR),this.sigEnrollReporting.fireDocUploadResponseEvent(e,t,r,this.props.data.segment,this.isComboSegment),this.sigEnrollReporting.fireVirtualPageLoadEvent(pe.a.DOC_UPLOAD_ERROR))}}]),r}(B.Component)},HGYz:function(e,t,r){"use strict";r.r(t);var o=r("pbKT"),a=r.n(o),n=r("9Jkg"),i=r.n(n),s=r("/HRN"),l=r.n(s),u=r("WaGi"),p=r.n(u),c=r("K47E"),d=r.n(c),m=r("N9n2"),g=r.n(m),f=r("ZDA2"),h=r.n(f),E=r("/+P4"),C=r.n(E),b=r("xHqa"),v=r.n(b),S=r("q1tI"),R=r("BdRY"),y=r("2uZB"),L=r("tW8+"),U=r("vDXC"),F=r.n(U),x=r("hfKm"),O=r.n(x),N=r("2Eek"),w=r.n(N),I=r("XoMD"),M=r.n(I),D=r("Jo+v"),P=r.n(D),T=r("4mXO"),k=r.n(T),A=r("pLtp"),_=r.n(A),V=r("LjLF"),G=r("TsF5");function H(e,t){var r=_()(e);if(k.a){var o=k()(e);t&&(o=o.filter((function(t){return P()(e,t).enumerable}))),r.push.apply(r,o)}return r}var B=function(){function e(){l()(this,e),v()(this,"reportingService",void 0),this.reportingService=new V.a}return p()(e,[{key:"fireLinkClickEvent",value:function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):M.a?w()(e,M()(r)):H(Object(r)).forEach((function(t){O()(e,t,P()(r,t))}))}return e}({linkDestinationUrl:this.getAnalyticsDataForForm(e).url,linkName:e.segmentDisplayName,linkPosition:G.a.SIG_ENROLL_FORM_HUB},t.Infinity);this.reportingService.fireLinkClickEvent(r)}},{key:"fireVirtualPageLoadEvent",value:function(e){var t=this.getAnalyticsDataForForm(e),r=t.url,o=t.friendlyPageName;this.reportingService.fireVirtualPageLoadEvent(r,o);var a=e.marketingContent&&e.marketingContent.props&&e.marketingContent.props.data&&e.marketingContent.props.data.analytics&&e.marketingContent.props.data.analytics.Infinity;a&&(a.componentOrder=1,this.reportingService.fireImpression(a));var n=e.analytics.Infinity;n.componentOrder=a?2:1,this.reportingService.fireImpression(n)}},{key:"getAnalyticsDataForForm",value:function(e){var t="",r="";switch(e.segment){case"military":t="/offers/discount-program/panel/military-discount",r="UF Discount Program Military Discount Panel Pg";break;case"teacher":t="/offers/discount-program/panel/teacher",r="UF Discount Program Teacher Panel Pg";break;case"firstResponder":t="/offers/discount-program/panel/first-responders",r="UF Discount Program First Responders Panel Pg";break;case"medical":t="/offers/discount-program/panel/healthcare",r="UF Discount Program Healthcare Panel Pg";break;case"aarp":t="/offers/discount-program/panel/aarp",r="UF Discount Program AARP Panel Pg";break;case"unions":t="/offers/discount-program/panel/union-discount",r="UF Discount Program Union Panel Pg";break;case"student":t="/offers/discount-program/panel/students",r="UF Discount Program Student Panel Pg";break;case"employment":t="/offers/discount-program/panel/corporate",r="UF Discount Program Corporate Panel Pg";break;default:t="/offers/discount-program/panel/".concat(e.segment.toLowerCase()),r="UF Discount Program ".concat(e.segmentDisplayName," Panel Pg")}return{url:t,friendlyPageName:r}}}]),e}(),Y=r("FNAP"),z=S.createElement;function j(e){var t=function(){if("undefined"===typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=C()(e);if(t){var n=C()(this).constructor;r=a()(o,arguments,n)}else r=o.apply(this,arguments);return h()(this,r)}}var q=function(e){g()(r,e);var t=j(r);function r(e){var o;return l()(this,r),o=t.call(this,e),v()(d()(o),"hubReporting",void 0),v()(d()(o),"onTabSelect",(function(e){var t=o.props.data.forms[e];o.hubReporting.fireLinkClickEvent(t.props.data,o.props.data.analytics),o.hubReporting.fireVirtualPageLoadEvent(t.props.data)})),v()(d()(o),"generateStatefromProps",(function(e){var t=[];return e.data.forms.forEach((function(r,o){r.props.data.showMarketingContent=e.data.showMarketingContent,r.props.options.breakpoint=e.options.breakpoint;var a={component:z(R.a,r.props),id:o,tabName:r.props.data.segmentDisplayName};t.push(a)})),{breakpoint:e.options.breakpoint,tabData:t}})),o.hubReporting=new B,o.state=o.generateStatefromProps(e),o}return p()(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.data;e.options.breakpoint===this.props.options.breakpoint&&i()(t)===i()(this.props.data)||this.setState(this.generateStatefromProps(e))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.data.defaultIndex?this.props.data.defaultIndex:0,r=this.props.data.forms[t];setTimeout((function(){e.hubReporting.fireVirtualPageLoadEvent(r.props.data)}),2500)}},{key:"render",value:function(){return z("div",{id:this.props.options.id,className:"max-width-container"},this.props.data.heading&&z(y.a,{data:{isDecodingRequired:!1,text:this.props.data.heading},options:{className:"type-xl font-medium text-center mar-b-none rwd pad-t-xl",size:L.a.NONE,tag:L.b.h1}}),this.state.tabData&&this.state.tabData.length>0&&z(F.a,{defaultIndex:this.props.data.defaultIndex,data:this.state.tabData,bgType:"grey",name:"SigEnrollForm",onSelect:this.onTabSelect,bottomClassName:"pad-l-none pad-r-none pad-b-none ".concat(Y.marBNoneOverride," ").concat(Y.sigEnrollFormHubTabs),className:Y.maxWidthOverride}))}}]),r}(S.PureComponent);t.default=q}}]);