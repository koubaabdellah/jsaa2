var ArticleModal=function(){(this.modalContainer=document.querySelector(".modalWrap"),this.modalClose=document.querySelector(".modalClose"),this.modalEmailInput=document.getElementById("loginEmail"),this.modalSignInForm=document.querySelector(".modalForm form"),this.modalRegisterButton=document.querySelector(".modalBtnRegister"),(this.modalContainer||this.modalClose||this.modalEmailInput)!=null)&&typeof isLoggedIn=="function"&&(isLoggedIn()||!isArticle()||getSession("articleModalShown")||(this.displayModal(),this._bindEventListeners()))};ArticleModal.prototype._bindEventListeners=function(){this._onModalClose=this._handleModalClose.bind(this);this.modalClose.addEventListener("click",this._onModalClose);this._onEmailInputFocus=this._handleEmailInputFocus.bind(this);this.modalEmailInput.addEventListener("focus",this._onEmailInputFocus)};ArticleModal.prototype._handleModalClose=function(){this.modalContainer.classList.remove("active");setSession("articleModalShown",!0)};ArticleModal.prototype.displayModal=function(){this.modalContainer.classList.add("active")};ArticleModal.prototype._handleEmailInputFocus=function(){jRes.addFunc({breakpoint:"mobile",enter:function(){setTimeout(function(){var n=location.href;location.href="#loginEmail";history.replaceState(null,null,n)},400)}})};document.addEventListener("DOMContentLoaded",function(){window.ArticleModal=new ArticleModal(document.querySelector("#main"))});
